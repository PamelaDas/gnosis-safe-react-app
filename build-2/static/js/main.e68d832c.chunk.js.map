{"version":3,"sources":["theme/variables.js","components/layout/Col/index.tsx","logic/contracts/safeContracts.ts","logic/notifications/store/actions/enqueueSnackbar.tsx","logic/addressBook/store/actions/index.ts","logic/safe/utils/safeVersion.ts","logic/notifications/store/actions/closeSnackbar.ts","components/layout/Row/index.tsx","logic/wallets/transactionDataCheck/images/contractData.png","logic/wallets/transactionDataCheck/index.ts","logic/wallets/onboard.ts","logic/wallets/utils/walletList.ts","components/layout/Img/index.tsx","utils/strings.ts","assets/icons/alert.svg","assets/icons/check.svg","assets/icons/error.svg","components/layout/Divider/index.tsx","components/AppLayout/Header/components/Provider.tsx","components/AppLayout/Header/components/NetworkLabel.tsx","components/AppLayout/Header/components/NetworkSelector.tsx","components/Spacer/index.tsx","components/AppLayout/Header/assets/gnosis-safe-multisig-logo.svg","components/AppLayout/Header/components/Layout.tsx","components/AppLayout/Header/assets/key.svg","components/AppLayout/Header/assets/triangle.svg","components/AppLayout/Header/components/KeyRing.tsx","components/AppLayout/Header/components/ProviderDetails/ConnectDetails.tsx","components/AppLayout/Header/assets/wallet.svg","components/AppLayout/Header/components/ProviderDetails/UserDetails.tsx","components/AppLayout/Header/components/WalletIcon/icons/icon-wallet-connect.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-trezor.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-ledger.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-trust.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-lattice.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-fortmatic.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-portis.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-torus.svg","components/AppLayout/Header/components/WalletIcon/icons/icon-coinbase.svg","components/AppLayout/Header/components/WalletIcon/icons/index.ts","components/AppLayout/Header/components/WalletIcon/icons/icon-metamask.png","components/AppLayout/Header/components/WalletIcon/icons/icon-keystone.png","components/AppLayout/Header/components/WalletIcon/icons/icon-authereum.png","components/AppLayout/Header/components/WalletIcon/icons/icon-opera.png","components/AppLayout/Header/components/WalletIcon/icons/icon-squarelink.png","components/AppLayout/Header/components/WalletIcon/index.tsx","components/AppLayout/Header/components/ProviderInfo/ProviderAccessible.tsx","components/AppLayout/Header/components/ProviderInfo/ProviderDisconnected.tsx","components/AppLayout/Header/index.tsx","components/AppLayout/Footer/index.tsx","components/List/index.tsx","components/FlexSpacer/index.tsx","components/AppLayout/Sidebar/SafeHeader/index.tsx","utils/storage/useCachedState.ts","components/AppLayout/Sidebar/DebugToggle/index.tsx","components/AppLayout/Sidebar/index.tsx","components/AppLayout/MobileStart/assets/phone@2x.png","components/AppLayout/MobileNotSupported/index.tsx","components/AppLayout/index.tsx","components/SafeListSidebar/SafeList/SafeListItem.tsx","components/SafeListSidebar/selectors.ts","logic/safe/hooks/useLocalSafes.tsx","logic/safe/api/fetchSafesByOwner.ts","logic/safe/hooks/useOwnerSafes.ts","components/SafeListSidebar/SafeList/index.tsx","components/SafeListSidebar/style.ts","components/SafeListSidebar/AddSafeButton.tsx","components/SafeListSidebar/index.tsx","logic/cookies/store/selectors/index.ts","utils/intercom.ts","components/CookiesBanner/assets/alert-red.svg","components/CookiesBanner/assets/intercom.png","components/CookiesBanner/index.tsx","components/Notifier/actions.ts","logic/notifications/store/selectors/index.ts","components/Notifier/selector.ts","components/Notifier/index.ts","logic/currentSession/store/actions/addViewedSafe.ts","logic/safe/store/actions/fetchLatestMasterContractVersion.ts","logic/currencyValues/api/fetchAvailableCurrencies.ts","logic/safe/hooks/useLoadSafe.tsx","logic/currencyValues/store/actions/updateAvailableCurrencies.ts","logic/safe/hooks/useSafeActions.tsx","components/List/ListIcon.tsx","logic/addressBook/hooks/useAddressBookSync.ts","components/App/index.tsx","components/AppLayout/Sidebar/useSidebarItems.tsx","logic/safe/hooks/useSafeScheduledUpdates.tsx","components/GlobalErrorBoundary/index.tsx","logic/currentSession/store/selectors/index.ts","routes/index.tsx","routes/safe/container/hooks/useAddressedRouteKey.ts","utils/history.ts","components/Providers/index.tsx","components/StoreMigrator/utils.ts","components/StoreMigrator/index.tsx","components/Root/LegacyRouteRedirection.tsx","components/Root/index.tsx","utils/mm_warnings.ts","index.tsx","components/layout/Block/index.tsx","utils/googleAnalytics.ts","logic/wallets/store/actions/addProvider.ts","logic/safe/store/actions/transactions/gatewayTransactions.ts","logic/config/utils/index.ts","components/layout/Link/index.tsx","logic/addressBook/store/middleware/index.ts","logic/safe/transactions/awaitingTransactions.ts","logic/safe/store/middleware/notificationsMiddleware.ts","logic/safe/store/middleware/safeStorage.ts","store/index.ts","logic/config/store/middleware/index.ts","logic/cookies/utils/index.ts","components/PrefixedEthHashInfo/index.tsx","logic/cookies/model/cookie.ts","logic/currencyValues/store/reducer/currencyValues.ts","theme/size.ts","components/layout/Hairline/index.tsx","logic/wallets/store/actions/removeProvider.ts","logic/addressBook/utils/index.ts","logic/cookies/store/actions/openCookieBanner.ts","logic/appearance/reducer/appearance.ts","config/index.ts","components/layout/Button/index.tsx","utils/prefixedAddress.ts","routes/routes.ts","logic/safe/store/actions/updateSafe.ts","logic/safe/utils/safeStorage.ts","utils/storage/session.ts","logic/config/store/reducer/index.ts","config/utils.ts","logic/safe/store/actions/addOrUpdateSafe.ts","logic/safe/store/actions/updateTransactionStatus.ts","utils/constants.ts","logic/appearance/selectors/index.ts","logic/safe/store/actions/utils.ts","logic/safe/utils/shouldSafeStoreBeUpdated.ts","logic/safe/store/reducer/safe.ts","logic/wallets/store/actions/fetchProvider.ts","logic/safe/transactions/offchainSigner/EIP712Signer.ts","logic/tokens/store/selectors/index.ts","routes/safe/container/selector.ts","utils/isValidAddress.ts","logic/tokens/utils/formatAmount.ts","logic/exceptions/CodedException.ts","logic/safe/safeTxSigner.ts","utils/storage/Storage.ts","logic/config/store/actions/index.ts","logic/safe/store/actions/transactions/fetchTransactions/index.ts","logic/safe/store/models/safe.ts","logic/wallets/store/model/provider.ts","logic/contracts/spendingLimitContracts.ts","logic/addressBook/store/reducer/index.ts","logic/collectibles/store/actions/addCollectibles.ts","logic/tokens/utils/humanReadableValue.ts","logic/wallets/utils/unstoppableDomains.ts","logic/wallets/getWeb3.ts","logic/safe/utils/safeInformation.ts","logic/safe/utils/modules.ts","logic/collectibles/store/reducer/collectibles.ts","logic/safe/store/selectors/txStatus.ts","utils/storage/local.ts","logic/wallets/utils/network.ts","logic/wallets/store/reducer/provider.ts","logic/cookies/store/reducer/cookies.ts","logic/currentSession/store/reducer/currentSession.ts","logic/currentSession/utils/index.ts","logic/notifications/store/reducer/notifications.ts","logic/safe/store/reducer/localTransactions.ts","logic/tokens/store/reducer/tokens.ts","utils/objects.ts","logic/safe/store/reducer/gatewayTransactions.ts","components/Modal/index.tsx","logic/addressBook/store/selectors/index.ts","routes/safe/components/Transactions/TxList/utils.ts","logic/addressBook/model/addressBook.ts","logic/safe/store/selectors/utils.ts","logic/safe/store/selectors/gatewayTransactions.ts","components/ButtonHelper/index.tsx","components/AppLayout/Header/components/CircleDot.tsx","components/ChainIndicator/index.tsx","utils/requests.ts","components/LoaderContainer/index.tsx","logic/safe/api/fetchSafeTxGasEstimation.ts","logic/tokens/utils/tokenHelpers.ts","logic/tokens/api/fetchSafeCollectibles.ts","logic/collectibles/sources/Gnosis.ts","logic/collectibles/sources/index.ts","logic/collectibles/store/actions/fetchCollectibles.ts","logic/safe/store/actions/fetchSafe.ts","components/ConnectButton/index.tsx","logic/tokens/store/model/token.ts","logic/currencyValues/store/selectors/index.ts","logic/safe/transactions/offchainSigner/ethSigner.ts","logic/safe/transactions/offchainSigner/index.ts","logic/safe/utils/aboutToExecuteTx.ts","logic/safe/store/actions/removeSafe.ts","logic/tokens/store/actions/fetchSafeTokens.ts","logic/safe/store/actions/setLatestMasterContractVersion.ts","logic/safe/store/actions/clearSafeList.ts","logic/safe/transactions/offchainSigner/utils.ts","logic/currentSession/store/actions/loadCurrentSession.ts","logic/currentSession/store/actions/updateViewedSafes.ts","logic/currentSession/store/actions/clearCurrentSession.ts","logic/notifications/store/actions/removeSnackbar.ts","logic/safe/store/middleware/localTransactionsMiddleware.ts","logic/tokens/store/actions/addTokens.ts","logic/wallets/store/middlewares/providerWatcher.ts","logic/currencyValues/store/actions/setAvailableCurrencies.ts","logic/currentSession/store/actions/loadCurrentSessionFromStorage.ts","logic/safe/store/actions/loadSafesFromStorage.ts","logic/wallets/ethAddresses.ts","logic/safe/store/actions/transactions/utils/transactionHelpers.ts","logic/safe/store/actions/createTransaction.ts","routes/safe/components/Balances/assets/nft_icon.png","logic/safe/transactions/gas.ts","logic/safe/store/actions/transactions/fetchTransactions/loadGatewayTransactions.ts","logic/config/store/selectors/index.ts","logic/exceptions/registry.ts","logic/hooks/useStateHandler.tsx","components/layout/Paragraph/index.module.scss","components/layout/Img/index.module.scss","components/layout/Row/index.module.scss","logic/contracts/contracts.d.ts","components/layout/ButtonLink/index.module.scss","components/layout/Link/index.module.scss","components/forms/validator.ts","routes/safe/components/Apps/utils.ts","utils/date.ts","components/layout/ButtonLink/index.tsx","routes/safe/components/Balances/SendModal/index.tsx","logic/contracts/generateBatchRequests.ts","logic/safe/utils/spendingLimits.ts","logic/safe/store/models/types/gateway.d.ts","logic/safe/transactions/multisend.ts","logic/safe/store/actions/fetchTransactionDetails.ts","logic/safe/transactions/api/fetchSafeTransaction.ts","theme/mui.ts","utils/wrapInSuspense.tsx","config/chain.d.ts","assets/icons/info.svg","logic/safe/transactions/send.ts","logic/safe/transactions/txHistory.ts","logic/safe/transactions/notifiedTransactions.ts","utils/checksumAddress.ts","utils/css.ts","components/WalletSwitch/index.tsx","assets/icons/apps.svg","logic/currentSession/store/actions/removeViewedSafe.ts","logic/currencyValues/store/actions/setSelectedCurrency.ts","logic/appearance/actions/setCopyShortName.ts","logic/appearance/actions/setShowShortName.ts","components/Collapse/index.tsx","logic/hooks/useSafeAppUrl.tsx","logic/safe/api/fetchTokenCurrenciesBalances.ts","components/App/ReceiveModal.tsx","logic/safe/store/selectors/index.ts","components/layout/Col/index.module.scss","logic/contracts/safeContractErrors.ts","components/layout/Block/index.module.scss","logic/notifications/notificationTypes.ts","logic/notifications/notificationBuilder.tsx","logic/wallets/store/selectors/index.ts","components/layout/Paragraph/index.tsx","utils/storage/index.ts","config/cache/chains.ts","logic/wallets/ethTransactions.ts"],"names":["module","exports","background","boldFont","bolderFont","border","buttonLargeFontSize","connected","disabled","error","extraBoldFont","extraLargeFontSize","extraSmallFontSize","fancy","fontColor","fontSizeHeadingLg","fontSizeHeadingMd","fontSizeHeadingSm","fontSizeHeadingXs","headerHeight","largeFontSize","lg","lightFont","mainFontFamily","marginButtonImg","md","mediumFontSize","primary","regularFont","screenLg","screenMd","screenMdMax","screenSm","screenSmMax","screenXs","screenXsMax","secondary","secondaryFontFamily","secondaryText","secondaryBackground","sm","smallFontSize","warning","xl","xs","xxl","xxlFontSize","cx","classNames","bind","styles","Col","around","between","bottom","center","children","className","end","layout","lgOffset","margin","mdOffset","middle","overflow","smOffset","start","top","xsOffset","props","colClassNames","capitalize","undefined","proxyFactoryMaster","safeMaster","fallbackHandler","multiSend","SENTINEL_ADDRESS","getSafeContractDeployment","safeVersion","useOldestContractVersion","semverSatisfies","networkId","_getChainId","getDeployment","getChainById","l2","getSafeL2SingletonDeployment","getSafeSingletonDeployment","version","network","toString","getGnosisSafeContractInstance","web3","chainId","safeSingletonDeployment","LATEST_SAFE_VERSION","contractAddress","networkAddresses","Error","eth","Contract","abi","getProxyFactoryContractInstance","proxyFactoryDeployment","getProxyFactoryDeployment","getFallbackHandlerContractInstance","fallbackHandlerDeployment","getFallbackHandlerDeployment","getMultiSendContractInstance","multiSendDeployment","getMultiSendCallOnlyDeployment","getSignMessageLibAddress","signMessageLibDeployment","getSignMessageLibDeployment","getSignMessageLibContractInstance","getMasterCopyAddressFromProxyAddress","proxyAddress","a","getSafeInfo","res","masterCopyAddress","implementation","value","console","log","instantiateSafeContracts","getWeb3","getChainIdFrom","getSafeMasterContract","getSafeMasterContractAddress","options","address","getFallbackHandlerContractAddress","getMultisendContract","getMultisendContractAddress","getSafeDeploymentTransaction","safeAccounts","numConfirmations","safeCreationSalt","gnosisSafeData","methods","setup","ZERO_ADDRESS","EMPTY_DATA","encodeABI","createProxyWithNonce","estimateGasForDeployingSafe","userAccount","proxyFactoryData","calculateGasOf","data","from","to","then","getGnosisSafeInstanceAt","safeAddress","ENQUEUE_SNACKBAR","addSnackbar","createAction","enqueueSnackbar","notification","key","onClick","dispatch","Date","getTime","Math","random","newNotification","action","actionKey","closeSnackbarAction","ADDRESS_BOOK_ACTIONS","addressBookAddOrUpdate","ADD_OR_UPDATE","addressBookRemove","REMOVE","addressBookSafeLoad","SAFE_LOAD","addressBookImport","IMPORT","addressBookMigrate","MIGRATE","addressBookSync","SYNC","FEATURES_BY_VERSION","FEATURES","SAFE_TX_GAS_OPTIONAL","safeNeedsUpdate","currentVersion","latestVersion","current","semverValid","latest","semverLessThan","enabledFeatures","chainFeatures","getChainInfo","features","filter","feat","feature","isEnabledByVersion","hasFeature","name","includes","checkIfSafeNeedsUpdate","lastSafeVersion","needUpdate","getCurrentMasterContractLastVersion","VERSION","call","safeMasterVersion","getSafeVersionInfo","logError","Errors","_606","message","CLOSE_SNACKBAR","closeSnackbar","Row","align","grow","testId","rowClassNames","row","USER_ENABLED_LEDGER_TX_DATA","transactionDataCheck","currentOnboardInstance","stateAndHelpers","wallet","isTransactionDataEnabled","loadFromStorage","toUpperCase","WALLET_PROVIDER","LEDGER","heading","description","contractDataImage","eventCode","button","text","onclick","saveToStorage","icon","wallets","rpcUrl","getRpcServiceUrl","walletName","WALLETS","METAMASK","preferred","desktop","WALLET_CONNECT","rpc","parseInt","bridge","TREZOR","appUrl","email","LedgerTransport","window","TransportNodeHid","KEYSTONE","appName","TRUST","LATTICE","FORTMATIC","apiKey","FORTMATIC_KEY","PORTIS","PORTIS_ID","AUTHEREUM","TORUS","COINBASE","WALLET_LINK","OPERA","OPERA_TOUCH","NETWORK_NAMES","CHAIN_ID","ETHEREUM","onboard","getState","appNetworkId","Onboard","lastUsedAddress","providerName","lastNetworkId","networkName","getChainName","toLowerCase","subscriptions","provider","setWeb3","store","fetchProvider","removeProvider","keepStorageKey","walletSelect","isDesktop","map","w","getDisabledWallets","walletCheck","checkName","getOnboardConfiguration","Img","alt","bordered","fullwidth","style","classes","img","textShortener","charsEnd","charsStart","ellipsis","amountOfCharsToKeep","finalStringLength","length","r","RegExp","matchResult","exec","textStart","textEnd","trimSpaces","trim","sameString","str1","str2","borderRight","height","Divider","Provider","myRef","React","this","render","info","open","toggle","root","ref","IconButton","expand","disableRipple","withStyles","alignItems","display","flexBasis","cursor","flex","padding","paddingLeft","paddingRight","width","StyledCol","styled","StyledParagraph","Paragraph","$theme","backgroundColor","textColor","NetworkLabel","networkInfo","chain","size","theme","chainName","marginRight","networkList","justifyContent","popper","zIndex","borderRadius","boxShadow","marginTop","minWidth","useStyles","makeStyles","StyledLink","colors","StyledDivider","NetworkSelector","clickAway","networkRef","useRef","history","useHistory","useSelector","currentChainId","onNetworkSwitch","useCallback","e","preventDefault","newRoute","getNetworkRootRoutes","find","push","route","Popper","anchorEl","placement","popperOptions","positionFixed","TransitionProps","Grow","ClickAwayListener","mouseEvent","onClickAway","touchEvent","component","href","type","color","flexGrow","Spacer","WalletPopup","providerDetails","onClose","summary","flexWrap","position","logo","flexShrink","maxWidth","providerInfo","useStateHandler","clickAwayNetworks","openNetworks","toggleNetworks","isWrongChain","shouldSwitchWalletChain","WELCOME_ROUTE","src","SafeLogo","WalletSwitch","providerRef","createStyles","dot","KeyRing","circleSize","dotRight","dotSize","dotTop","hideDot","keySize","mode","keyStyle","marginLeft","buildKeyStyleFrom","dotStyle","right","buildDotStyleFrom","isWarning","TriangleIcon","KeyIcon","Block","StyledCard","Card","letterSpacing","textAlign","connect","connectText","noMargin","weight","ConnectButton","container","flexDirection","identicon","user","lineHeight","details","labels","fontSize","textTransform","buttonRow","disconnectButton","marginBottom","dashboard","dashboardText","connectedBg","UserDetails","onDisconnect","openDashboard","userAddress","connectedNetwork","networkSelector","justify","PrefixedEthHashInfo","hash","showCopyBtn","explorerUrl","getExplorerInfo","shortenHash","Hairline","WalletIcon","ChainIndicator","Button","fullWidth","variant","WALLET_ICONS","WALLETCONNECT","walletConnectIcon","trezorIcon","ledgerIcon","trustIcon","latticeIcon","fortmaticIcon","portisIcon","torusIcon","COINBASE_WALLET","coinbaseIcon","SQUARELINK","walletIcon","fontFamily","networkLabel","providerContainer","account","ProviderInfo","currentNetwork","addressColor","transform","showAvatar","avatarSize","textSize","whiteSpace","HeaderComponent","providerNameSelector","userAccountSelector","loaded","loadedSelector","available","availableSelector","useDispatch","useEffect","tryToConnectToLastUsedProvider","loadLastUsedProvider","lastUsedProvider","ProviderAccessible","footer","boxSizing","item","link","textDecoration","sep","buttonLink","Footer","appVersion","process","date","getFullYear","Link","cn","target","openCookieBanner","cookieBannerOpen","StyledListItem","ListItem","StyledListSubItem","StyledListItemText","ListItemText","fonts","placeHolder","StyledListSubItemText","TextAndBadgeWrapper","div","StyledBadge","Badge","palette","paper","overflowX","webkitBoxShadow","outline","nested","spacing","isSubItemSelected","subItems","some","selected","List","items","useState","groupCollapseStatus","setGroupCollapseStatus","onItemClick","event","prevStatus","getListItem","isSubItem","ListItemAux","ListItemTextAux","badgeContent","invisible","badge","label","forEach","location","pathname","Collapse","in","timeout","unmountOnExit","disablePadding","subItem","FlexSpacer","TOGGLE_SIDEBAR_BTN_TESTID","Container","IdenticonContainer","StyledIcon","Icon","IconContainer","StyledButton","StyledTextLabel","Text","chainInfo","StyledTextSafeName","StyledPrefixedEthHashInfo","StyledLabel","StyledText","SafeHeader","safeName","balance","granted","onToggleSafeList","onReceiveClick","onNewTransactionClick","copyChainPrefix","copyShortNameSelector","shortName","extractShortChainName","ButtonHelper","tooltip","textToCopy","useCachedState","cache","setCache","saved","local","getItem","setItem","StyledContainer","DebugToggle","LS_USE_PROD_CGW","enabled","setEnabled","control","checked","onChange","prev","setTimeout","reload","HelpContainer","HelpCenterLink","Sidebar","IS_PRODUCTION","title","iconSize","iconType","Overlay","alpha","overlay","ModalApp","StyledImg","StyledCloseIcon","separator","MobileNotSupported","rel","Phone","HeaderWrapper","nav","BodyWrapper","SidebarWrapper","aside","white","ContentWrapper","Layout","sidebarItems","mobileNotSupportedClosed","setMobileNotSupportedClosed","useLocation","hasFooter","matchPath","path","SAFE_ROUTES","SETTINGS","Header","visibility","SafeListItem","onSafeClick","ethBalance","showAddSafeLink","shouldScrollToSafe","state","addressBookName","currentSafeAddress","extractSafeAddress","isCurrentSafe","sameAddress","safeRef","nativeCurrency","nativeCurrencySymbol","symbol","scrollIntoView","behavior","routesSlug","generateSafeRoute","ASSETS_BALANCES","formatAmount","LOAD_SPECIFIC_SAFE_ROUTE","setChainId","sortedSafeListSelector","createSelector","safesWithNamesAsList","safes","sort","b","useLocalSafes","getChains","reduce","localSafes","setLocalSafes","addedAddresses","join","localSafe","getLocalNetworkSafesById","prevSafes","fetchSafesByOwner","ownerAddress","getOwnedSafes","GATEWAY_URL","checksumAddress","useOwnerSafes","connectedWalletAddress","ownerSafes","load","_610","StyledDot","span","StyledList","MuiList","listItemCollapse","paddingTop","paddingBottom","PlaceholderText","isNotLoadedViaUrl","loadedViaUrl","isSameAddress","addrA","addrB","SafeList","ownedSafes","curChainId","isCurrentNetwork","ownedSafesOnNetwork","localSafesOnNetwork","uniqBy","shouldExpandOwnedSafes","safe","defaultExpanded","ownedAddress","isAdded","String","sidebarWidth","sidebarMarginLeft","sidebarMarginTop","useSidebarStyles","sidebar","sidebarPaper","maxHeight","topComponents","flexFlow","searchWrapper","divider","spacer","headerPlaceholder","minHeight","addSafeBtn","searchIcon","searchInput","searchContainer","searchRoot","searchIconInput","AddSafeButton","onAdd","Fab","strong","SafeListSidebarContext","createContext","isOpen","toggleSidebar","SafeListSidebar","setIsOpen","trackEvent","useAnalytics","SAFE_EVENTS","SIDEBAR","prevIsOpen","Drawer","ModalProps","onKeyDown","COOKIES_REDUCER_ID","get","intercomLoaded","isIntercomLoaded","getIntercomUserId","loadFromCookie","COOKIES_KEY_INTERCOM","cookiesState","userId","crypto","randomBytes","newCookieState","cookieConfig","expires","saveCookie","loadIntercom","APP_ID","INTERCOM_ID","d","document","s","createElement","async","x","getElementsByTagName","parentNode","insertBefore","intercomUserId","onload","Intercom","app_id","user_id","closeIntercom","REACT_APP_BUILD_FOR_DESKTOP","left","content","fontWeight","form","columnGap","gridTemplateColumns","rowGap","formItem","intercomAlert","svg","intercomImage","CookiesBanner","showAnalytics","setShowAnalytics","showIntercom","setShowIntercom","localNecessary","setLocalNecessary","localAnalytics","setLocalAnalytics","localIntercom","setLocalIntercom","getAppUrl","useSafeAppUrl","showBanner","isSafeAppView","COOKIES_KEY","acceptedIntercom","acceptedAnalytics","acceptedNecessary","newState","loadGoogleAnalytics","fetchCookiesFromStorage","acceptCookiesHandler","closeCookiesBannerHandler","removeCookies","CookiesBannerForm","alertMessage","AlertRedIcon","Checkbox","IntercomIcon","intercomAlertDisplayed","removeSnackbar","notificationsListSelector","NOTIFICATIONS_REDUCER_ID","notifications","toList","createStructuredSelector","Notifier","displayed","storeDisplayed","id","newSnacks","currentSnacks","notExists","i","newSnack","dismissed","reason","Component","withSnackbar","selector","actions","addViewedSafe","updateViewedSafes","fetchLatestMasterContractVersion","setLatestMasterContractVersion","fetchAvailableCurrencies","getFiatCurrencies","useLoadSafe","fetchSafe","fetchSafeTokens","availableCurrencies","setAvailableCurrencies","_607","Promise","resolve","INITIAL_STATE","sendFunds","selectedToken","showReceive","useSafeActions","safeActionsState","setSafeActionsState","onShow","useMemo","prevState","onHide","showSendFunds","token","hideSendFunds","ListItemIcon","useAddressBookSync","onStorageUpdate","newValue","oldValue","endsWith","ADDRESS_BOOK_REDUCER_ID","JSON","parse","addEventListener","removeEventListener","Frame","success","App","useContext","currentSafeWithNames","currentSafeBalance","totalFiatBalance","addressFromUrl","currentCurrency","currentCurrencySelector","grantedSelector","featuresEnabled","currentSafeFeaturesEnabled","safeAppsEnabled","SAFE_APPS","isCollectiblesEnabled","ERC721","isSpendingLimitEnabled","SPENDING_LIMIT","needsUpdate","matchSafe","useRouteMatch","ADDRESSED_ROUTE","matchSafeWithSidebarSection","SAFE_SUBSECTION_ROUTE","makeEntryItem","ListIcon","url","currentSafeRoutes","generatePrefixedAddressRoutes","getShortName","assetsSubItems","ASSETS_BALANCES_COLLECTIBLES","settingsSubItems","SETTINGS_DETAILS","SETTINGS_APPEARANCE","SETTINGS_OWNERS","SETTINGS_POLICIES","SETTINGS_SPENDING_LIMIT","SETTINGS_ADVANCED","Boolean","TRANSACTIONS_HISTORY","ADDRESS_BOOK","APPS","useSidebarItems","pollCount","setPollCount","timer","SAFE_POLLING_INTERVAL","clearTimeout","useSafeScheduledUpdates","formattedTotalBalance","formatAmountInUsFormat","onReceiveHide","loadSafesFromStorage","loadCurrentSessionFromStorage","anchorOrigin","vertical","horizontal","variantSuccess","variantError","variantWarning","variantInfo","iconVariant","ErrorIcon","InfoIcon","CheckIcon","AlertIcon","maxSnack","AppLayout","SendModal","activeScreenType","Modal","handleClose","paperClassName","ReceiveModal","WrapperAppWithSidebar","Wrapper","Content","LinkWrapper","LinkContent","GlobalErrorBoundaryFallback","componentStack","LAST_CHUNK_FAILURE_RELOAD_KEY","test","lastReload","loadFromSessionStorage","isNaN","removeFromSessionStorage","now","saveToSessionStorage","handleChunkError","as","ROOT_ROUTE","lastViewedSafe","currentSession","CURRENT_SESSION_REDUCER_ID","restored","viewedSafes","Welcome","lazy","CreateSafePage","LoadSafePage","SafeContainer","Routes","search","defaultSafe","trackPage","setKey","match","prefixedSafeAddress","params","SAFE_ADDRESS_SLUG","useAddressedRouteKey","trackedPath","hasPrefixedSafeAddressInUrl","replace","getPrefixedSafeAddressSlug","isDeeplinkedTx","TRANSACTIONS_SINGULAR","TRANSACTION_ID_SLUG","extractPrefixedSafeAddress","currentShortName","DEFAULT_CHAIN_ID","switchNetworkWithUrl","exact","OPEN_SAFE_ROUTE","LOAD_SAFE_ROUTE","Providers","styledTheme","muiTheme","MIGRATION_KEY","IMMORTAL_PREFIX","networks","getSubdomainUrl","hostname","getMigratedNetworks","migratedNetworks","localStorage","parsePayload","entry","trackError","_703","handleMessage","receivedCallback","addressBookCallback","immortalDataCallback","payload","origin","self","isSameOrigin","startsWith","isTrustedOrigin","addressBookData","Object","keys","storageKey","StoreMigrator","networksToMigrate","setNetworksToMigrate","networkIndex","setNetworkIndex","isNetworkSubdomain","remainingNetworks","migrated","getNetworksToMigrate","val","removeItem","err","nextNetwork","index","onMessage","stringify","addMigratedNetwork","saveMigratedKeyToStorage","hidden","LEGACY_SAFE_ADDRESS_SLUG","LegacyRouteRedirection","PUBLIC_URL","chainLabel","split","safeAddressIndex","indexOf","newPathname","slice","removePreloader","getElementById","remove","RootConsumer","hasChains","setHasChains","isError","setIsError","initChains","loadChains","isValidChainId","_904","CodedException","wrapInSuspense","Root","fallback","GlobalErrorBoundary","ethereum","isMetaMask","autoRefreshOnNetworkChange","BigNumber","set","EXPONENTIAL_AT","Sentry","dsn","SENTRY_DSN","release","integrations","Integrations","BrowserTracing","sampleRate","ignoreErrors","ReactDOM","paddingStyle","USER_EVENTS","CREATE_SAFE","category","WALLET_EVENTS","CONNECT_WALLET","SAFE_EVENT","SAFE_APP","COINS","COLLECTIBLES","TRANSACTIONS","SAFE_APP_EVENT","SAFE_APP_EVENTS","PIN","UNPIN","SETTINGS_EVENTS","ADVANCED","APPEARANCE","DETAILS","OWNERS","COOKIES_LIST","shouldUseGoogleAnalytics","trackAnalyticsEvent","fieldsObject","entries","acc","hitType","ReactGA","ga","analyticsLoaded","customDimensions","anonymizeIp","dimension1","gaTrackingId","GOOGLE_ANALYTICS_ID","initialize","analyticsAllowed","setAnalyticsAllowed","page","args","pageview","trackAnalyticsPage","subDomain","host","cookie","removeCookie","ADD_PROVIDER","addProvider","ADD_HISTORY_TRANSACTIONS","addHistoryTransactions","ADD_QUEUED_TRANSACTIONS","addQueuedTransactions","newChainId","_setChainId","setChainIdAction","GnosisLink","innerRef","internal","LinkElement","refs","LinkWithRef","watchedActions","values","getAwaitingGatewayTransactions","allTransactions","tx","txStatus","LocalTransactionStatus","AWAITING_CONFIRMATIONS","isMultisigExecutionInfo","executionInfo","addressInList","missingSigners","ADD_OR_UPDATE_SAFE","LAST_TIME_USED_LOGGED_IN_ID","sendAwaitingTransactionNotification","awaitingTxsSubmissionDateList","notificationKey","notificationClickedCb","lastTimeUserLoggedInForSafes","lastTimeUserLoggedIn","submissionDate","enhanceSnackbarForAction","NOTIFICATIONS","TX_WAITING_MSG","notificationsMiddleware","next","handledAction","safesMap","safesAsMap","executedTxNotification","aboutToExecuteTx","transactions","isTransactionSummary","transaction","awaitingTransactions","timestamp","currentSafe","getLocalTxStatus","localStatuses","isUserAnOwner","onNotificationClicked","isUserOwner","SAFE_NEW_VERSION_AVAILABLE","REMOVE_SAFE","UPDATE_SAFE","CURRENCY_KEY","CURRENCY_REDUCER_ID","LS_CONFIG","states","APPEARANCE_REDUCER_ID","CONFIG_REDUCER_ID","namespace","LS_NAMESPACE","namespaceSeparator","LS_SEPARATOR","disableWarnings","preloadedState","initialCurrencyState","initialAppearanceState","initialConfigState","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","save","saveSafes","toJSON","providerWatcher","shouldAvoidUpdatesNotifications","getNotificationsFromTxType","TX_NOTIFICATION_TYPES","ADDRESS_BOOK_NEW_ENTRY","afterExecution","noMoreConfirmationsNeeded","ADDRESS_BOOK_DELETE_ENTRY","ADDRESS_BOOK_IMPORT_ENTRIES","CONFIG_ACTIONS","SET_CHAIN_ID","clearSafeList","clearCurrentSession","localTransactionsMiddleware","reducers","PROVIDER_REDUCER_ID","providerReducer","SAFE_REDUCER_ID","safeReducer","NFT_ASSETS_REDUCER_ID","nftAssetReducer","NFT_TOKENS_REDUCER_ID","nftTokensReducer","TOKEN_REDUCER_ID","tokensReducer","GATEWAY_TRANSACTIONS_ID","gatewayTransactionsReducer","LOCAL_TRANSACTIONS_ID","localTransactionsReducer","notificationsReducer","currencyValuesReducer","cookiesReducer","addressBookReducer","currentSessionReducer","configReducer","appearanceReducer","rootReducer","combineReducers","createStore","PREFIX","withoutPrefix","prefix","Cookies","stringifiedValue","_700","_701","domain","rest","showChainPrefix","showShortNameSelector","parsePrefixedAddress","shouldShowShortName","shouldCopyShortName","selectedCurrency","handleActions","SET_CURRENT_CURRENCY","SET_AVAILABLE_CURRENCIES","getSize","calculatedStyles","calculateStyleFrom","mergedStyles","REMOVE_PROVIDER","walletReset","resetWeb3","ADDRESS_BOOK_INVALID_NAMES","isValidAddressBookName","invalidName","filterContractAddressBookEntries","addressBook","all","mustBeEthereumContractAddress","abFlags","_","filterAddressEntries","addressBookEntries","inputValue","inputLowerCase","foundName","foundAddress","getEntryIndex","addressBookEntry","findIndex","hasSameAddressAndChainId","arrVal","othVal","OPEN_COOKIE_BANNER","copyShortName","showShortName","SET_COPY_SHORT_NAME","SET_SHOW_SHORT_NAME","LOCAL_CONFIG_KEY","_chainId","localItem","getInitialChainId","emptyChainInfo","getNativeCurrency","formatRpcServiceUrl","TOKEN","authentication","RPC_AUTHENTICATION","API_KEY_PATH","rpcUri","INFURA_TOKEN","getPublicRpcUrl","publicRpcUri","getSafeAppsRpcServiceUrl","safeAppsRpcUri","SAFE_APPS_RPC_TOKEN","getGasPriceOracles","gasPrice","GAS_PRICE_TYPE","ORACLE","getFixedGasPrice","FIXED","getTxServiceUrl","transactionService","TX_SERVICE_VERSION","disabledWallets","getExplorerUriTemplate","blockExplorerUriTemplate","getExplorerUrl","URL","getHashedExplorerUrl","param","uri","evalTemplate","fetchContractAbi","apiUri","api","ETHERSCAN_API_KEY","finalUrl","fetch","response","ok","status","result","json","getContractABI","GnoButton","calculatedStyle","calculateStyleBased","isValidPrefix","fullAddress","parts","createBrowserHistory","basename","hashRegExp","chainSpecificSafeAddressPathRegExp","SAFE_SECTION_ROUTE","generatePath","TRANSACTIONS_QUEUE","replaceAll","STANDARD_SAFE_ROUTES","routes","updateSafe","SAFES_KEY","loadStoredSafes","getLocalSafes","storedSafes","getStoragePrefix","loadStoredNetworkSafeById","getLocalSafe","session","Storage","sessionStorage","getNativeCurrencyAddress","addOrUpdateSafe","UPDATE_TRANSACTION_STATUS","updateTransactionStatus","REACT_APP_ENV","RINKEBY","REACT_APP_INTERCOM_ID","REACT_APP_GOOGLE_ANALYTICS","REACT_APP_SENTRY_DSN","REACT_APP_PORTIS_ID","REACT_APP_FORTMATIC_KEY","REACT_APP_INFURA_TOKEN","REACT_APP_SAFE_APPS_RPC_INFURA_TOKEN","REACT_APP_LATEST_SAFE_VERSION","COLLECTIBLES_SOURCE","REACT_APP_COLLECTIBLES_SOURCE","REACT_APP_ETHERSCAN_API_KEY","SPENDING_LIMIT_MODULE_ADDRESS","REACT_APP_ETHGASSTATION_API_KEY","REACT_APP_IPFS_GATEWAY","REACT_APP_SPENDING_LIMIT_MODULE_ADDRESS","REACT_APP_GATEWAY_URL","isProdGateway","shouldExecuteTransaction","safeInstance","nonce","lastTx","safeNonce","getThreshold","thresholdAsString","Number","SUCCESS","extractRemoteSafeInfo","remoteSafeInfo","safeInfo","modules","spendingLimits","safeInfoModules","buildModulesLinkedList","getSpendingLimits","threshold","guard","collectiblesTag","txQueuedTag","txHistoryTag","buildSafeOwners","remoteSafeOwners","localSafeOwners","isStateSubset","superObj","subObj","every","isEqual","shouldSafeStoreBeUpdated","newSafeProps","oldSafeProps","buildSafe","storedSafe","owners","mergeNewTagsInSafe","newSafe","mergeIn","updateSafeProps","prevSafe","withMutations","record","Map","isMap","update","isList","merge","getIn","updateIn","makeSafe","hasIn","setIn","deleteIn","CLEAR_SAFE_LIST","SET_LATEST_MASTER_CONTRACT_VERSION","latestMasterContractVersion","processProviderResponse","walletRecord","makeProvider","handleProviderNotification","UNLOCK_WALLET_MSG","CONNECT_WALLET_ERROR_MSG","getProviderInfo","EIP712_DOMAIN_BEFORE_V130","EIP712_DOMAIN","getEip712MessageTypes","EIP712Domain","SafeTx","generateTypedDataFrom","baseGas","gasToken","operation","refundReceiver","safeTxGas","valueInWei","eip712WithChainId","typedData","types","verifyingContract","primaryType","getEIP712Signer","txArgs","method","jsonTypedData","signedTypedData","jsonrpc","sender","reject","currentProvider","sendAsync","signature","sig","adjustV","tokensSelector","tokenListSelector","tokens","sortBy","safeEthAsTokenSelector","getEthAsToken","extendedSafeTokensSelector","currentSafeBalances","safeBalances","tokensList","ethAsToken","extendedTokens","Array","isArray","safeBalance","tokenAddress","baseToken","safeKnownCoins","safeTokens","nativeCurrencyAsToken","isValidAddress","isHexStrict","isAddress","lt1kFormatter","Intl","NumberFormat","maximumFractionDigits","lt10kFormatter","lt100kFormatter","lt1mFormatter","lt10mFormatter","lt100mFormatter","lt1000tFormatter","notation","number","numberFloat","parseFloat","format","usNumberFormatter","currency","minimumFractionDigits","amount","extraMessage","context","code","extraInfo","getCode","codePrefix","ErrorCodes","___0","stack","newStack","line","track","checkIfOffChainSignatureIsPossible","isExecution","isSmartContractWallet","SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES","getPreValidatedSignatures","initialString","generateSignaturesFromTxConfirmations","confirmations","preApprovingOwner","confirmationsMap","owner","ownerA","ownerB","localeCompare","sigs","DEFAULT_PREFIX","storage","prefixKey","fullKey","_702","loadTxs","loadFn","actionFn","loadHistoryTransactions","loadQueuedTransactions","Record","balances","recurringUser","UNKNOWN","smartContractWallet","hardwareWallet","getSpendingLimitContract","SpendingLimitModule","batchLoadEntries","entryIndex","uniqWith","splice","ADD_NFT_ASSETS","ADD_NFT_TOKENS","addNftAssets","nftAssets","addNftTokens","nftTokens","humanReadableValue","decimals","times","toFixed","fromTokenUnit","toTokenUnit","ROUND_DOWN","unstoppableResolver","httpProviderOptions","web3ReadOnly","getWeb3ReadOnly","Web3","providers","HttpProvider","setWeb3ReadOnly","getAccountFrom","web3Provider","getAccounts","accounts","getChainId","isHardwareWallet","contractCode","web3Instance","getAddressFromDomain","isValidCryptoDomainName","UnstoppableResolution","blockchain","cns","addr","getAddressFromUnstoppableDomain","ens","getAddress","getContentFromENS","getContenthash","isTxPendingError","getSDKWeb3Adapter","signerAddress","Web3Adapter","getSDKWeb3ReadOnly","getSafeSDK","ethAdapter","isL1SafeMasterCopy","Safe","create","GATEWAY_ERROR","fetchSafeInfo","safeNotFound","_605","_613","moduleAddress","getDisableModuleTxData","modulePair","previousModule","disableModule","enableModuleTx","Operation","CALL","txData","enableModule","notifiedTransaction","SETTINGS_CHANGE_TX","isModuleEnabled","localTxStatusesState","AWAITING_EXECUTION","detailedExecutionInfo","txDetails","isMultiSigExecutionDetails","safeTxHash","pop","statusesOnChain","selectTxStatus","WALLET_ERRORS","requestSwitch","request","numberToHex","requestAdd","rpcUrls","blockExplorerUrls","switchNetwork","_301","_300","shouldSwitchNetwork","desiredNetwork","networkVersion","switchWalletChain","_state","initialState","LOAD_CURRENT_SESSION","UPDATE_VIEWED_SAFES","concat","saveCurrentSessionToStorage","REMOVE_VIEWED_SAFE","CLEAR_CURRENT_SESSION","CURRENT_SESSION_STORAGE_KEY","getCurrentSessionFromStorage","dismissAll","REMOVE_SNACKBAR","delete","LOCAL_TRANSACTIONS_STATUSES_KEY","ADD_TOKENS","sortObject","obj","order","isTail","newHistory","cloneDeep","isDateLabel","startOfDate","getLocalStartOfDate","newNext","newQueued","isLabel","isConflictHeader","txNonce","oldNext","queued","newTx","warn","UPDATE_TRANSACTION_DETAILS","transactionId","clonedStoredTxs","txLocationLoop","txLocation","txGroup","txIndex","ModalStyled","ModalMUI","GnoModal","BackdropProps","HeaderSection","TitleStyled","TitleSRC","Title","withoutMargin","ButtonStatus","BodySection","withoutPadding","FooterSection","withoutBorder","LoaderText","Buttons","cancelButtonProps","confirmButtonProps","cancelDisabled","cancelStatus","READY","cancelText","LOADING","cancelTestId","cancelProps","confirmDisabled","confirmStatus","confirmText","confirmTestId","confirmProps","DISABLED","Body","addressBookState","addressBookAsMap","addressBookMap","getNameByAddress","addressBookEntryName","ADDRESS_BOOK_DEFAULT_NAME","currentNetworkAddressBook","currentNetworkAddressBookAddresses","currentNetworkAddressBookAsMap","NOT_AVAILABLE","getAmountWithSymbol","formatted","nonFormattedValue","finalValue","txAmount","getTxAmount","txInfo","isTransferTxInfo","transferInfo","TokenType","ERC20","tokenSymbol","NATIVE_COIN","getTxTokenData","isCancelTxDetails","isCustomTxInfo","isCancellation","list","getTxTo","recipient","factory","makeTxFromDetails","getMissingSigners","signers","signer","isModuleExecutionInfo","confirmationsRequired","confirmationsSubmitted","getMultisigExecutionInfo","isTxQueued","submittedAt","executedAt","txId","safeAppInfo","txMatch","deeplinkMatch","isAwaitingExecution","PENDING_FAILED","makeAddressBookEntry","createHashBasedSelector","createSelectorCreator","defaultMemoize","memoize","gatewayTransactions","historyTransactions","pendingTransactions","nextTransactions","queuedTransactions","txLocations","getTransactionWithLocationByAttribute","attrDetails","attributeName","attributeValue","storedTxs","foundTx","getTransactionByAttribute","_gatewayTransactions","_safeAddress","txWithLocation","getTransactionsByNonce","txsByNonce","txFoundByNonce","getLastTransaction","nextTxs","queuedTxs","historyTxs","queuedNonces","highestQueuedNonce","flatten","getLastTxNonce","UnStyledButton","dataTestId","CircleDot","htmlColor","noLabel","FETCH_STATUS","LoadingContainer","fetchSafeTxGasEstimation","body","postSafeGasEstimation","getRecommendedNonce","recommendedNonce","makeToken","tokenBalance","getBalanceAndDecimalsFromToken","fetchSafeCollectibles","getCollectibles","Gnosis","_getAssetsFromTokens","logoUri","tokenName","_fetch","collectibles","erc721Assets","erc721Tokens","_604","extractTokens","extractAssets","assets","extractedAssets","asset","extractNFTAsset","assetAddress","image","imageUri","NFTIcon","tokenId","mainAssetAddress","numberOfTokens","slug","SOURCES","gnosis","fetchCollectibles","source","catch","remote","localSafeInfo","isInitialLoad","_102","shouldUpdateCollectibles","shouldUpdateTxHistory","shouldUpdateTxQueued","fetchTransactions","checkWallet","onboardUser","walletSelected","onConnectButtonClick","fiatBalance","availableCurrenciesSelector","ethSigner","SIGNERS","EIP712_V3","EIP712_V4","EIP712","ETH_SIGN","getSupportedSigners","isHW","safeSupportsEthSigner","tryOffChainSigning","signerByWallet","signingFunc","METAMASK_REJECT_CONFIRM_TX_ERROR_CODE","isKeystoneError","setNonce","newNonce","getNotification","executedTx","notificationsQueue","STANDARD_TX","FAILED","afterExecutionError","removeSafe","extractDataFromResult","tokenInfo","fetchTokenCurrenciesBalances","tokenCurrenciesBalances","_601","fiatTotal","addTokens","signingMethod","sigV","txHash","hasPrefix","rsvSig","Buffer","v","recoveredData","ecrecover","recoveredAddress","bufferToHex","pubToAddress","isTxHashSignedWithPrefix","loadCurrentSession","localTxStatuses","watcherInterval","LAST_USED_PROVIDER_KEY","providerWatcherMware","currentProviderProps","toJS","clearInterval","setInterval","networkChanged","removeFromStorage","safeProps","firstAddress","secondAddress","isUserAnOwnerOfAnySafe","isValidEnsName","generateSafeTxHash","TypedDataUtils","sign","navigateToTx","txRoute","createTransaction","onUserConfirm","onError","navigateToTransactionsTab","safeTxGasArg","ethParameters","delayExecution","providerSelector","currentSafeCurrentVersion","nextNonce","_616","estimateSafeTxGas","txRecipient","beforeExecutionKey","beforeExecution","PENDING","saveTxToHistory","getExecutionTransaction","getApprovalTransaction","gas","ethGasLimit","getGasParam","ethGasPriceInGWei","ethNonce","sendParams","send","once","_803","receipt","transactionHash","executeDataUsedSignatures","execTransaction","getContractErrorMessage","contractErrorMessage","TX_PENDING_MSG","estimateTransactionGasLimit","txConfirmations","isOffChainSignature","approvalAndExecution","estimateGasForTransactionExecution","estimateGasForTransactionApproval","estimationData","checkTransactionExecution","gasLimit","getTransactionHash","approveTransactionTxData","approveHash","EIP1559","historyPointers","loadPagedHistoryTransactions","_608","getTransactionHistory","results","previous","_602","queuedPointers","loadPagedQueuedTransactions","getTransactionQueue","_603","config","openInitialValue","setOpen","stopPropagation","prevOpen","CONTRACT_ERRORS","CONTRACT_ERROR_CODES","required","mustBeInteger","isInteger","mustBeFloat","minValue","min","inclusive","maxValue","max","mustBeHexData","utils","mustBeAddressHash","mustBeEthereumAddress","prefixError","mustHaveValidPrefix","DOMAIN_LOOKUP","minMaxLength","minLen","maxLen","testValue","minMaxDecimalsLength","ADDRESS_REPEATED_ERROR","THRESHOLD_ERROR","uniqueAddress","addresses","addressFromList","addressIsNotCurrentSafe","composeValidators","validators","validator","differentFrom","diffValue","validAddressBookName","lengthError","APPS_STORAGE_KEY","PINNED_SAFE_APP_IDS","getAppInfoFromOrigin","isAppManifestValid","appInfo","getEmptySafeApp","iconUrl","appsIconSvg","fetchStatus","chainIds","getAppInfoFromUrl","loadingStatus","ERROR","noTrailingSlashUrl","axios","remainingSpace","appInfoData","iconPath","providedBy","substring","concatenatedImgPath","canLoadAppImage","getIpfsLinkFromEns","protocolType","decoded","uniqueApp","appList","newUrl","Image","relativeTime","baseTimeMin","resetTimeMin","nextResetTimeMilliseconds","formatRelative","setHours","formatWithSchema","schema","formatTime","formatDateTime","formatTimeInWords","formatDistanceToNow","addSuffix","GnoButtonLink","btnLink","ChooseTxType","SendFunds","SendCollectible","ReviewCollectible","ReviewSendFundsTx","ContractInteraction","ContractInteractionReview","SendCustomTx","ReviewCustomTx","loaderStyle","recipientAddress","recipientName","tokenAmount","activeScreen","setActiveScreen","setTx","isABI","setIsABI","setRecipient","handleSwitchMethod","handleOnPrev","screen","initialValues","onReview","onPrev","onNext","contractInteractionInfo","submit","switchMethod","customTxInfo","generateBatchRequests","batch","contractInstance","localBatch","BatchRequest","methodObject","resolver","add","execute","currentMinutes","floor","requestTokensByDelegate","delegates","whenRequestValues","delegateAddress","ZERO_VALUE","discardZeroAllowance","requestAllowancesByDelegatesAndTokens","tokensByDelegate","delegate","allowances","spent","lastResetMin","getDelegates","limits","_609","getDeleteAllowanceTxData","beneficiary","deleteAllowance","enableSpendingLimitModuleMultiSendTx","multiSendTx","addSpendingLimitBeneficiaryMultiSendTx","spendingLimitContract","addDelegate","getResetSpendingLimitTx","resetAllowance","setSpendingLimitTx","spendingLimitArgs","spendingLimitInWei","resetBaseMin","setAllowance","NEW_SPENDING_LIMIT_TX","setSpendingLimitMultiSendTx","spendingLimitMultiSendTx","encodeMultiSendCall","DELEGATE","spendingLimitAllowedBalance","tokenSpendingLimit","diff","minus","diffInFPNotation","gt","getSpendingLimitByTokenAddress","CANCELLED","WILL_BE_REPLACED","isSettingsChangeTxInfo","isMultiSendTxInfo","methodName","isCreationTxInfo","txs","joinedTxs","encodeParameter","hexToBytes","updateTransactionDetails","fetchTransactionDetails","fetchSafeTransaction","transactionDetails","clientGatewayTxId","getTransactionDetails","main","contrastThreshold","tonalOffset","createTheme","typography","useNextVariants","overrides","MuiButton","contained","containedPrimary","containedSecondary","outlinedPrimary","sizeLarge","sizeSmall","textSecondary","MuiPaper","rounded","MuiStepper","MuiIconButton","MuiChip","MuiStepIcon","completed","active","MuiStepContent","borderLeft","MuiTypography","body1","body2","MuiFormHelperText","MuiInput","borderBottomLeftRadius","borderBottomRightRadius","input","textOverflow","underline","borderBottomColor","borderBottomStyle","borderBottomWidth","formControl","MuiFilledInput","MuiStepLabel","MuiSvgIcon","colorSecondary","MuiSnackbar","MuiSnackbarContent","overflowY","wordBreak","MuiTab","MuiTableContainer","MuiTablePagination","toolbar","selectIcon","caption","select","MuiTableSortLabel","MuiTableCell","head","MuiBackdrop","backdropFilter","MuiMenuItem","MuiListItemIcon","MuiListItemText","MuiCheckbox","MuiFormControlLabel","DropdownListTheme","elevation0","MuiListItem","borderBottom","MORDEN","ROPSTEN","GOERLI","OPTIMISM","KOVAN","BSC","XDAI","POLYGON","ENERGY_WEB_CHAIN","LOCAL","ARBITRUM","AVALANCHE","VOLTA","calculateBodyFrom","proposeTransaction","CONFIRMATION_TX","CANCELLATION_TX","WAITING_TX","REMOVE_SPENDING_LIMIT_TX","SAFE_NAME_CHANGE_TX","OWNER_NAME_CHANGE_TX","ADDRESS_BOOK_EDIT_ENTRY","ADDRESS_BOOK_EXPORT_ENTRIES","toChecksumAddress","isChecksumAddress","checkAddressChecksum","capitalized","charAt","upperFirst","removeViewedSafe","setSelectedCurrency","setCopyShortName","setShowShortName","TitleWrapper","collapseClassName","tabIndex","role","URLSearchParams","excludeSpamTokens","trustedTokens","getBalances","exclude_spam","trusted","close","fill","qrContainer","annotation","addressContainer","shouldEncodePrefix","setShouldEncodePrefix","qrCodeString","safesState","safesAsList","safeState","baseSafe","safeFieldSelector","field","currentSafeEthBalance","currentSafeThreshold","currentSafeNonce","currentSafeOwners","currentSafeSpendingLimits","safesList","safeRecord","toObject","safesWithNamesAsMap","baseSafeWithName","decodeMessage","returnData","returnBuffer","contractOutput","rawDecode","NOTIFICATION_IDS","WARNING","INFO","shortDuration","longDuration","persist","preventDuplicate","CREATE_SAFE_FAILED_MSG","autoHideDuration","SIGN_TX_MSG","TX_REJECTED_MSG","TX_EXECUTED_MSG","TX_CANCELLATION_EXECUTED_MSG","TX_FAILED_MSG","TX_CONFIRMATION_EXECUTED_MSG","TX_CONFIRMATION_FAILED_MSG","TX_FETCH_SIGNATURES_ERROR_MSG","SAFE_APPS_FETCH_ERROR_MSG","SAFE_NAME_CHANGED_MSG","OWNER_NAME_CHANGE_EXECUTED_MSG","SIGN_SETTINGS_CHANGE_MSG","SETTINGS_CHANGE_REJECTED_MSG","SETTINGS_CHANGE_EXECUTED_MSG","SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG","SETTINGS_CHANGE_FAILED_MSG","SIGN_NEW_SPENDING_LIMIT_MSG","NEW_SPENDING_LIMIT_REJECTED_MSG","NEW_SPENDING_LIMIT_EXECUTED_MSG","NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG","NEW_SPENDING_LIMIT_FAILED_MSG","SIGN_REMOVE_SPENDING_LIMIT_MSG","REMOVE_SPENDING_LIMIT_REJECTED_MSG","REMOVE_SPENDING_LIMIT_EXECUTED_MSG","REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG","REMOVE_SPENDING_LIMIT_FAILED_MSG","ADDRESS_BOOK_NEW_ENTRY_SUCCESS","ADDRESS_BOOK_EDIT_ENTRY_SUCCESS","ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS","ADDRESS_BOOK_DELETE_ENTRY_SUCCESS","ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS","ADDRESS_BOOK_EXPORT_ENTRIES_ERROR","setNotificationOrigin","waitingTransactionNotificationsQueue","afterRejection","waitingConfirmation","safeNameChangeNotificationsQueue","moreConfirmationsNeeded","ownerNameChangeNotificationsQueue","settingsChangeTxNotificationsQueue","newSpendingLimitTxNotificationsQueue","removeSpendingLimitTxNotificationsQueue","defaultNotificationsQueue","addressBookNewEntry","addressBookEditEntry","addressBookImportEntries","addressBookDeleteEntry","addressBookExportEntries","txType","getStandardTxNotificationsQueue","getConfirmationTxNotificationsQueue","getCancellationTxNotificationsQueue","restProps","paragraph","STORAGE_KEYS","chains","getChainsConfig","limit","ensRegistryAddress","fetchGasPrice","gasPriceOracle","gasParameter","gweiFactor","multipliedBy","calculateGasPrice","gasPriceOracles","fetchedGasPrice","fixedGasPrice","weiValue","getGasPrice","txConfig","estimateGas","_612","getUserNonce","getTransactionCount"],"mappings":"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","file":"static/js/main.e68d832c.chunk.js","sourcesContent":["const background = '#f7f5f5'\r\nconst border = '#e8e7e6'\r\nconst connectedColor = '#008C73'\r\nconst disabled = '#5D6D74'\r\nconst errorColor = '#f02525'\r\nconst fancyColor = '#f02525'\r\nconst fontColor = '#001428'\r\nconst headerHeight = '52px'\r\nconst lg = '24px'\r\nconst marginButtonImg = '12px'\r\nconst md = '16px'\r\nconst primary = '#001428'\r\nconst secondary = '#008C73'\r\nconst secondaryTextOrSvg = '#B2B5B2'\r\nconst secondaryBackground = '#f0efee'\r\nconst sm = '8px'\r\nconst warningColor = '#ffc05f'\r\nconst xl = '32px'\r\nconst xs = '4px'\r\nconst xxl = '40px'\r\n\r\nmodule.exports = {\r\n  background,\r\n  boldFont: 700,\r\n  bolderFont: 500,\r\n  border,\r\n  buttonLargeFontSize: '16px',\r\n  connected: connectedColor,\r\n  disabled,\r\n  error: errorColor,\r\n  extraBoldFont: 800,\r\n  extraLargeFontSize: '20px',\r\n  extraSmallFontSize: '11px',\r\n  fancy: fancyColor,\r\n  fontColor,\r\n  fontSizeHeadingLg: 32,\r\n  fontSizeHeadingMd: 20,\r\n  fontSizeHeadingSm: 16,\r\n  fontSizeHeadingXs: 13,\r\n  headerHeight,\r\n  largeFontSize: '16px',\r\n  lg,\r\n  lightFont: 300,\r\n  mainFontFamily: 'Averta, sans-serif',\r\n  marginButtonImg,\r\n  md,\r\n  mediumFontSize: '14px',\r\n  primary,\r\n  regularFont: 400,\r\n  screenLg: 1200,\r\n  screenMd: 992,\r\n  screenMdMax: 1199,\r\n  screenSm: 768,\r\n  screenSmMax: 991,\r\n  screenXs: 480,\r\n  screenXsMax: 767,\r\n  secondary,\r\n  secondaryFontFamily: 'Averta, monospace',\r\n  secondaryText: secondaryTextOrSvg,\r\n  secondaryBackground,\r\n  sm,\r\n  smallFontSize: '12px',\r\n  warning: warningColor,\r\n  xl,\r\n  xs,\r\n  xxl,\r\n  xxlFontSize: '32px',\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport { ReactElement } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Col = ({\r\n  around,\r\n  between,\r\n  bottom,\r\n  center,\r\n  children,\r\n  className,\r\n  end,\r\n  layout = 'inherit',\r\n  lg,\r\n  lgOffset,\r\n  margin,\r\n  md,\r\n  mdOffset,\r\n  middle,\r\n  overflow,\r\n  sm,\r\n  smOffset,\r\n  start,\r\n  top,\r\n  xs,\r\n  xsOffset,\r\n  ...props\r\n}: any): ReactElement => {\r\n  const colClassNames = cx(\r\n    'col',\r\n    center ? capitalize(center, 'center') : undefined,\r\n    start ? capitalize(start, 'start') : undefined,\r\n    end ? capitalize(end, 'end') : undefined,\r\n    top ? capitalize(top, 'top') : undefined,\r\n    middle ? capitalize(middle, 'middle') : undefined,\r\n    bottom ? capitalize(bottom, 'bottom') : undefined,\r\n    around ? capitalize(around, 'around') : undefined,\r\n    between ? capitalize(between, 'between') : undefined,\r\n    margin ? capitalize(margin, 'margin') : undefined,\r\n    xs ? capitalize(xs, 'xs') : undefined,\r\n    sm ? capitalize(sm, 'sm') : undefined,\r\n    md ? capitalize(md, 'md') : undefined,\r\n    lg ? capitalize(lg, 'lg') : undefined,\r\n    xsOffset ? capitalize(xsOffset, 'xsOffset') : undefined,\r\n    smOffset ? capitalize(smOffset, 'smOffset') : undefined,\r\n    mdOffset ? capitalize(mdOffset, 'mdOffset') : undefined,\r\n    lgOffset ? capitalize(lgOffset, 'lgOffset') : undefined,\r\n    { overflow },\r\n    layout,\r\n    className,\r\n  )\r\n\r\n  return (\r\n    <div className={colClassNames} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Col\r\n","import semverSatisfies from 'semver/functions/satisfies'\r\nimport {\r\n  getSafeSingletonDeployment,\r\n  getSafeL2SingletonDeployment,\r\n  getProxyFactoryDeployment,\r\n  getFallbackHandlerDeployment,\r\n  getMultiSendCallOnlyDeployment,\r\n  getSignMessageLibDeployment,\r\n} from '@gnosis.pm/safe-deployments'\r\nimport Web3 from 'web3'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\nimport { LATEST_SAFE_VERSION } from 'src/utils/constants'\r\nimport { getChainById, _getChainId } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { calculateGasOf, EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { getWeb3, getChainIdFrom } from 'src/logic/wallets/getWeb3'\r\nimport { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\nimport { ProxyFactory } from 'src/types/contracts/proxy_factory.d'\r\nimport { CompatibilityFallbackHandler } from 'src/types/contracts/compatibility_fallback_handler.d'\r\nimport { SignMessageLib } from 'src/types/contracts/sign_message_lib.d'\r\nimport { MultiSend } from 'src/types/contracts/multi_send.d'\r\nimport { getSafeInfo } from 'src/logic/safe/utils/safeInformation'\r\n\r\nexport const SENTINEL_ADDRESS = '0x0000000000000000000000000000000000000001'\r\n\r\nlet proxyFactoryMaster: ProxyFactory\r\nlet safeMaster: GnosisSafe\r\nlet fallbackHandler: CompatibilityFallbackHandler\r\nlet multiSend: MultiSend\r\n\r\nconst getSafeContractDeployment = ({ safeVersion }: { safeVersion: string }) => {\r\n  // We check if version is prior to v1.0.0 as they are not supported but still we want to keep a minimum compatibility\r\n  const useOldestContractVersion = semverSatisfies(safeVersion, '<1.0.0')\r\n  // We have to check if network is L2\r\n  const networkId = _getChainId()\r\n  const chainConfig = getChainById(networkId)\r\n  // We had L1 contracts in three L2 networks, xDai, EWC and Volta so even if network is L2 we have to check that safe version is after v1.3.0\r\n  const useL2ContractVersion = chainConfig.l2 && semverSatisfies(safeVersion, '>=1.3.0')\r\n  const getDeployment = useL2ContractVersion ? getSafeL2SingletonDeployment : getSafeSingletonDeployment\r\n\r\n  return (\r\n    getDeployment({\r\n      version: safeVersion,\r\n      network: networkId.toString(),\r\n    }) ||\r\n    getDeployment({\r\n      version: safeVersion,\r\n    }) ||\r\n    // In case we couldn't find a valid deployment and it's a version before 1.0.0 we return v1.0.0 to allow a minimum compatibility\r\n    (useOldestContractVersion\r\n      ? getDeployment({\r\n          version: '1.0.0',\r\n        })\r\n      : undefined)\r\n  )\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the GnosisSafe contract\r\n * @param {Web3} web3\r\n * @param {ChainId} chainId\r\n */\r\nconst getGnosisSafeContractInstance = (web3: Web3, chainId: ChainId): GnosisSafe => {\r\n  const safeSingletonDeployment = getSafeContractDeployment({ safeVersion: LATEST_SAFE_VERSION })\r\n  const contractAddress = safeSingletonDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`GnosisSafe contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return new web3.eth.Contract(safeSingletonDeployment?.abi as AbiItem[], contractAddress) as unknown as GnosisSafe\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the GnosisSafeProxyFactory contract\r\n * @param {Web3} web3\r\n * @param {ChainId} chainId\r\n */\r\nconst getProxyFactoryContractInstance = (web3: Web3, chainId: ChainId): ProxyFactory => {\r\n  const proxyFactoryDeployment =\r\n    getProxyFactoryDeployment({\r\n      version: LATEST_SAFE_VERSION,\r\n      network: chainId.toString(),\r\n    }) ||\r\n    getProxyFactoryDeployment({\r\n      version: LATEST_SAFE_VERSION,\r\n    })\r\n  const contractAddress = proxyFactoryDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`GnosisSafeProxyFactory contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return new web3.eth.Contract(proxyFactoryDeployment?.abi as AbiItem[], contractAddress) as unknown as ProxyFactory\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the FallbackHandler contract\r\n * @param {Web3} web3\r\n * @param {ChainId} chainId\r\n */\r\nconst getFallbackHandlerContractInstance = (web3: Web3, chainId: ChainId): CompatibilityFallbackHandler => {\r\n  const fallbackHandlerDeployment =\r\n    getFallbackHandlerDeployment({\r\n      version: LATEST_SAFE_VERSION,\r\n      network: chainId.toString(),\r\n    }) ||\r\n    getFallbackHandlerDeployment({\r\n      version: LATEST_SAFE_VERSION,\r\n    })\r\n  const contractAddress = fallbackHandlerDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`FallbackHandler contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return new web3.eth.Contract(\r\n    fallbackHandlerDeployment?.abi as AbiItem[],\r\n    contractAddress,\r\n  ) as unknown as CompatibilityFallbackHandler\r\n}\r\n\r\n/**\r\n * Creates a Contract instance of the MultiSend contract\r\n * @param {Web3} web3\r\n * @param {ChainId} chainId\r\n */\r\nconst getMultiSendContractInstance = (web3: Web3, chainId: ChainId): MultiSend => {\r\n  const multiSendDeployment =\r\n    getMultiSendCallOnlyDeployment({\r\n      network: chainId.toString(),\r\n    }) || getMultiSendCallOnlyDeployment()\r\n  const contractAddress = multiSendDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`MultiSend contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return new web3.eth.Contract(multiSendDeployment?.abi as AbiItem[], contractAddress) as unknown as MultiSend\r\n}\r\n\r\n/**\r\n * Returns an address of SignMessageLib for passed chainId\r\n * @param {ChainId} chainId\r\n * @returns {string}\r\n */\r\nexport const getSignMessageLibAddress = (chainId: ChainId): string | undefined => {\r\n  const signMessageLibDeployment =\r\n    getSignMessageLibDeployment({\r\n      network: chainId.toString(),\r\n    }) || getSignMessageLibDeployment()\r\n  const contractAddress = signMessageLibDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`SignMessageLib contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return contractAddress\r\n}\r\n\r\n/**\r\n * Returns a Web3 Contract instance of the SignMessageLib contract\r\n * @param {Web3} web3\r\n * @param {ChainId} chainId\r\n * @returns {SignMessageLib}\r\n */\r\nexport const getSignMessageLibContractInstance = (web3: Web3, chainId: ChainId): SignMessageLib => {\r\n  const signMessageLibDeployment =\r\n    getSignMessageLibDeployment({\r\n      network: chainId.toString(),\r\n    }) || getSignMessageLibDeployment()\r\n  const contractAddress = signMessageLibDeployment?.networkAddresses[chainId]\r\n\r\n  if (!contractAddress) {\r\n    throw new Error(`SignMessageLib contract not found for chainId: ${chainId}`)\r\n  }\r\n\r\n  return new web3.eth.Contract(signMessageLibDeployment?.abi as AbiItem[], contractAddress) as unknown as SignMessageLib\r\n}\r\n\r\nexport const getMasterCopyAddressFromProxyAddress = async (proxyAddress: string): Promise<string | undefined> => {\r\n  let masterCopyAddress: string | undefined\r\n  try {\r\n    const res = await getSafeInfo(proxyAddress)\r\n    masterCopyAddress = res.implementation.value\r\n    if (!masterCopyAddress) {\r\n      console.error(`There was not possible to get masterCopy address from proxy ${proxyAddress}.`)\r\n    }\r\n  } catch (e) {\r\n    e.log()\r\n  }\r\n  return masterCopyAddress\r\n}\r\n\r\nexport const instantiateSafeContracts = async () => {\r\n  const web3 = getWeb3()\r\n  const chainId = (await getChainIdFrom(web3)).toString() as ChainId\r\n\r\n  // Create ProxyFactory Master Copy\r\n  proxyFactoryMaster = getProxyFactoryContractInstance(web3, chainId)\r\n\r\n  // Create Safe Master copy\r\n  safeMaster = getGnosisSafeContractInstance(web3, chainId)\r\n\r\n  // Create Fallback Handler\r\n  fallbackHandler = getFallbackHandlerContractInstance(web3, chainId)\r\n\r\n  // Create MultiSend contract\r\n  multiSend = getMultiSendContractInstance(web3, chainId)\r\n}\r\n\r\nexport const getSafeMasterContract = async () => {\r\n  await instantiateSafeContracts()\r\n  return safeMaster\r\n}\r\n\r\nexport const getSafeMasterContractAddress = () => {\r\n  return safeMaster.options.address\r\n}\r\n\r\nexport const getFallbackHandlerContractAddress = () => {\r\n  return fallbackHandler.options.address\r\n}\r\n\r\nexport const getMultisendContract = () => {\r\n  return multiSend\r\n}\r\n\r\nexport const getMultisendContractAddress = () => {\r\n  return multiSend.options.address\r\n}\r\n\r\nexport const getSafeDeploymentTransaction = (\r\n  safeAccounts: string[],\r\n  numConfirmations: number,\r\n  safeCreationSalt: number,\r\n) => {\r\n  const gnosisSafeData = safeMaster.methods\r\n    .setup(\r\n      safeAccounts,\r\n      numConfirmations,\r\n      ZERO_ADDRESS,\r\n      EMPTY_DATA,\r\n      fallbackHandler.options.address,\r\n      ZERO_ADDRESS,\r\n      0,\r\n      ZERO_ADDRESS,\r\n    )\r\n    .encodeABI()\r\n  return proxyFactoryMaster.methods.createProxyWithNonce(safeMaster.options.address, gnosisSafeData, safeCreationSalt)\r\n}\r\n\r\nexport const estimateGasForDeployingSafe = async (\r\n  safeAccounts: string[],\r\n  numConfirmations: number,\r\n  userAccount: string,\r\n  safeCreationSalt: number,\r\n) => {\r\n  const proxyFactoryData = getSafeDeploymentTransaction(safeAccounts, numConfirmations, safeCreationSalt).encodeABI()\r\n\r\n  return calculateGasOf({\r\n    data: proxyFactoryData,\r\n    from: userAccount,\r\n    to: proxyFactoryMaster.options.address,\r\n  }).then((value) => value * 2)\r\n}\r\n\r\nexport const getGnosisSafeInstanceAt = (safeAddress: string, safeVersion: string): GnosisSafe => {\r\n  const safeSingletonDeployment = getSafeContractDeployment({ safeVersion })\r\n\r\n  const web3 = getWeb3()\r\n  return new web3.eth.Contract(safeSingletonDeployment?.abi as AbiItem[], safeAddress) as unknown as GnosisSafe\r\n}\r\n","import { AnyAction } from 'redux'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { createAction } from 'redux-actions'\r\nimport { IconButton } from '@material-ui/core'\r\nimport { Close as IconClose } from '@material-ui/icons'\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\nimport closeSnackbarAction from './closeSnackbar'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const ENQUEUE_SNACKBAR = 'ENQUEUE_SNACKBAR'\r\n\r\nconst addSnackbar = createAction(ENQUEUE_SNACKBAR)\r\n\r\nconst enqueueSnackbar =\r\n  (\r\n    notification: Notification,\r\n    key?: string | number,\r\n    onClick?: () => void,\r\n  ): ThunkAction<string | number, AppReduxState, undefined, AnyAction> =>\r\n  (dispatch: Dispatch) => {\r\n    key = notification.key || new Date().getTime() + Math.random()\r\n\r\n    const newNotification = {\r\n      ...notification,\r\n      key,\r\n      options: {\r\n        ...notification.options,\r\n        onClick,\r\n        // eslint-disable-next-line react/display-name\r\n        action: (actionKey) => (\r\n          <IconButton onClick={() => dispatch(closeSnackbarAction({ key: actionKey }))}>\r\n            <IconClose />\r\n          </IconButton>\r\n        ),\r\n      },\r\n    }\r\n\r\n    dispatch(addSnackbar(newNotification))\r\n\r\n    return key\r\n  }\r\n\r\nexport default enqueueSnackbar\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\n\r\n// following the suggested naming convention at\r\n// https://redux.js.org/style-guide/style-guide#write-action-types-as-domaineventname\r\nexport enum ADDRESS_BOOK_ACTIONS {\r\n  ADD_OR_UPDATE = 'addressBook/addOrUpdate',\r\n  REMOVE = 'addressBook/remove',\r\n  IMPORT = 'addressBook/import',\r\n  MIGRATE = 'addressBook/migrate',\r\n  SAFE_LOAD = 'addressBook/safeLoad',\r\n  SYNC = 'addressBook/sync',\r\n}\r\n\r\nexport const addressBookAddOrUpdate = createAction<AddressBookEntry>(ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE)\r\nexport const addressBookRemove = createAction<AddressBookEntry>(ADDRESS_BOOK_ACTIONS.REMOVE)\r\nexport const addressBookSafeLoad = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.SAFE_LOAD)\r\nexport const addressBookImport = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.IMPORT)\r\nexport const addressBookMigrate = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.MIGRATE)\r\nexport const addressBookSync = createAction<AddressBookState>(ADDRESS_BOOK_ACTIONS.SYNC)\r\n","import semverLessThan from 'semver/functions/lt'\r\nimport semverSatisfies from 'semver/functions/satisfies'\r\nimport semverValid from 'semver/functions/valid'\r\nimport { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\nimport { getSafeMasterContract } from 'src/logic/contracts/safeContracts'\r\nimport { LATEST_SAFE_VERSION } from 'src/utils/constants'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { getChainInfo } from 'src/config'\r\n\r\nconst FEATURES_BY_VERSION: Record<string, string> = {\r\n  [FEATURES.SAFE_TX_GAS_OPTIONAL]: '>=1.3.0',\r\n}\r\n\r\nexport const safeNeedsUpdate = (currentVersion?: string, latestVersion?: string): boolean => {\r\n  if (!currentVersion || !latestVersion) {\r\n    return false\r\n  }\r\n\r\n  const current = semverValid(currentVersion) as string\r\n  const latest = semverValid(latestVersion) as string\r\n\r\n  return latest ? semverLessThan(current, latest) : false\r\n}\r\n\r\nexport const getCurrentSafeVersion = (gnosisSafeInstance: GnosisSafe): Promise<string> =>\r\n  gnosisSafeInstance.methods.VERSION().call()\r\n\r\nconst isEnabledByVersion = (feature: FEATURES, version: string): boolean => {\r\n  if (!(feature in FEATURES_BY_VERSION)) return true\r\n  return semverSatisfies(version, FEATURES_BY_VERSION[feature])\r\n}\r\n\r\n/**\r\n * Get a combined list of features enabled per chain and per version\r\n */\r\nexport const enabledFeatures = (version?: string): FEATURES[] => {\r\n  const chainFeatures = getChainInfo().features\r\n  if (!version) return chainFeatures\r\n  return chainFeatures.filter((feat) => isEnabledByVersion(feat, version))\r\n}\r\n\r\nexport const hasFeature = (name: FEATURES, version?: string): boolean => {\r\n  return enabledFeatures(version).includes(name)\r\n}\r\n\r\ninterface SafeVersionInfo {\r\n  current: string\r\n  latest: string\r\n  needUpdate: boolean\r\n}\r\n\r\nexport const checkIfSafeNeedsUpdate = async (\r\n  safeVersion: string,\r\n  lastSafeVersion: string,\r\n): Promise<SafeVersionInfo> => {\r\n  if (!safeVersion || !lastSafeVersion) {\r\n    throw new Error('checkIfSafeNeedsUpdate: No Safe Instance or version provided')\r\n  }\r\n  const current = semverValid(safeVersion) as string\r\n  const latest = semverValid(lastSafeVersion) as string\r\n  const needUpdate = safeNeedsUpdate(safeVersion, lastSafeVersion)\r\n\r\n  return { current, latest, needUpdate }\r\n}\r\n\r\nexport const getCurrentMasterContractLastVersion = async (): Promise<string> => {\r\n  let safeMasterVersion: string\r\n  try {\r\n    const safeMaster = await getSafeMasterContract()\r\n    safeMasterVersion = await safeMaster.methods.VERSION().call()\r\n  } catch (err) {\r\n    // Default in case that it's not possible to obtain the version from the contract, returns a hardcoded value or an\r\n    // env variable\r\n    safeMasterVersion = LATEST_SAFE_VERSION\r\n  }\r\n  return safeMasterVersion\r\n}\r\n\r\nexport const getSafeVersionInfo = async (safeVersion: string): Promise<SafeVersionInfo | undefined> => {\r\n  try {\r\n    const lastSafeVersion = await getCurrentMasterContractLastVersion()\r\n    return checkIfSafeNeedsUpdate(safeVersion, lastSafeVersion)\r\n  } catch (err) {\r\n    logError(Errors._606, err.message)\r\n  }\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR'\r\n\r\nconst closeSnackbar = createAction(CLOSE_SNACKBAR)\r\n\r\nexport default closeSnackbar\r\n","import classNames from 'classnames/bind'\r\nimport { ReactElement } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst Row = ({ align, children, className, grow, margin, testId = '', ...props }: any): ReactElement => {\r\n  const rowClassNames = cx(\r\n    styles.row,\r\n    margin ? capitalize(margin, 'margin') : undefined,\r\n    align ? capitalize(align, 'align') : undefined,\r\n    { grow },\r\n    className,\r\n  )\r\n\r\n  return (\r\n    <div className={rowClassNames} data-testid={testId} {...props}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Row\r\n","export default __webpack_public_path__ + \"static/media/contractData.090761eb.png\";","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { WALLET_PROVIDER } from 'src/logic/wallets/getWeb3'\r\nimport contractDataImage from './images/contractData.png'\r\n\r\nconst USER_ENABLED_LEDGER_TX_DATA = 'USER_ENABLED_LEDGER_TX_DATA'\r\nfunction transactionDataCheck(): any {\r\n  return (stateAndHelpers) => {\r\n    const { wallet } = stateAndHelpers\r\n    const isTransactionDataEnabled = loadFromStorage<boolean>(USER_ENABLED_LEDGER_TX_DATA)\r\n    if (wallet && wallet.name.toUpperCase() === WALLET_PROVIDER.LEDGER && !isTransactionDataEnabled) {\r\n      return {\r\n        heading: 'Allow Transaction Data', // edit modal heading here\r\n        description: `<div><p><strong>Important</strong>: In order to sign transactions with your Ledger device, you will have to activate the \"Contract Data\" setting in the Ethereum app on your Ledger.</p><img style=\"width:100%\" src=${contractDataImage} /></div>`, // edit modal description that is displayed here. You can include html strings here and they will be rendered as html elements.\r\n        eventCode: 'allowTransactionData',\r\n        button: {\r\n          text: 'Done',\r\n          onclick: () => saveToStorage(USER_ENABLED_LEDGER_TX_DATA, true),\r\n        },\r\n        icon: `\r\n                  <svg height=\"14\" viewBox=\"0 0 18 14\" width=\"18\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\"><path d=\"m10.29375 4.05351563c0-.04921875 0-.09140625 0-.13007813 0-1.0546875 0-2.109375 0-3.1640625 0-.43945312.3480469-.76992188.7804688-.7453125.2003906.01054688.3585937.10546875.4992187.24609375.5800781.58359375 1.1566406 1.16367188 1.7367187 1.74023438 1.4695313 1.46953125 2.9390625 2.93906249 4.4050782 4.40859375.1335937.13359375.2425781.27421875.2707031.46757812.0351562.20742188-.0246094.421875-.1652344.58007813-.0246094.028125-.0492187.05273437-.0738281.08085937-2.0601563 2.06367188-4.1203125 4.1238281-6.1804688 6.1875-.2109375.2109375-.4570312.3023438-.7453125.2179688-.2707031-.0808594-.4464843-.2707032-.5132812-.5484375-.0140625-.0738282-.0175781-.1441407-.0140625-.2179688 0-1.0335937 0-2.0707031 0-3.1042969 0-.0386719 0-.08085935 0-.13359372h-5.06953125c-.49570313 0-.80507813-.309375-.80507813-.80859375 0-1.42382813 0-2.84414063 0-4.26796875 0-.49570313.30585938-.8015625.8015625-.8015625h4.93593748z\"/><path d=\"m5.69882812 13.978125h-4.01132812c-.928125 0-1.6875-.8753906-1.6875-1.9511719v-10.06171872c0-1.07578125.75585938-1.95117188 1.6875-1.95117188h4.01132812c.34101563 0 .61523438.31992188.61523438.71015625 0 .39023438-.27421875.71015625-.61523438.71015625h-4.01132812c-.253125 0-.45703125.23554688-.45703125.52734375v10.06171875c0 .2917969.20390625.5273437.45703125.5273437h4.01132812c.34101563 0 .61523438.3199219.61523438.7101563s-.27773438.7171875-.61523438.7171875z\"/></g></svg>\r\n                  `,\r\n      }\r\n    }\r\n    return null\r\n  }\r\n}\r\n\r\nexport default transactionDataCheck\r\n","import Onboard from 'bnc-onboard'\r\nimport { API, Wallet } from 'bnc-onboard/dist/src/interfaces'\r\nimport { store } from 'src/store'\r\nimport { _getChainId, getChainName } from 'src/config'\r\nimport { setWeb3 } from './getWeb3'\r\nimport { fetchProvider, removeProvider } from './store/actions'\r\nimport transactionDataCheck from './transactionDataCheck'\r\nimport { getSupportedWallets } from './utils/walletList'\r\nimport { ChainId, CHAIN_ID } from 'src/config/chain.d'\r\n\r\nconst NETWORK_NAMES: Record<ChainId, string> = {\r\n  [CHAIN_ID.ETHEREUM]: 'mainnet',\r\n}\r\n\r\nconst getOnboardConfiguration = () => {\r\n  let lastUsedAddress = ''\r\n  let providerName: string | null = null\r\n  let lastNetworkId = ''\r\n\r\n  return {\r\n    networkId: parseInt(_getChainId(), 10),\r\n    // Is it mandatory for Ledger to work to send network name in lowercase\r\n    // @FIXME: Move to CGW\r\n    networkName: NETWORK_NAMES[_getChainId()] || getChainName().toLowerCase(),\r\n    subscriptions: {\r\n      wallet: (wallet: Wallet) => {\r\n        if (wallet.provider) {\r\n          // this function will intialize web3 and store it somewhere available throughout the dapp and\r\n          // can also instantiate your contracts with the web3 instance\r\n          setWeb3(wallet.provider)\r\n          providerName = wallet.name\r\n        }\r\n      },\r\n      address: (address: string) => {\r\n        const networkId = _getChainId()\r\n\r\n        if (!lastUsedAddress && address && providerName) {\r\n          lastUsedAddress = address\r\n          lastNetworkId = networkId\r\n          store.dispatch(fetchProvider(providerName))\r\n        }\r\n\r\n        // we don't have an unsubscribe event so we rely on this\r\n        if (!address && lastUsedAddress) {\r\n          lastUsedAddress = ''\r\n          providerName = null\r\n          store.dispatch(removeProvider({ keepStorageKey: lastNetworkId !== networkId }))\r\n        }\r\n      },\r\n    },\r\n    walletSelect: {\r\n      description: 'Please select a wallet to connect to Gnosis Safe',\r\n      wallets: getSupportedWallets(),\r\n    },\r\n    walletCheck: [\r\n      { checkName: 'derivationPath' },\r\n      { checkName: 'connect' },\r\n      { checkName: 'accounts' },\r\n      { checkName: 'network' },\r\n      transactionDataCheck(),\r\n    ],\r\n  }\r\n}\r\n\r\nlet currentOnboardInstance: API\r\nexport const onboard = (): API => {\r\n  const chainId = _getChainId()\r\n  if (!currentOnboardInstance || currentOnboardInstance.getState().appNetworkId.toString() !== chainId) {\r\n    currentOnboardInstance = Onboard(getOnboardConfiguration())\r\n  }\r\n\r\n  return currentOnboardInstance\r\n}\r\n\r\nexport default onboard\r\n","import { WalletInitOptions } from 'bnc-onboard/dist/src/interfaces'\r\n\r\nimport { getRpcServiceUrl, getDisabledWallets, _getChainId } from 'src/config'\r\nimport { WALLETS } from 'src/config/chain.d'\r\nimport { FORTMATIC_KEY, PORTIS_ID } from 'src/utils/constants'\r\n\r\ntype Wallet = WalletInitOptions & {\r\n  desktop: boolean\r\n  walletName: WALLETS\r\n}\r\n\r\nconst wallets = (): Wallet[] => {\r\n  const rpcUrl = getRpcServiceUrl()\r\n  const chainId = _getChainId()\r\n\r\n  return [\r\n    { walletName: WALLETS.METAMASK, preferred: true, desktop: false },\r\n    {\r\n      walletName: WALLETS.WALLET_CONNECT,\r\n      preferred: true,\r\n      // as stated in the documentation, `infuraKey` is not mandatory if rpc is provided\r\n      rpc: { [chainId]: rpcUrl },\r\n      networkId: parseInt(chainId, 10),\r\n      desktop: true,\r\n      bridge: 'https://safe-walletconnect.gnosis.io/',\r\n    },\r\n    {\r\n      walletName: WALLETS.TREZOR,\r\n      appUrl: 'gnosis-safe.io',\r\n      preferred: true,\r\n      email: 'safe@gnosis.io',\r\n      desktop: true,\r\n      rpcUrl,\r\n    },\r\n    {\r\n      walletName: WALLETS.LEDGER,\r\n      desktop: true,\r\n      preferred: true,\r\n      rpcUrl,\r\n      LedgerTransport: (window as any).TransportNodeHid,\r\n    },\r\n    {\r\n      walletName: WALLETS.KEYSTONE,\r\n      desktop: false,\r\n      rpcUrl,\r\n      appName: 'Gnosis Safe',\r\n    },\r\n    { walletName: WALLETS.TRUST, preferred: true, desktop: false },\r\n    {\r\n      walletName: WALLETS.LATTICE,\r\n      rpcUrl,\r\n      appName: 'Gnosis Safe',\r\n      desktop: false,\r\n    },\r\n    {\r\n      walletName: WALLETS.FORTMATIC,\r\n      apiKey: FORTMATIC_KEY,\r\n      desktop: true,\r\n    },\r\n    {\r\n      walletName: WALLETS.PORTIS,\r\n      apiKey: PORTIS_ID,\r\n      desktop: true,\r\n    },\r\n    { walletName: WALLETS.AUTHEREUM, desktop: false },\r\n    { walletName: WALLETS.TORUS, desktop: true },\r\n    { walletName: WALLETS.COINBASE, desktop: false },\r\n    { walletName: WALLETS.WALLET_LINK, rpcUrl, desktop: false },\r\n    { walletName: WALLETS.OPERA, desktop: false },\r\n    { walletName: WALLETS.OPERA_TOUCH, desktop: false },\r\n  ]\r\n}\r\n\r\nexport const getSupportedWallets = (): WalletInitOptions[] => {\r\n  if (window.isDesktop) {\r\n    return wallets()\r\n      .filter((wallet) => wallet.desktop)\r\n      .map(({ desktop, ...rest }) => rest)\r\n  }\r\n\r\n  return wallets()\r\n    .map(({ desktop, ...rest }) => rest)\r\n    .filter((w) => !getDisabledWallets().includes(w.walletName))\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport { ReactElement, ImgHTMLAttributes } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ntype ImgProps = ImgHTMLAttributes<HTMLImageElement> & {\r\n  bordered?: boolean\r\n  fullwidth?: boolean\r\n  testId?: string\r\n}\r\n\r\nconst Img = ({ alt, bordered, className, fullwidth, style, testId = '', ...props }: ImgProps): ReactElement => {\r\n  const classes = cx(styles.img, { fullwidth, bordered }, className)\r\n\r\n  return <img alt={alt} className={classes} data-testid={testId} style={style} {...props} />\r\n}\r\n\r\nexport default Img\r\n","/**\r\n * Setups `shortenText` options\r\n * @param {object} opts\r\n * @param {number} opts.charsStart=10 - characters to preserve from the beginning\r\n * @param {number} opts.charsEnd=10 - characters to preserve at the end\r\n * @param {string} opts.ellipsis='...' - ellipsis characters\r\n * @returns {function} shortener\r\n */\r\nexport const textShortener =\r\n  ({ charsEnd = 10, charsStart = 10, ellipsis = '...' } = {}) =>\r\n  /**\r\n   * @function\r\n   * @name shortener\r\n   *\r\n   * Shortens a text string based on options\r\n   * @param {string} text=null - String to shorten\r\n   * @param text\r\n   * @returns {string|?string}\r\n   */\r\n  (text = ''): string => {\r\n    const amountOfCharsToKeep = charsEnd + charsStart\r\n    const finalStringLength = amountOfCharsToKeep + ellipsis.length\r\n\r\n    if (finalStringLength >= text.length || !amountOfCharsToKeep) {\r\n      // no need to shorten\r\n      return text\r\n    }\r\n\r\n    const r = new RegExp(`^(.{${charsStart}}).+(.{${charsEnd}})$`)\r\n    const matchResult = r.exec(text)\r\n\r\n    if (!matchResult) {\r\n      // if for any reason the exec returns null, the text remains untouched\r\n      return text\r\n    }\r\n\r\n    const [, textStart, textEnd] = matchResult\r\n\r\n    return `${textStart}${ellipsis}${textEnd}`\r\n  }\r\n\r\n/**\r\n * Util to remove whitespace from both sides of a string.\r\n * @param {string} value\r\n * @returns {string} string without side whitespaces\r\n */\r\nexport const trimSpaces = (value: string): string => (value === undefined ? '' : value.trim())\r\n\r\n/**\r\n * Util to compare two strings, comparison is case insensitive\r\n * @param str1\r\n * @param str2\r\n * @returns {boolean}\r\n */\r\nexport const sameString = (str1: string | undefined, str2: string | undefined): boolean => {\r\n  if (!str1 || !str2) {\r\n    return false\r\n  }\r\n\r\n  return str1.toLowerCase() === str2.toLowerCase()\r\n}\r\n","export default __webpack_public_path__ + \"static/media/alert.7d8d6824.svg\";","export default __webpack_public_path__ + \"static/media/check.bdba8480.svg\";","export default __webpack_public_path__ + \"static/media/error.4d872767.svg\";","import { ReactElement } from 'react'\r\n\r\nimport { border } from 'src/theme/variables'\r\n\r\nconst style = {\r\n  borderRight: `solid 2px ${border}`,\r\n  height: '100%',\r\n}\r\n\r\nconst Divider = ({ className }: { className?: string }): ReactElement => <div className={className} style={style} />\r\n\r\nexport default Divider\r\n","import IconButton from '@material-ui/core/IconButton'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Divider from 'src/components/layout/Divider'\r\nimport { screenSm, sm } from 'src/theme/variables'\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    height: '100%',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexBasis: '284px',\r\n    },\r\n  },\r\n  provider: {\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    padding: sm,\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      paddingLeft: sm,\r\n      paddingRight: sm,\r\n    },\r\n  },\r\n  expand: {\r\n    height: '30px',\r\n    width: '30px',\r\n  },\r\n})\r\n\r\nclass Provider extends React.Component<any> {\r\n  myRef\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.myRef = React.createRef()\r\n  }\r\n\r\n  render() {\r\n    const { render, classes, info, open, toggle } = this.props\r\n\r\n    return (\r\n      <>\r\n        <div className={classes.root} ref={this.myRef}>\r\n          <Divider />\r\n          <Col className={classes.provider} end=\"sm\" middle=\"xs\" onClick={toggle}>\r\n            {info}\r\n            <IconButton className={classes.expand} disableRipple>\r\n              {open ? <ExpandLess /> : <ExpandMore />}\r\n            </IconButton>\r\n          </Col>\r\n          <Divider />\r\n        </div>\r\n        {render(this.myRef)}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles as any)(Provider)\r\n","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport { ChainInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { getChainInfo } from 'src/config'\r\nimport { border, md, screenSm, sm, xs, fontColor } from 'src/theme/variables'\r\n\r\nconst StyledCol = styled(Col)`\r\n  flex-grow: 0;\r\n  padding: 0 ${sm};\r\n  cursor: ${(props) => (props.onClick ? 'pointer' : 'inherit')};\r\n  @media (min-width: ${screenSm}px) {\r\n    padding-left: ${md};\r\n    padding-right: ${md};\r\n  }\r\n`\r\nconst StyledParagraph = styled(Paragraph)<{\r\n  $theme: ChainInfo['theme']\r\n}>`\r\n  background-color: ${(props) => props?.$theme?.backgroundColor ?? border};\r\n  color: ${(props) => props?.$theme?.textColor ?? fontColor};\r\n  border-radius: 3px;\r\n  line-height: normal;\r\n  text-transform: capitalize;\r\n  margin: 0;\r\n  padding: ${xs} ${sm};\r\n  min-width: 70px;\r\n  text-align: center;\r\n`\r\n\r\nconst NetworkLabel = ({\r\n  networkInfo,\r\n  onClick,\r\n}: {\r\n  networkInfo?: ChainInfo\r\n  onClick?: () => void\r\n}): React.ReactElement => {\r\n  const chain = networkInfo || getChainInfo()\r\n\r\n  return (\r\n    <StyledCol middle=\"xs\" start=\"xs\" onClick={onClick}>\r\n      <StyledParagraph size=\"xs\" $theme={chain.theme}>\r\n        {chain.chainName}\r\n      </StyledParagraph>\r\n    </StyledCol>\r\n  )\r\n}\r\n\r\nexport default NetworkLabel\r\n","import { ReactElement, useRef, Fragment, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\nimport Grow from '@material-ui/core/Grow'\r\nimport List from '@material-ui/core/List'\r\nimport Popper from '@material-ui/core/Popper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport { Divider, Icon } from '@gnosis.pm/safe-react-components'\r\n\r\nimport NetworkLabel from './NetworkLabel'\r\nimport Col from 'src/components/layout/Col'\r\nimport { screenSm, sm } from 'src/theme/variables'\r\nimport { ReturnValue } from 'src/logic/hooks/useStateHandler'\r\n\r\nimport { getNetworkRootRoutes } from 'src/routes/routes'\r\nimport { useSelector } from 'react-redux'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { getChainById } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\nconst styles = {\r\n  root: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    height: '100%',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexBasis: '180px',\r\n      marginRight: '20px',\r\n    },\r\n  },\r\n  networkList: {\r\n    alignItems: 'center',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    justifyContent: 'space-between',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      paddingRight: sm,\r\n    },\r\n  },\r\n  expand: {\r\n    height: '30px',\r\n    width: '30px',\r\n  },\r\n  popper: {\r\n    zIndex: 1301,\r\n  },\r\n  network: {\r\n    backgroundColor: 'white',\r\n    borderRadius: sm,\r\n    boxShadow: '0 0 10px 0 rgba(33, 48, 77, 0.1)',\r\n    marginTop: '11px',\r\n    minWidth: '180px',\r\n    padding: '0',\r\n  },\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst StyledLink = styled.a`\r\n  margin: 0;\r\n  text-decoration: none;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 14px 16px 14px 0;\r\n\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n  }\r\n`\r\nconst StyledDivider = styled(Divider)`\r\n  margin: 0;\r\n`\r\n\r\ntype NetworkSelectorProps = ReturnValue\r\n\r\nconst NetworkSelector = ({ open, toggle, clickAway }: NetworkSelectorProps): ReactElement => {\r\n  const networkRef = useRef(null)\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const chainId = useSelector(currentChainId)\r\n\r\n  const onNetworkSwitch = useCallback(\r\n    (e: React.SyntheticEvent, chainId: ChainId) => {\r\n      e.preventDefault()\r\n      clickAway()\r\n\r\n      const newRoute = getNetworkRootRoutes().find((network) => network.chainId === chainId)\r\n      if (newRoute) {\r\n        history.push(newRoute.route)\r\n      }\r\n    },\r\n    [clickAway, history],\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root} ref={networkRef}>\r\n        <Col className={classes.networkList} end=\"sm\" middle=\"xs\" onClick={toggle}>\r\n          <NetworkLabel />\r\n          <IconButton className={classes.expand} disableRipple>\r\n            {open ? <ExpandLess /> : <ExpandMore />}\r\n          </IconButton>\r\n        </Col>\r\n        <Divider />\r\n      </div>\r\n      <Popper\r\n        anchorEl={networkRef.current}\r\n        className={classes.popper}\r\n        open={open}\r\n        placement=\"bottom\"\r\n        popperOptions={{ positionFixed: true }}\r\n      >\r\n        {({ TransitionProps }) => (\r\n          <Grow {...TransitionProps}>\r\n            <>\r\n              <ClickAwayListener mouseEvent=\"onClick\" onClickAway={clickAway} touchEvent={false}>\r\n                <List className={classes.network} component=\"div\">\r\n                  {getNetworkRootRoutes().map((network) => (\r\n                    <Fragment key={network.chainId}>\r\n                      <StyledLink onClick={(e) => onNetworkSwitch(e, network.chainId)} href={network.route}>\r\n                        <NetworkLabel networkInfo={getChainById(network.chainId)} />\r\n\r\n                        {chainId === network.chainId && <Icon type=\"check\" size=\"md\" color=\"primary\" />}\r\n                      </StyledLink>\r\n                      <StyledDivider />\r\n                    </Fragment>\r\n                  ))}\r\n                </List>\r\n              </ClickAwayListener>\r\n            </>\r\n          </Grow>\r\n        )}\r\n      </Popper>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NetworkSelector\r\n","import { ReactElement } from 'react'\r\n\r\nconst style = {\r\n  flexGrow: 1,\r\n}\r\n\r\nconst Spacer = ({ className }: { className?: string }): ReactElement => <div className={className} style={style} />\r\n\r\nexport default Spacer\r\n","export default __webpack_public_path__ + \"static/media/gnosis-safe-multisig-logo.d5313158.svg\";","import ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\nimport Grow from '@material-ui/core/Grow'\r\nimport List from '@material-ui/core/List'\r\nimport Popper from '@material-ui/core/Popper'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Provider from './Provider'\r\nimport NetworkSelector from './NetworkSelector'\r\nimport Spacer from 'src/components/Spacer'\r\nimport Col from 'src/components/layout/Col'\r\nimport Img from 'src/components/layout/Img'\r\nimport Row from 'src/components/layout/Row'\r\nimport { headerHeight, md, screenSm, sm } from 'src/theme/variables'\r\nimport { useStateHandler } from 'src/logic/hooks/useStateHandler'\r\nimport SafeLogo from '../assets/gnosis-safe-multisig-logo.svg'\r\nimport { WELCOME_ROUTE } from 'src/routes/routes'\r\nimport WalletSwitch from 'src/components/WalletSwitch'\r\nimport Divider from 'src/components/layout/Divider'\r\nimport { shouldSwitchWalletChain } from 'src/logic/wallets/store/selectors'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    backgroundColor: 'white',\r\n    borderRadius: sm,\r\n    boxShadow: '0 0 10px 0 rgba(33, 48, 77, 0.1)',\r\n    marginTop: '11px',\r\n    minWidth: '280px',\r\n    padding: 0,\r\n  },\r\n  summary: {\r\n    alignItems: 'center',\r\n    backgroundColor: 'white',\r\n    flexWrap: 'nowrap',\r\n    height: headerHeight,\r\n    position: 'fixed',\r\n    width: '100%',\r\n    zIndex: 1301,\r\n  },\r\n  logo: {\r\n    flexBasis: '140px',\r\n    flexShrink: '0',\r\n    flexGrow: '0',\r\n    maxWidth: '55px',\r\n    padding: sm,\r\n    marginTop: '4px',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      maxWidth: 'none',\r\n      paddingLeft: md,\r\n      paddingRight: md,\r\n    },\r\n  },\r\n  wallet: {\r\n    paddingRight: md,\r\n  },\r\n  popper: {\r\n    zIndex: 1301,\r\n  },\r\n  network: {\r\n    backgroundColor: 'white',\r\n    borderRadius: sm,\r\n    boxShadow: '0 0 10px 0 rgba(33, 48, 77, 0.1)',\r\n    marginTop: '11px',\r\n    minWidth: '180px',\r\n    padding: '0',\r\n  },\r\n})\r\n\r\nconst WalletPopup = ({ anchorEl, providerDetails, classes, open, onClose }) => {\r\n  return (\r\n    <Popper\r\n      anchorEl={anchorEl}\r\n      className={classes.popper}\r\n      open={open}\r\n      placement=\"bottom\"\r\n      popperOptions={{ positionFixed: true }}\r\n    >\r\n      {({ TransitionProps }) => (\r\n        <Grow {...TransitionProps}>\r\n          <>\r\n            <ClickAwayListener mouseEvent=\"onClick\" onClickAway={onClose} touchEvent={false}>\r\n              <List className={classes.root} component=\"div\">\r\n                {providerDetails}\r\n              </List>\r\n            </ClickAwayListener>\r\n          </>\r\n        </Grow>\r\n      )}\r\n    </Popper>\r\n  )\r\n}\r\n\r\nconst Layout = ({ classes, providerDetails, providerInfo }) => {\r\n  const { clickAway, open, toggle } = useStateHandler()\r\n  const { clickAway: clickAwayNetworks, open: openNetworks, toggle: toggleNetworks } = useStateHandler()\r\n  const isWrongChain = useSelector(shouldSwitchWalletChain)\r\n\r\n  return (\r\n    <Row className={classes.summary}>\r\n      <Col className={classes.logo} middle=\"xs\" start=\"xs\">\r\n        <Link to={WELCOME_ROUTE}>\r\n          <Img alt=\"Gnosis Safe\" height={36} src={SafeLogo} testId=\"heading-gnosis-logo\" />\r\n        </Link>\r\n      </Col>\r\n\r\n      <Spacer />\r\n\r\n      {isWrongChain && (\r\n        <div className={classes.wallet}>\r\n          <WalletSwitch />\r\n          <Divider />\r\n        </div>\r\n      )}\r\n\r\n      <Provider\r\n        info={providerInfo}\r\n        open={open}\r\n        toggle={toggle}\r\n        render={(providerRef) =>\r\n          providerRef.current && (\r\n            <WalletPopup\r\n              anchorEl={providerRef.current}\r\n              providerDetails={providerDetails}\r\n              open={open}\r\n              classes={classes}\r\n              onClose={clickAway}\r\n            />\r\n          )\r\n        }\r\n      />\r\n\r\n      <NetworkSelector open={openNetworks} toggle={toggleNetworks} clickAway={clickAwayNetworks} />\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default withStyles(styles as any)(Layout)\r\n","export default __webpack_public_path__ + \"static/media/key.55d9a376.svg\";","export default __webpack_public_path__ + \"static/media/triangle.bb0bb74f.svg\";","import { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Dot from '@material-ui/icons/FiberManualRecord'\r\nimport { ReactElement } from 'react'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Img from 'src/components/layout/Img'\r\nimport { border, fancy, screenSm, warning } from 'src/theme/variables'\r\n\r\nimport KeyIcon from '../assets/key.svg'\r\nimport TriangleIcon from '../assets/triangle.svg'\r\n\r\nconst styles = createStyles({\r\n  root: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  dot: {\r\n    position: 'relative',\r\n    backgroundColor: '#ffffff',\r\n    color: fancy,\r\n  },\r\n  key: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: border,\r\n  },\r\n  warning: {\r\n    position: 'relative',\r\n    top: '-2px',\r\n  },\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst buildKeyStyleFrom = (size, center, dotSize) => ({\r\n  width: `${size}px`,\r\n  height: `${size}px`,\r\n  marginLeft: center ? `${dotSize}px` : 'none',\r\n  borderRadius: `${size}px`,\r\n})\r\n\r\nconst buildDotStyleFrom = (size, top, right, mode) => ({\r\n  width: `${size}px`,\r\n  height: `${size}px`,\r\n  borderRadius: `${size}px`,\r\n  top: `${top}px`,\r\n  right: `${right}px`,\r\n  color: mode === 'error' ? fancy : warning,\r\n})\r\n\r\ntype Props = {\r\n  center?: boolean\r\n  circleSize?: number\r\n  dotRight?: number\r\n  dotSize?: number\r\n  dotTop?: number\r\n  hideDot?: boolean\r\n  keySize: number\r\n  mode?: string\r\n}\r\n\r\nexport const KeyRing = ({\r\n  center = false,\r\n  circleSize,\r\n  dotRight,\r\n  dotSize,\r\n  dotTop,\r\n  hideDot = false,\r\n  keySize,\r\n  mode,\r\n}: Props): ReactElement => {\r\n  const classes = useStyles(styles)\r\n  const keyStyle = buildKeyStyleFrom(circleSize, center, dotSize)\r\n  const dotStyle = buildDotStyleFrom(dotSize, dotTop, dotRight, mode)\r\n  const isWarning = mode === 'warning'\r\n  const img = isWarning ? TriangleIcon : KeyIcon\r\n\r\n  return (\r\n    <>\r\n      <Block className={classes.root}>\r\n        <Block className={classes.key} style={keyStyle}>\r\n          <Img\r\n            alt=\"Status connection\"\r\n            className={isWarning ? classes.warning : undefined}\r\n            height={keySize}\r\n            src={img}\r\n            width={isWarning ? keySize + 2 : keySize}\r\n          />\r\n        </Block>\r\n        {!hideDot && <Dot className={classes.dot} style={dotStyle} />}\r\n      </Block>\r\n    </>\r\n  )\r\n}\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport { ReactElement } from 'react'\r\n\r\nimport ConnectButton from 'src/components/ConnectButton'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\nimport { Card } from '@gnosis.pm/safe-react-components'\r\nimport styled from 'styled-components'\r\n\r\nconst styles = () => ({\r\n  logo: {\r\n    justifyContent: 'center',\r\n  },\r\n  text: {\r\n    letterSpacing: '-0.6px',\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n  },\r\n  connect: {\r\n    textAlign: 'center',\r\n    marginTop: '60px',\r\n  },\r\n  connectText: {\r\n    letterSpacing: '1px',\r\n  },\r\n  img: {\r\n    margin: '0px 2px',\r\n  },\r\n})\r\n\r\nconst StyledCard = styled(Card)`\r\n  padding: 20px;\r\n`\r\nconst ConnectDetails = ({ classes }): ReactElement => (\r\n  <StyledCard>\r\n    <Row align=\"center\" margin=\"lg\">\r\n      <Paragraph className={classes.text} noMargin size=\"xl\" weight=\"bolder\">\r\n        Connect a Wallet\r\n      </Paragraph>\r\n    </Row>\r\n\r\n    <Row className={classes.logo}>\r\n      <KeyRing center circleSize={60} dotRight={20} dotSize={20} dotTop={50} keySize={28} mode=\"error\" />\r\n    </Row>\r\n    <Block className={classes.connect}>\r\n      <ConnectButton data-testid=\"heading-connect-btn\" />\r\n    </Block>\r\n  </StyledCard>\r\n)\r\n\r\nexport default withStyles(styles as any)(ConnectDetails)\r\n","export default __webpack_public_path__ + \"static/media/wallet.5fd5c981.svg\";","import * as React from 'react'\r\nimport styled from 'styled-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Identicon, Card } from '@gnosis.pm/safe-react-components'\r\nimport { createStyles } from '@material-ui/core'\r\n\r\nimport Spacer from 'src/components/Spacer'\r\nimport Block from 'src/components/layout/Block'\r\nimport Button from 'src/components/layout/Button'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Img from 'src/components/layout/Img'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport PrefixedEthHashInfo from 'src/components/PrefixedEthHashInfo'\r\nimport { background, connected as connectedBg, lg, md, sm, warning, xs } from 'src/theme/variables'\r\nimport { getExplorerInfo } from 'src/config'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\nimport WalletIcon from '../../assets/wallet.svg'\r\nimport { useSelector } from 'react-redux'\r\nimport { networkSelector } from 'src/logic/wallets/store/selectors'\r\nimport ChainIndicator from 'src/components/ChainIndicator'\r\n\r\nconst styles = createStyles({\r\n  container: {\r\n    padding: `${md} 12px`,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  identicon: {\r\n    justifyContent: 'center',\r\n    padding: `0 ${md}`,\r\n  },\r\n  user: {\r\n    borderRadius: '3px',\r\n    backgroundColor: background,\r\n    margin: '0 auto',\r\n    padding: '9px',\r\n    lineHeight: 1,\r\n  },\r\n  details: {\r\n    padding: `0 ${md}`,\r\n    height: '20px',\r\n    alignItems: 'center',\r\n  },\r\n  address: {\r\n    flexGrow: 1,\r\n    textAlign: 'center',\r\n    letterSpacing: '-0.5px',\r\n    marginRight: sm,\r\n  },\r\n  labels: {\r\n    fontSize: '12px',\r\n    letterSpacing: '0.5px',\r\n  },\r\n  capitalize: {\r\n    textTransform: 'capitalize',\r\n  },\r\n  open: {\r\n    paddingLeft: sm,\r\n    width: 'auto',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  buttonRow: {\r\n    padding: `${md} ${lg} 0`,\r\n  },\r\n  disconnectButton: {\r\n    marginBottom: `${md}`,\r\n    '&:hover': {\r\n      backgroundColor: '#F02525',\r\n      color: '#fff',\r\n    },\r\n  },\r\n  dashboard: {\r\n    padding: `${md} ${lg} ${xs}`,\r\n  },\r\n  dashboardText: {\r\n    letterSpacing: '1px',\r\n  },\r\n  logo: {\r\n    margin: `0px ${xs}`,\r\n  },\r\n  warning: {\r\n    color: warning,\r\n  },\r\n  connected: {\r\n    color: connectedBg,\r\n  },\r\n})\r\n\r\nconst StyledCard = styled(Card)`\r\n  padding: 0px;\r\n`\r\ntype Props = {\r\n  connected: boolean\r\n  onDisconnect: () => void\r\n  openDashboard?: (() => void | null) | boolean\r\n  provider?: string\r\n  userAddress: string\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport const UserDetails = ({\r\n  connected,\r\n  onDisconnect,\r\n  openDashboard,\r\n  provider,\r\n  userAddress,\r\n}: Props): React.ReactElement => {\r\n  const connectedNetwork = useSelector(networkSelector)\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <StyledCard>\r\n      <Block className={classes.container}>\r\n        <Row align=\"center\" className={classes.identicon} margin=\"md\">\r\n          {connected ? (\r\n            <Identicon address={userAddress || 'random'} size=\"xxl\" />\r\n          ) : (\r\n            <KeyRing circleSize={75} dotRight={25} dotSize={25} dotTop={50} hideDot keySize={30} mode=\"warning\" />\r\n          )}\r\n        </Row>\r\n        <Block className={classes.user} justify=\"center\">\r\n          {userAddress ? (\r\n            <PrefixedEthHashInfo\r\n              hash={userAddress}\r\n              showCopyBtn\r\n              explorerUrl={getExplorerInfo(userAddress)}\r\n              shortenHash={4}\r\n            />\r\n          ) : (\r\n            'Address not available'\r\n          )}\r\n        </Block>\r\n      </Block>\r\n      <Hairline margin=\"xs\" />\r\n      <Row className={classes.details}>\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin>\r\n          Wallet\r\n        </Paragraph>\r\n        <Spacer />\r\n        <Img alt=\"Wallet icon\" className={classes.logo} height={14} src={WalletIcon} />\r\n        <Paragraph align=\"right\" className={`${classes.labels} ${classes.capitalize}`} noMargin weight=\"bolder\">\r\n          {provider}\r\n        </Paragraph>\r\n      </Row>\r\n      <Hairline margin=\"xs\" />\r\n      <Row className={classes.details}>\r\n        <Paragraph align=\"right\" className={classes.labels} noMargin>\r\n          Connected network\r\n        </Paragraph>\r\n        <Spacer />\r\n        {connectedNetwork && <ChainIndicator chainId={connectedNetwork} />}\r\n      </Row>\r\n      <Hairline margin=\"xs\" />\r\n      {openDashboard && (\r\n        <Row className={classes.dashboard}>\r\n          <Button color=\"primary\" fullWidth onClick={openDashboard} size=\"medium\" variant=\"contained\">\r\n            <Paragraph className={classes.dashboardText} color=\"white\" noMargin size=\"md\">\r\n              {provider} Wallet\r\n            </Paragraph>\r\n          </Button>\r\n        </Row>\r\n      )}\r\n      <Row className={classes.buttonRow}>\r\n        <Button\r\n          className={classes.disconnectButton}\r\n          color=\"secondary\"\r\n          fullWidth\r\n          onClick={onDisconnect}\r\n          size=\"medium\"\r\n          variant=\"contained\"\r\n          data-testid=\"disconnect-btn\"\r\n        >\r\n          <Paragraph noMargin size=\"lg\">\r\n            Disconnect\r\n          </Paragraph>\r\n        </Button>\r\n      </Row>\r\n    </StyledCard>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/icon-wallet-connect.b9ad2e86.svg\";","export default __webpack_public_path__ + \"static/media/icon-trezor.6bc10388.svg\";","export default __webpack_public_path__ + \"static/media/icon-ledger.ca6f95fc.svg\";","export default __webpack_public_path__ + \"static/media/icon-trust.6438e603.svg\";","export default __webpack_public_path__ + \"static/media/icon-lattice.d53c1a21.svg\";","export default __webpack_public_path__ + \"static/media/icon-fortmatic.3a2b8586.svg\";","export default __webpack_public_path__ + \"static/media/icon-portis.4020c216.svg\";","export default __webpack_public_path__ + \"static/media/icon-torus.5e86b38a.svg\";","export default __webpack_public_path__ + \"static/media/icon-coinbase.bbfafb04.svg\";","// Icons\r\nimport metamaskIcon from './icon-metamask.png'\r\nimport walletConnectIcon from './icon-wallet-connect.svg'\r\nimport trezorIcon from './icon-trezor.svg'\r\nimport ledgerIcon from './icon-ledger.svg'\r\nimport trustIcon from './icon-trust.svg'\r\nimport latticeIcon from './icon-lattice.svg'\r\nimport fortmaticIcon from './icon-fortmatic.svg'\r\nimport portisIcon from './icon-portis.svg'\r\nimport authereumIcon from './icon-authereum.png'\r\nimport torusIcon from './icon-torus.svg'\r\nimport coinbaseIcon from './icon-coinbase.svg'\r\nimport operaIcon from './icon-opera.png'\r\nimport squarelinkIcon from './icon-squarelink.png'\r\nimport keystoneIcon from './icon-keystone.png'\r\n\r\nimport { WALLET_PROVIDER } from 'src/logic/wallets/getWeb3'\r\n\r\nconst WALLET_ICONS: { [key in WALLET_PROVIDER]: { src: string; height: number } } = {\r\n  [WALLET_PROVIDER.METAMASK]: {\r\n    src: metamaskIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.WALLETCONNECT]: {\r\n    src: walletConnectIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.TREZOR]: {\r\n    src: trezorIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.LEDGER]: {\r\n    src: ledgerIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.TRUST]: {\r\n    src: trustIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.LATTICE]: {\r\n    src: latticeIcon,\r\n    height: 41,\r\n  },\r\n  [WALLET_PROVIDER.KEYSTONE]: {\r\n    src: keystoneIcon,\r\n    height: 41,\r\n  },\r\n  [WALLET_PROVIDER.FORTMATIC]: {\r\n    src: fortmaticIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.PORTIS]: {\r\n    src: portisIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.AUTHEREUM]: {\r\n    src: authereumIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.TORUS]: {\r\n    src: torusIcon,\r\n    height: 30,\r\n  },\r\n  [WALLET_PROVIDER.OPERA]: {\r\n    src: operaIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.COINBASE_WALLET]: {\r\n    src: coinbaseIcon,\r\n    height: 25,\r\n  },\r\n  [WALLET_PROVIDER.SQUARELINK]: {\r\n    src: squarelinkIcon,\r\n    height: 25,\r\n  },\r\n}\r\n\r\nexport default WALLET_ICONS\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAMAAACl6XjsAAABfVBMVEVHcEx/Rh2ARx2ESiLwiCLMu67cfCagZDOddlJ+Rx7pgiPlfyPshSN/Rxx+Rh2CSB6ASB2JTR7gkkl1SCbQciPUwLLMu6+BSB5/Rx2DSR5+RxzefR3ogCPlfiPGuLHhfiP2jCTvhyN/Rx3nfyPfo2/lfCTIuK7kfyP2jCPkfiPuhSTFtKjogSThfCR/Rx5+Rx3lfiPeeiTDs6koIR2DSh/ifCajWx6qYCDckVOBSR7jfiTyiCOYYTXLcCKpXiHEs6fDs6fCsKYjHBwhHx8iHR0iICB1a2ZyaGIiHyCPTx7ogSTlfyTwhyOASB7ziSTngCTrgyT2jCTthCT1iyPuhCX4jSSESh5/Rx6ITR/+kSTYbyDheSLjfSPBaiPacSDdcyCvYSK0ZCGTVSPGcSblhi/ngSPqgSTdu56mXSDaeSP6jiPmfSD5jSQcGhvimFdqUj/TbSJARUsyQE6tbDLOeyzZx7nayr7hsog7Nza/raDjjUF/VTjFtKhKNCB0amRMd0DeAAAASnRSTlMAe/oOkv4TAwgrpnA9n1n9vkYfHPv+xu2r9mgN6uI4Us5ji/n9Ln7G7pO61/K35ZXYiUji5s21zMnb0/r5aMipm2UkYjSGnPy0/l1QcU4AAALOSURBVHhehdJXXxpNFAbwBYIgoICCIKhgi91ETe/9fZ3ZXui92bvp5bPnzCwzK79c+Fxws3/mOXN2BSe+0Tnh1oBKTI7eqvypSUnaHP4XDIVeRn1cucKSJIUj4wMF6cVgYDr2KsrVXE4imUx6mEmHgoH786ZZ3b3H/usZAWW7R3fsAFFNhCrVwmaKdY4ylZdaqEgjI4yxUm7mpAjvjABjbt/QIIZJ1MF+Pu+eY3MMuwEwl2sfEidiBcdaeUl6yrcEkzks38IWMBnG2gUVTrIljSco4LUNGZxRaeZASW4X63Q5hznHyTGqpAfRwU5+WKGtaxC1SQsSKb+tfOyeTHWRDEyuNGhpf7me5EBjoYowFoEZ+gFx7pH+FYaTA0qBfSG6ErI2KcxZJMxVDhSkS1sV4twuNls0wVi4CYpEJ6yHwXEmpHJ5OxJTGNHhMLjH/BP0uQp2GpTwVhHY+orAExLt9ChxWhFWprYcFihaNKLDegZt7U4FuRpbPtbssONgRNECVjm6wYJFrR+5XK/VavVa9byO4L3qpWqMl/qznGlipV46b5xdturYIK//54sND7sAR3SnlfbZxeVFFYkw3MHV9dIQv8CAQ7qlXl+1kUoO78mMsQvwXiRbh8VjEenEqat9NlvUBmLJol2v6jDe89U0Vb7sDQa7k/UjxZSp04mjpw1ewBBRuV6qVbCCRFmzNNE0rOVZP2EZE9F0u10F10qQsr1hVTQ0WTSs7KwP2NA0wjxlUHWCmJRlo5jNELdlYidQaR92RINRp1P4vfPxnSAszis3XLkMD3Gn8+P0dGHh697e3vdvJyf/f4CrLqm8xFx/+IQ+jH/+QgK/wHbek9ZZwhSkq1MbwUW/f+buRJyIfn79+e/TuGBfomfi6UBmjH3NIL19Ffd6J2YEmhX92UqGbpEHzlzzeuNxL6ht9lmG0g5w5PbrtbWJN2/HyGB/AYd1QUewqrrRAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABtlBMVEVHcEyyDxH8SEj7GSvmGyv/SUn9IDDqFyf/Gy31JzL/Giz+Giy+FRmwChPmJS3cISnyFiqzCBX+S0u4BRerBg7/Gi3/TU39JzO4DhjkNTe0DxP+SUnHFSKvBRT/S0uvCBKuBBKpABWnABTnFCT4GCr+SkvSGSTdECH9SEjVFSTTGSHhNDX/Skr+Giz6Giv5RUWyCBakAwr5GSqtART/SkrKCRz+GSy7DhfaDiHvFynoFCTtFCjxFijSEiPNFyHmEiX+Gyr2Fyr0QkLwP0D0Q0PFGyP/S0qjBQTiLTX/Giy5CBq3CRr/Gy2yDQ/QJyf8GizYKyvLCx7jEybABRvqOjrYDyHaDyLzQEHsFSjLJSXPJibVKSnaMDCrARX/Gi3/TEz+Skr/Gy3/Gy78Giz+Giz/S0v0FyngESPqOTrvFSjhMzSmBgb2Q0T5R0i7FhaxCAvNIyP4GSvBBxq3ExPTDR/AGRnXDiHGChuqCgrrFCfeMDDyQEDUKSruPT6xDw/PCx/oEybJCh3cDyLtFSfHICDYLS3mNzfRJiahAwPwOjrGGh7kEyW1Axe7BRnEHx/NFiTVHyutAhXkSSDHAAAAX3RSTlMADS2/CBtPA/wRruDnKCNXO0q1zd33+UaAkpGlND3cw+tukSnO8c/zYsMemj7Xin0doTL4wtSdsv6w1PTf5J2RePb1vNpomn/obPL+ZWHx77T+1uqgZLDibLPi+YSq5l1x/o4AAAKMSURBVHheddNld+JgEIbhARJCcEuhQEupu7ts3dfdE9Sl6u6y/o8XJkkX+i7X5/s8k5wAFGPNE6qvHKfTLnZTUBLj6NdpAgF/TiDAtbV3l+jUKn++wiy4GokEOa0ZSEatP1dhthpdyyZvbpLZ7YZ2lpjTyVnwLFfJsrYaKPKYk7u4vmt+vsue3EmiHXtFQcYsaqROM/xEATmUxXu0g7JVFua+U3NyN9QJEoXrSGI3gKRGJ3datuCMa10MM14FIEorP19bMxSgBjLrKOMUj6s1fhGnhiIG/WYG6fE4pZIHtQwUc95togsX5DjkQY0DHmjW/0QX+vw79suDtRTx8R+tXKCVWQBWFwihQDsQTCui6w8AZk0omBcKqoFgfHqNDj6yMOEPotAzIxCo+ssD9MkDqpAY+ttYID3fu0R7JtCtikK1DJBaEnso8RkmpTCoAhKUxxLoqgUmI6IS4e0VipXDaETy39Ovb2PotgOGInEUGWWBNL1/iPbV8D5yjuIjNUBQzKT20ZQSukfOd1HcBATlVAqlZ1ighndPUHwcCI1CGgluABjf/YZOXhIPyVh5AfGNAGBuiEqI28o6PpzHV+Y3mLfRMxRtUjwYnMt1GHYA4OTgFhp8w0Ch1vtBWvp5Dm6grTFPYUn3SoNljSBqrt84RhtNxn8l7ZY7NwUST9+LU3Rcb6IxZdhWq3S3zErDPUvftuh0rNyhpGlla0cldjxf1quEAhbbmuTXwrR7zlrJ8/mKD9dZizpgPAOvfojWfsdSaUEIhwUhnXrXQvxBOp22pe+i5buDROzwMJZYaJpVAKnCZavq+SNZXl7Se50GIOF93xebPR/3VNm9XT7MSqSUweKrrq6e91V0MlDkLyDwITNcRd/tAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Img from 'src/components/layout/Img'\r\nimport WALLET_ICONS from './icons'\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    marginLeft: '5px',\r\n    marginRight: '10px',\r\n    letterSpacing: '-0.5px',\r\n    flex: 'none',\r\n  },\r\n  icon: {\r\n    maxWidth: 'none',\r\n  },\r\n})\r\n\r\ninterface WalletIconProps {\r\n  provider: string\r\n}\r\n\r\nconst WalletIcon = ({ provider }: WalletIconProps): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const walletIcon = WALLET_ICONS[provider]\r\n\r\n  return (\r\n    <Col className={classes.container} start=\"sm\">\r\n      {walletIcon && <Img alt={provider} className={classes.icon} {...walletIcon} />}\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default WalletIcon\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport * as React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Text } from '@gnosis.pm/safe-react-components'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport PrefixedEthHashInfo from 'src/components/PrefixedEthHashInfo'\r\nimport WalletIcon from '../WalletIcon'\r\nimport { connected as connectedBg, screenSm, sm } from 'src/theme/variables'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\nimport { networkSelector } from 'src/logic/wallets/store/selectors'\r\nimport { getChainById } from 'src/config'\r\n\r\nconst useStyles = makeStyles({\r\n  network: {\r\n    fontFamily: 'Averta, sans-serif',\r\n  },\r\n  networkLabel: {\r\n    '& div': {\r\n      paddingRight: sm,\r\n      paddingLeft: sm,\r\n    },\r\n  },\r\n  identicon: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  dot: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: '15px',\r\n    color: connectedBg,\r\n    display: 'none',\r\n    height: '15px',\r\n    position: 'relative',\r\n    right: '10px',\r\n    top: '12px',\r\n    width: '15px',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  providerContainer: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    width: '100px',\r\n  },\r\n  account: {\r\n    alignItems: 'start',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flexGrow: 1,\r\n    justifyContent: 'left',\r\n    paddingRight: sm,\r\n  },\r\n  address: {\r\n    marginLeft: '5px',\r\n    letterSpacing: '-0.5px',\r\n  },\r\n})\r\n\r\ninterface ProviderInfoProps {\r\n  connected: boolean\r\n  provider: string\r\n  // TODO: [xDai] Review. This may cause some issues with EthHashInfo.\r\n  userAddress: string\r\n}\r\n\r\nconst ProviderInfo = ({ connected, provider, userAddress }: ProviderInfoProps): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const currentNetwork = useSelector(networkSelector)\r\n  const chain = getChainById(currentNetwork)\r\n  const addressColor = connected ? 'text' : 'warning'\r\n  return (\r\n    <>\r\n      {!connected && <KeyRing circleSize={35} dotRight={11} dotSize={16} dotTop={24} keySize={14} mode=\"warning\" />}\r\n      <WalletIcon provider={provider.toUpperCase()} />\r\n      <Col className={classes.account} layout=\"column\" start=\"sm\">\r\n        <Paragraph\r\n          className={classes.network}\r\n          noMargin\r\n          size=\"xs\"\r\n          transform=\"capitalize\"\r\n          weight=\"bolder\"\r\n          data-testid=\"connected-wallet\"\r\n        >\r\n          {provider}\r\n          {chain?.chainName && ` @ ${chain.chainName}`}\r\n        </Paragraph>\r\n        <div className={classes.providerContainer}>\r\n          {connected ? (\r\n            <PrefixedEthHashInfo\r\n              hash={userAddress}\r\n              shortenHash={4}\r\n              showAvatar\r\n              avatarSize=\"xs\"\r\n              textColor={addressColor}\r\n              textSize=\"sm\"\r\n            />\r\n          ) : (\r\n            <Text size=\"md\" color={addressColor}>\r\n              Connection Error\r\n            </Text>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProviderInfo\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport { ReactElement } from 'react'\r\n\r\nimport Col from 'src/components/layout/Col'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport { sm } from 'src/theme/variables'\r\nimport { KeyRing } from 'src/components/AppLayout/Header/components/KeyRing'\r\n\r\nconst styles = () => ({\r\n  network: {\r\n    fontFamily: 'Averta, sans-serif',\r\n  },\r\n  account: {\r\n    alignItems: 'start',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    paddingRight: sm,\r\n  },\r\n  connect: {\r\n    letterSpacing: '-0.5px',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n})\r\n\r\nconst ProviderDisconnected = ({ classes }): ReactElement => (\r\n  <>\r\n    <KeyRing circleSize={35} dotRight={11} dotSize={16} dotTop={24} keySize={17} mode=\"error\" />\r\n    <Col className={classes.account} end=\"sm\" layout=\"column\" middle=\"xs\">\r\n      <Paragraph\r\n        className={classes.network}\r\n        noMargin\r\n        size=\"sm\"\r\n        transform=\"capitalize\"\r\n        weight=\"bold\"\r\n        data-testid=\"not-connected-wallet\"\r\n      >\r\n        Not Connected\r\n      </Paragraph>\r\n      <Paragraph className={classes.connect} color=\"fancy\" noMargin size=\"sm\">\r\n        Connect Wallet\r\n      </Paragraph>\r\n    </Col>\r\n  </>\r\n)\r\n\r\nexport default withStyles(styles as any)(ProviderDisconnected)\r\n","import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport Layout from './components/Layout'\r\nimport ConnectDetails from './components/ProviderDetails/ConnectDetails'\r\nimport { UserDetails } from './components/ProviderDetails/UserDetails'\r\nimport ProviderAccessible from './components/ProviderInfo/ProviderAccessible'\r\nimport ProviderDisconnected from './components/ProviderInfo/ProviderDisconnected'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport {\r\n  availableSelector,\r\n  loadedSelector,\r\n  providerNameSelector,\r\n  userAccountSelector,\r\n} from 'src/logic/wallets/store/selectors'\r\nimport { removeProvider } from 'src/logic/wallets/store/actions'\r\nimport onboard from 'src/logic/wallets/onboard'\r\nimport { loadLastUsedProvider } from 'src/logic/wallets/store/middlewares/providerWatcher'\r\n\r\nconst HeaderComponent = (): React.ReactElement => {\r\n  const provider = useSelector(providerNameSelector)\r\n  const chainId = useSelector(currentChainId)\r\n  const userAddress = useSelector(userAccountSelector)\r\n  const loaded = useSelector(loadedSelector)\r\n  const available = useSelector(availableSelector)\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    const tryToConnectToLastUsedProvider = async () => {\r\n      const lastUsedProvider = await loadLastUsedProvider()\r\n      if (lastUsedProvider) {\r\n        await onboard().walletSelect(lastUsedProvider)\r\n      }\r\n    }\r\n\r\n    tryToConnectToLastUsedProvider()\r\n  }, [chainId])\r\n\r\n  const openDashboard = () => {\r\n    const { wallet } = onboard().getState()\r\n    return wallet.type === 'sdk' && wallet.dashboard\r\n  }\r\n\r\n  const onDisconnect = () => {\r\n    dispatch(removeProvider())\r\n  }\r\n\r\n  const getProviderInfoBased = () => {\r\n    if (!loaded || !provider) {\r\n      return <ProviderDisconnected />\r\n    }\r\n\r\n    return <ProviderAccessible connected={available} provider={provider} userAddress={userAddress} />\r\n  }\r\n\r\n  const getProviderDetailsBased = () => {\r\n    if (!loaded) {\r\n      return <ConnectDetails />\r\n    }\r\n\r\n    return (\r\n      <UserDetails\r\n        connected={available}\r\n        onDisconnect={onDisconnect}\r\n        openDashboard={openDashboard()}\r\n        provider={provider}\r\n        userAddress={userAddress}\r\n      />\r\n    )\r\n  }\r\n\r\n  const info = getProviderInfoBased()\r\n  const details = getProviderDetailsBased()\r\n\r\n  return <Layout providerDetails={details} providerInfo={info} />\r\n}\r\n\r\nexport default HeaderComponent\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport cn from 'classnames'\r\nimport * as React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport GnoButtonLink from 'src/components/layout/ButtonLink'\r\nimport Link from 'src/components/layout/Link'\r\nimport { openCookieBanner } from 'src/logic/cookies/store/actions/openCookieBanner'\r\nimport { screenSm, secondary, sm } from 'src/theme/variables'\r\n\r\nconst useStyles = makeStyles({\r\n  footer: {\r\n    boxSizing: 'border-box',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexShrink: '1',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    margin: '0 auto',\r\n    maxWidth: '100%',\r\n    padding: `20px ${sm} 20px`,\r\n    width: `${screenSm}px`,\r\n  },\r\n  item: {\r\n    color: 'rgba(0, 0, 0, 0.54)',\r\n    fontSize: '13px',\r\n  },\r\n  link: {\r\n    color: secondary,\r\n    textDecoration: 'none',\r\n\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n    },\r\n  },\r\n  sep: {\r\n    color: 'rgba(0, 0, 0, 0.54)',\r\n    margin: '0 10px',\r\n  },\r\n  buttonLink: {\r\n    padding: '0',\r\n  },\r\n} as any)\r\n\r\nconst Footer = (): React.ReactElement => {\r\n  const appVersion = process.env.REACT_APP_APP_VERSION ? `v${process.env.REACT_APP_APP_VERSION} ` : 'Versions'\r\n  const date = new Date()\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n\r\n  const openCookiesHandler = () => {\r\n    dispatch(openCookieBanner({ cookieBannerOpen: true }))\r\n  }\r\n\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <span className={classes.item}>{date.getFullYear()} Gnosis</span>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/terms\">\r\n        Terms\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/privacy\">\r\n        Privacy\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/licenses\">\r\n        Licenses\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/imprint\">\r\n        Imprint\r\n      </Link>\r\n      <span className={classes.sep}>|</span>\r\n      <Link className={cn(classes.item, classes.link)} target=\"_blank\" to=\"https://gnosis-safe.io/cookie\">\r\n        Cookie Policy\r\n      </Link>\r\n      <span className={classes.sep}>-</span>\r\n      <GnoButtonLink className={cn(classes.item, classes.link, classes.buttonLink)} onClick={openCookiesHandler}>\r\n        Preferences\r\n      </GnoButtonLink>\r\n      <span className={classes.sep}>|</span>\r\n      <Link\r\n        className={cn(classes.item, classes.link)}\r\n        target=\"_blank\"\r\n        to=\"https://github.com/gnosis/safe-react/releases\"\r\n      >\r\n        {appVersion}\r\n      </Link>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import Badge from '@material-ui/core/Badge'\r\nimport { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\n\r\nimport ListMui from '@material-ui/core/List'\r\nimport ListItem, { ListItemProps } from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport { FixedIcon } from '@gnosis.pm/safe-react-components'\r\n\r\nconst StyledListItem = styled(ListItem)<ListItemProps>`\r\n  &.MuiButtonBase-root.MuiListItem-root {\r\n    margin: 4px 0;\r\n  }\r\n\r\n  &.MuiListItem-button:hover {\r\n    border-radius: 8px;\r\n  }\r\n\r\n  &.MuiListItem-root.Mui-selected {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    border-radius: 8px;\r\n    color: ${({ theme }) => theme.colors.primary};\r\n    span {\r\n      color: ${({ theme }) => theme.colors.primary};\r\n    }\r\n    .icon-color {\r\n      fill: ${({ theme }) => theme.colors.primary};\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledListSubItem = styled(ListItem)<ListItemProps>`\r\n  &.MuiButtonBase-root.MuiListItem-root {\r\n    margin: 4px 0;\r\n  }\r\n\r\n  &.MuiListItem-button:hover {\r\n    border-radius: 8px;\r\n  }\r\n\r\n  &.MuiButtonBase-root.MuiListItem-root.Mui-selected {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    border-radius: 8px;\r\n    color: ${({ theme }) => theme.colors.primary};\r\n    span {\r\n      color: ${({ theme }) => theme.colors.primary};\r\n    }\r\n    .icon-color {\r\n      fill: ${({ theme }) => theme.colors.primary};\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledListItemText = styled(ListItemText)`\r\n  span {\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n    font-size: 0.76em;\r\n    font-weight: 600;\r\n    line-height: 1.5;\r\n    letter-spacing: 1px;\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    text-transform: uppercase;\r\n  }\r\n`\r\n\r\nconst StyledListSubItemText = styled(ListItemText)`\r\n  span {\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n    font-size: 0.85em;\r\n    font-weight: 400;\r\n    letter-spacing: 0px;\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    text-transform: none;\r\n  }\r\n`\r\n\r\nconst TextAndBadgeWrapper = styled.div`\r\n  flex: 1 1 auto;\r\n`\r\n\r\nconst StyledBadge = styled(Badge)`\r\n  .MuiBadge-badge {\r\n    top: 50%;\r\n    right: -1rem;\r\n  }\r\n`\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: '100%',\r\n      maxWidth: 200,\r\n      backgroundColor: theme.palette.background.paper,\r\n      overflowX: 'auto',\r\n      margin: '8px 0 -4px 0',\r\n      '&::-webkit-scrollbar': {\r\n        width: '0.5em',\r\n      },\r\n      '&::-webkit-scrollbar-track': {\r\n        boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n        webkitBoxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n        borderRadius: '20px',\r\n      },\r\n      '&::-webkit-scrollbar-thumb': {\r\n        backgroundColor: 'darkgrey',\r\n        outline: '1px solid #dadada',\r\n        borderRadius: '20px',\r\n      },\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(3),\r\n    },\r\n  }),\r\n)\r\n\r\nexport type ListItemType = {\r\n  badge?: boolean\r\n  disabled?: boolean\r\n  label: string\r\n  href: string\r\n  icon?: React.ReactNode\r\n  selected?: boolean\r\n  subItems?: ListItemType[]\r\n}\r\n\r\nconst isSubItemSelected = (item: ListItemType): boolean => item.subItems?.some(({ selected }) => selected) || false\r\n\r\ntype Props = {\r\n  items: ListItemType[]\r\n}\r\n\r\nconst List = ({ items }: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const [groupCollapseStatus, setGroupCollapseStatus] = useState({})\r\n\r\n  const onItemClick = (item: ListItemType, event: MouseEvent) => {\r\n    if (item.subItems) {\r\n      // When we are viewing a subItem of this element we just toggle the expand status\r\n      // preventing navigation\r\n      isSubItemSelected(item) && event.preventDefault()\r\n      // When clicking we toogle item status\r\n      setGroupCollapseStatus((prevStatus) => {\r\n        return { ...prevStatus, ...{ [item.href]: prevStatus[item.href] ? false : true } }\r\n      })\r\n    }\r\n  }\r\n\r\n  const getListItem = (item: ListItemType, isSubItem = true) => {\r\n    const onClick = (e) => onItemClick(item, e)\r\n\r\n    const ListItemAux = isSubItem ? StyledListSubItem : StyledListItem\r\n    const ListItemTextAux = isSubItem ? StyledListSubItemText : StyledListItemText\r\n\r\n    return (\r\n      <ListItemAux\r\n        button\r\n        // For some reason when wrapping a MUI component with styled() component prop gets lost in types\r\n        // But this prop is totally valid\r\n        // eslint-disable-next-line\r\n        // @ts-ignore\r\n        component={Link}\r\n        to={item.href}\r\n        key={item.label}\r\n        onClick={onClick}\r\n        selected={item.selected || isSubItemSelected(item)}\r\n      >\r\n        {item.icon && item.icon}\r\n\r\n        <TextAndBadgeWrapper>\r\n          <StyledBadge badgeContent=\" \" color=\"error\" invisible={!item.badge} variant=\"dot\">\r\n            <ListItemTextAux primary={item.label} />\r\n          </StyledBadge>\r\n        </TextAndBadgeWrapper>\r\n\r\n        {item.subItems &&\r\n          (groupCollapseStatus[item.href] ? <FixedIcon type=\"chevronUp\" /> : <FixedIcon type=\"chevronDown\" />)}\r\n      </ListItemAux>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    // In the current implementation we only want to allow one expanded item at a time\r\n    // When we click any entry that is not a subItem we want to collapse all current expanded items\r\n    setGroupCollapseStatus({})\r\n\r\n    items.forEach((item) => {\r\n      if (isSubItemSelected(item)) {\r\n        setGroupCollapseStatus((prevStatus) => ({ ...prevStatus, ...{ [item.href]: true } }))\r\n      }\r\n    })\r\n  }, [items, history.action, history.location.pathname])\r\n\r\n  return (\r\n    <ListMui component=\"nav\" aria-labelledby=\"nested-list-subheader\" className={classes.root}>\r\n      {items\r\n        .filter(({ disabled }) => !disabled)\r\n        .map((item) => (\r\n          <div key={item.label}>\r\n            {getListItem(item, false)}\r\n            {item.subItems && (\r\n              <Collapse in={groupCollapseStatus[item.href]} timeout=\"auto\" unmountOnExit>\r\n                <ListMui component=\"div\" disablePadding>\r\n                  {item.subItems.filter(({ disabled }) => !disabled).map((subItem) => getListItem(subItem))}\r\n                </ListMui>\r\n              </Collapse>\r\n            )}\r\n          </div>\r\n        ))}\r\n    </ListMui>\r\n  )\r\n}\r\n\r\nexport default List\r\n","// This component is used to create an empty div element to use inside a flex container.\r\n// It can be added into a flex component and use to justify content leaving space around with easier alignment rules.\r\nconst FlexSpacer = (): React.ReactElement => <div></div>\r\n\r\nexport default FlexSpacer\r\n","import styled from 'styled-components'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n  Icon,\r\n  FixedIcon,\r\n  Text,\r\n  Identicon,\r\n  Button,\r\n  CopyToClipboardBtn,\r\n  ExplorerButton,\r\n} from '@gnosis.pm/safe-react-components'\r\n\r\nimport ButtonHelper from 'src/components/ButtonHelper'\r\nimport FlexSpacer from 'src/components/FlexSpacer'\r\nimport { getChainInfo, getExplorerInfo } from 'src/config'\r\nimport { border, fontColor } from 'src/theme/variables'\r\nimport { ChainInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport PrefixedEthHashInfo from 'src/components/PrefixedEthHashInfo'\r\nimport { copyShortNameSelector } from 'src/logic/appearance/selectors'\r\nimport { extractShortChainName } from 'src/routes/routes'\r\n\r\nexport const TOGGLE_SIDEBAR_BTN_TESTID = 'TOGGLE_SIDEBAR_BTN'\r\n\r\nconst Container = styled.div`\r\n  max-width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst IdenticonContainer = styled.div`\r\n  width: 100%;\r\n  margin: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  div:first-of-type {\r\n    width: 32px;\r\n  }\r\n`\r\nconst StyledIcon = styled(Icon)`\r\n  svg {\r\n    height: 26px;\r\n    width: 26px;\r\n    transform: rotateZ(-90deg);\r\n\r\n    path:nth-child(2) {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst IconContainer = styled.div`\r\n  width: 100px;\r\n  display: flex;\r\n  padding: 4px 0;\r\n  justify-content: space-evenly;\r\n`\r\nconst StyledButton = styled(Button)`\r\n  &&.MuiButton-root {\r\n    padding: 0 12px;\r\n  }\r\n  *:first-child {\r\n    margin: 0 4px 0 0;\r\n  }\r\n`\r\n\r\ntype StyledTextLabelProps = {\r\n  chainInfo: ChainInfo\r\n}\r\n\r\nconst StyledTextLabel = styled(Text)`\r\n  margin: -8px 0 4px -8px;\r\n  padding: 4px 8px;\r\n  width: 100%;\r\n  text-align: center;\r\n  color: ${(props: StyledTextLabelProps) => props.chainInfo?.theme?.textColor ?? fontColor};\r\n  background-color: ${(props: StyledTextLabelProps) => props.chainInfo?.theme?.backgroundColor ?? border};\r\n`\r\n\r\nconst StyledTextSafeName = styled(Text)`\r\n  width: 90%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nconst StyledPrefixedEthHashInfo = styled(PrefixedEthHashInfo)`\r\n  p {\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    font-size: 14px;\r\n  }\r\n`\r\n\r\nconst StyledLabel = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.icon};\r\n  margin: 4px 0 0 0 !important;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  letter-spacing: 1px;\r\n  p {\r\n    line-height: 18px;\r\n  }\r\n`\r\nconst StyledText = styled(Text)`\r\n  margin: 8px 0 16px 0;\r\n`\r\n\r\ntype Props = {\r\n  address: string | undefined\r\n  safeName: string | undefined\r\n  granted: boolean\r\n  balance: string | undefined\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n}\r\n\r\nconst SafeHeader = ({\r\n  address,\r\n  safeName,\r\n  balance,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n}: Props): React.ReactElement => {\r\n  const copyChainPrefix = useSelector(copyShortNameSelector)\r\n  const shortName = extractShortChainName()\r\n\r\n  if (!address) {\r\n    return (\r\n      <Container>\r\n        <IdenticonContainer>\r\n          <FlexSpacer />\r\n          <FixedIcon type=\"notConnected\" />\r\n          <ButtonHelper onClick={onToggleSafeList} data-testid={TOGGLE_SIDEBAR_BTN_TESTID}>\r\n            <StyledIcon size=\"md\" type=\"circleDropdown\" />\r\n          </ButtonHelper>\r\n        </IdenticonContainer>\r\n      </Container>\r\n    )\r\n  }\r\n  const chainInfo = getChainInfo()\r\n\r\n  return (\r\n    <>\r\n      {/* Network */}\r\n      <StyledTextLabel size=\"sm\" chainInfo={chainInfo}>\r\n        {chainInfo.chainName}\r\n      </StyledTextLabel>\r\n\r\n      <Container>\r\n        {/* Identicon */}\r\n        <IdenticonContainer>\r\n          <FlexSpacer />\r\n          <Identicon address={address} size=\"lg\" />\r\n          <ButtonHelper onClick={onToggleSafeList} data-testid={TOGGLE_SIDEBAR_BTN_TESTID}>\r\n            <StyledIcon size=\"md\" type=\"circleDropdown\" />\r\n          </ButtonHelper>\r\n        </IdenticonContainer>\r\n\r\n        {/* SafeInfo */}\r\n        <StyledTextSafeName size=\"lg\" center>\r\n          {safeName}\r\n        </StyledTextSafeName>\r\n        <StyledPrefixedEthHashInfo hash={address} shortenHash={4} textSize=\"sm\" />\r\n        <IconContainer>\r\n          <ButtonHelper onClick={onReceiveClick}>\r\n            <Icon size=\"sm\" type=\"qrCode\" tooltip=\"Show QR\" />\r\n          </ButtonHelper>\r\n          <CopyToClipboardBtn textToCopy={copyChainPrefix ? `${shortName}:${address}` : `${address}`} />\r\n          <ExplorerButton explorerUrl={getExplorerInfo(address)} />\r\n        </IconContainer>\r\n\r\n        {!granted && (\r\n          <StyledLabel>\r\n            <Text size=\"sm\" color=\"white\">\r\n              READ ONLY\r\n            </Text>\r\n          </StyledLabel>\r\n        )}\r\n\r\n        <StyledText size=\"xl\">{balance}</StyledText>\r\n        <StyledButton size=\"md\" disabled={!granted} color=\"primary\" variant=\"contained\" onClick={onNewTransactionClick}>\r\n          <FixedIcon type=\"arrowSentWhite\" />\r\n          <Text size=\"xl\" color=\"white\">\r\n            New transaction\r\n          </Text>\r\n        </StyledButton>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SafeHeader\r\n","import { useState, useEffect } from 'react'\r\nimport local from './local'\r\n\r\nconst useCachedState = <T>(key: string): [T | undefined, React.Dispatch<React.SetStateAction<T>>] => {\r\n  const [cache, setCache] = useState<T>()\r\n\r\n  useEffect(() => {\r\n    const saved = local.getItem<T>(key)\r\n    setCache(saved)\r\n  }, [key, setCache])\r\n\r\n  useEffect(() => {\r\n    local.setItem<T | undefined>(key, cache)\r\n  }, [key, cache])\r\n\r\n  return [cache, setCache]\r\n}\r\n\r\nexport default useCachedState\r\n","import styled from 'styled-components'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel/FormControlLabel'\r\nimport { Switch } from '@gnosis.pm/safe-react-components'\r\nimport useCachedState from 'src/utils/storage/useCachedState'\r\nimport { LS_USE_PROD_CGW } from 'src/utils/constants'\r\n\r\nconst StyledContainer = styled.div`\r\n  padding-top: 10px;\r\n  margin-left: 16px;\r\n`\r\n\r\nconst DebugToggle = (): React.ReactElement => {\r\n  const [enabled = false, setEnabled] = useCachedState<boolean>(LS_USE_PROD_CGW)\r\n\r\n  const onToggle = () => {\r\n    setEnabled((prev: boolean) => !prev)\r\n\r\n    setTimeout(() => {\r\n      location.reload()\r\n    }, 200)\r\n  }\r\n\r\n  return (\r\n    <StyledContainer>\r\n      <FormControlLabel control={<Switch checked={enabled} onChange={onToggle} />} label=\"Use prod CGW\" />\r\n    </StyledContainer>\r\n  )\r\n}\r\n\r\nexport default DebugToggle\r\n","import styled from 'styled-components'\r\nimport { Divider, IconText } from '@gnosis.pm/safe-react-components'\r\n\r\nimport List, { ListItemType } from 'src/components/List'\r\nimport SafeHeader from './SafeHeader'\r\nimport DebugToggle from './DebugToggle'\r\nimport { IS_PRODUCTION } from 'src/utils/constants'\r\n\r\nconst StyledDivider = styled(Divider)`\r\n  margin: 16px -8px 0;\r\n`\r\n\r\nconst HelpContainer = styled.div`\r\n  margin-top: auto;\r\n`\r\n\r\nconst HelpCenterLink = styled.a`\r\n  height: 30px;\r\n  width: 166px;\r\n  padding: 6px 0 8px 16px;\r\n  margin: 14px 0px;\r\n  text-decoration: none;\r\n  display: block;\r\n\r\n  &:hover {\r\n    border-radius: 8px;\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    box-sizing: content-box;\r\n  }\r\n  p {\r\n    font-family: ${({ theme }) => theme.fonts.fontFamily};\r\n    font-size: 0.76em;\r\n    font-weight: 600;\r\n    line-height: 1.5;\r\n    letter-spacing: 1px;\r\n    color: ${({ theme }) => theme.colors.placeHolder};\r\n    text-transform: uppercase;\r\n    padding: 0 0 0 4px;\r\n  }\r\n`\r\ntype Props = {\r\n  safeAddress?: string\r\n  safeName?: string\r\n  balance?: string\r\n  granted: boolean\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n  items: ListItemType[]\r\n}\r\n\r\nconst Sidebar = ({\r\n  items,\r\n  balance,\r\n  safeAddress,\r\n  safeName,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n}: Props): React.ReactElement => (\r\n  <>\r\n    <SafeHeader\r\n      address={safeAddress}\r\n      safeName={safeName}\r\n      granted={granted}\r\n      balance={balance}\r\n      onToggleSafeList={onToggleSafeList}\r\n      onReceiveClick={onReceiveClick}\r\n      onNewTransactionClick={onNewTransactionClick}\r\n    />\r\n\r\n    {items.length ? (\r\n      <>\r\n        <StyledDivider />\r\n        <List items={items} />\r\n      </>\r\n    ) : null}\r\n\r\n    <HelpContainer>\r\n      {!IS_PRODUCTION && <DebugToggle />}\r\n\r\n      <StyledDivider />\r\n\r\n      <HelpCenterLink href=\"https://help.gnosis-safe.io/en/\" target=\"_blank\" title=\"Help Center of Gnosis Safe\">\r\n        <IconText text=\"HELP CENTER\" iconSize=\"md\" textSize=\"md\" color=\"placeHolder\" iconType=\"question\" />\r\n      </HelpCenterLink>\r\n    </HelpContainer>\r\n  </>\r\n)\r\n\r\nexport default Sidebar\r\n","export default __webpack_public_path__ + \"static/media/phone@2x.dedd873c.png\";","import { Button, Text, Card, Icon } from '@gnosis.pm/safe-react-components'\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator'\r\nimport styled from 'styled-components'\r\nimport { ReactElement } from 'react'\r\nimport { MobileView } from 'react-device-detect'\r\n\r\nimport Phone from 'src/components/AppLayout/MobileStart/assets/phone@2x.png'\r\n\r\nconst Overlay = styled.div`\r\n  display: block;\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: ${({ theme }) => alpha(theme.colors.overlay.color, 0.75)};\r\n  z-index: 2147483009; /* on top of Intercom Button */\r\n`\r\n\r\nconst ModalApp = styled.div`\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  bottom: 0;\r\n  width: 100vw;\r\n  height: 260px;\r\n  background-color: ${({ theme }) => theme.colors.background};\r\n  box-shadow: 1px 2px 10px rgba(40, 54, 61, 0.18);\r\n  z-index: 2147483004; /* on top of Intercom Button */\r\n  padding: 20px 16px 0 16px;\r\n`\r\n\r\nconst StyledCard = styled(Card)`\r\n  background-color: #fdfdfd;\r\n  /*   width: 45vw; */\r\n  min-width: 245px;\r\n  height: 220px;\r\n  padding: 24px 58px 24px 24px;\r\n  box-sizing: border-box;\r\n  box-shadow: none;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n\r\n  @media (max-width: 340px) {\r\n    padding: 16px;\r\n    min-width: 215px;\r\n  }\r\n`\r\nconst StyledImg = styled.img`\r\n  margin: 24px -81px 0 -58px;\r\n  z-index: 1;\r\n  width: 45%;\r\n  height: auto;\r\n  object-fit: cover;\r\n\r\n  @media (max-width: 340px) {\r\n    display: none;\r\n  }\r\n\r\n  @media (min-width: 430px) {\r\n    width: 30%;\r\n  }\r\n\r\n  @media (min-width: 720px) {\r\n    width: 25%;\r\n  }\r\n\r\n  @media (min-width: 800px) {\r\n    width: 20%;\r\n  }\r\n`\r\n\r\nconst StyledCloseIcon = styled(Icon)`\r\n  margin: 0 34px;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.separator};\r\n    border-radius: 16px;\r\n    padding: 4px;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  @media (max-width: 340px) {\r\n    margin: 8px 34px 0 16px;\r\n  }\r\n`\r\nconst StyledButton = styled(Button)`\r\n  background-color: transparent;\r\n  min-width: 0;\r\n\r\n  :hover {\r\n    background-color: transparent;\r\n  }\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  text-decoration: none;\r\n`\r\n\r\ntype Props = {\r\n  onClose: () => void\r\n}\r\n\r\nexport const MobileNotSupported = ({ onClose }: Props): ReactElement => {\r\n  return (\r\n    <MobileView>\r\n      <Overlay>\r\n        <ModalApp>\r\n          <StyledCard>\r\n            <Text size=\"lg\">The Gnosis Safe web app is not optimized for mobile.</Text>\r\n            <Text size=\"lg\">Get the mobile app for a better experience.</Text>\r\n            <Button size=\"md\" color=\"primary\" variant=\"contained\">\r\n              <StyledLink target=\"_blank\" href=\"https://gnosis-safe.io/#mobile\" rel=\"noopener noreferrer\">\r\n                <Text color=\"white\" size=\"xl\">\r\n                  Get the App\r\n                </Text>\r\n              </StyledLink>\r\n            </Button>\r\n          </StyledCard>\r\n\r\n          <StyledImg src={Phone} alt=\"Phone\" />\r\n          <StyledButton size=\"md\" variant=\"outlined\" color=\"primary\" onClick={onClose}>\r\n            <StyledCloseIcon size=\"md\" type=\"cross\" />\r\n          </StyledButton>\r\n        </ModalApp>\r\n      </Overlay>\r\n    </MobileView>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useLocation, matchPath } from 'react-router-dom'\r\n\r\nimport { ListItemType } from 'src/components/List'\r\n\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Sidebar from './Sidebar'\r\nimport { MobileNotSupported } from './MobileNotSupported'\r\nimport { SAFE_ROUTES, WELCOME_ROUTE } from 'src/routes/routes'\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: ${({ theme }) => theme.colors.background};\r\n`\r\n\r\nconst HeaderWrapper = styled.nav`\r\n  height: 52px;\r\n  width: 100%;\r\n  z-index: 1299;\r\n\r\n  background-color: white;\r\n  box-shadow: 0 2px 4px 0 rgba(40, 54, 61, 0.18);\r\n`\r\n\r\nconst BodyWrapper = styled.div`\r\n  height: calc(100% - 52px);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`\r\n\r\nconst SidebarWrapper = styled.aside`\r\n  height: 100%;\r\n  width: 200px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1;\r\n\r\n  padding: 8px 8px 0 8px;\r\n  background-color: ${({ theme }) => theme.colors.white};\r\n  box-shadow: 0 2px 4px 0 rgba(40, 54, 61, 0.18);\r\n`\r\n\r\nconst ContentWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-x: auto;\r\n\r\n  padding: 0 16px;\r\n\r\n  > :nth-child(1) {\r\n    flex-grow: 1;\r\n    width: 100%;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  > :nth-child(2) {\r\n    width: 100%;\r\n    height: 59px;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  sidebarItems: ListItemType[]\r\n  safeAddress?: string\r\n  safeName?: string\r\n  balance?: string\r\n  granted: boolean\r\n  onToggleSafeList: () => void\r\n  onReceiveClick: () => void\r\n  onNewTransactionClick: () => void\r\n}\r\n\r\nconst Layout: React.FC<Props> = ({\r\n  balance,\r\n  safeAddress,\r\n  safeName,\r\n  granted,\r\n  onToggleSafeList,\r\n  onReceiveClick,\r\n  onNewTransactionClick,\r\n  children,\r\n  sidebarItems,\r\n}): React.ReactElement => {\r\n  const [mobileNotSupportedClosed, setMobileNotSupportedClosed] = useState(false)\r\n  const { pathname } = useLocation()\r\n\r\n  const closeMobileNotSupported = () => setMobileNotSupportedClosed(true)\r\n\r\n  const hasFooter = !!matchPath(pathname, {\r\n    path: [SAFE_ROUTES.SETTINGS, WELCOME_ROUTE],\r\n  })\r\n\r\n  return (\r\n    <Container>\r\n      <HeaderWrapper>\r\n        <Header />\r\n      </HeaderWrapper>\r\n      <BodyWrapper>\r\n        <SidebarWrapper data-testid=\"sidebar\">\r\n          <Sidebar\r\n            items={sidebarItems}\r\n            safeAddress={safeAddress}\r\n            safeName={safeName}\r\n            balance={balance}\r\n            granted={granted}\r\n            onToggleSafeList={onToggleSafeList}\r\n            onReceiveClick={onReceiveClick}\r\n            onNewTransactionClick={onNewTransactionClick}\r\n          />\r\n        </SidebarWrapper>\r\n        <ContentWrapper>\r\n          <div>{children}</div>\r\n          {hasFooter && <Footer />}\r\n        </ContentWrapper>\r\n      </BodyWrapper>\r\n\r\n      {!mobileNotSupportedClosed && <MobileNotSupported onClose={closeMobileNotSupported} />}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import { Text, Icon, Button } from '@gnosis.pm/safe-react-components'\r\nimport { useEffect, useRef, ReactElement } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport ListItem from '@material-ui/core/ListItem/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction/ListItemSecondaryAction'\r\nimport styled from 'styled-components'\r\n\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport PrefixedEthHashInfo from 'src/components/PrefixedEthHashInfo'\r\nimport { formatAmount } from 'src/logic/tokens/utils/formatAmount'\r\nimport { useSelector } from 'react-redux'\r\nimport { addressBookName } from 'src/logic/addressBook/store/selectors'\r\nimport { setChainId } from 'src/logic/config/utils'\r\nimport {\r\n  generateSafeRoute,\r\n  extractSafeAddress,\r\n  LOAD_SPECIFIC_SAFE_ROUTE,\r\n  SAFE_ROUTES,\r\n  SafeRouteParams,\r\n} from 'src/routes/routes'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { getChainById } from 'src/config'\r\n\r\nconst StyledIcon = styled(Icon)<{ checked: boolean }>`\r\n  ${({ checked }) => (checked ? { marginRight: '4px' } : { visibility: 'hidden', width: '28px' })}\r\n`\r\n\r\nconst StyledButton = styled(Button)`\r\n  &.MuiButton-root.MuiButton-text {\r\n    padding: 8px 16px;\r\n    min-width: auto;\r\n    height: 100%;\r\n\r\n    &:hover {\r\n      background-color: #cbf1eb;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledText = styled(Text)`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 16px;\r\n`\r\n\r\nconst StyledPrefixedEthHashInfo = styled(PrefixedEthHashInfo)`\r\n  & > div > p:first-of-type {\r\n    width: 210px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n`\r\n\r\ntype Props = {\r\n  onSafeClick: () => void\r\n  onNetworkSwitch?: () => void\r\n  address: string\r\n  ethBalance?: string\r\n  showAddSafeLink?: boolean\r\n  networkId: ChainId\r\n  shouldScrollToSafe?: boolean\r\n}\r\n\r\nconst SafeListItem = ({\r\n  onSafeClick,\r\n  onNetworkSwitch,\r\n  address,\r\n  ethBalance,\r\n  showAddSafeLink = false,\r\n  networkId,\r\n  shouldScrollToSafe = false,\r\n}: Props): ReactElement => {\r\n  const history = useHistory()\r\n  const safeName = useSelector((state) => addressBookName(state, { address, chainId: networkId }))\r\n  const currentSafeAddress = extractSafeAddress()\r\n  const currChainId = useSelector(currentChainId)\r\n  const isCurrentSafe = currChainId === networkId && sameAddress(currentSafeAddress, address)\r\n  const safeRef = useRef<HTMLDivElement>(null)\r\n\r\n  const { nativeCurrency, shortName } = getChainById(networkId)\r\n  const nativeCurrencySymbol = nativeCurrency?.symbol ?? 'ETH'\r\n\r\n  useEffect(() => {\r\n    if (isCurrentSafe && shouldScrollToSafe) {\r\n      safeRef?.current?.scrollIntoView({ behavior: 'smooth' })\r\n    }\r\n  }, [isCurrentSafe, shouldScrollToSafe])\r\n\r\n  const routesSlug: SafeRouteParams = {\r\n    shortName,\r\n    safeAddress: address,\r\n  }\r\n\r\n  const handleOpenSafe = (): void => {\r\n    onSafeClick()\r\n    onNetworkSwitch?.()\r\n    history.push(generateSafeRoute(SAFE_ROUTES.ASSETS_BALANCES, routesSlug))\r\n  }\r\n\r\n  const handleLoadSafe = (): void => {\r\n    onSafeClick()\r\n    onNetworkSwitch?.()\r\n    history.push(generateSafeRoute(LOAD_SPECIFIC_SAFE_ROUTE, routesSlug))\r\n\r\n    // Navigating to LOAD_SPECIFIC_SAFE_ROUTE doesn't trigger a network switch\r\n    setChainId(networkId)\r\n  }\r\n\r\n  return (\r\n    <ListItem button onClick={handleOpenSafe} ref={safeRef}>\r\n      <StyledIcon type=\"check\" size=\"md\" color=\"primary\" checked={isCurrentSafe} />\r\n      <StyledPrefixedEthHashInfo hash={address} name={safeName} shortName={shortName} showAvatar shortenHash={4} />\r\n      <ListItemSecondaryAction>\r\n        {ethBalance ? (\r\n          <StyledText size=\"lg\">\r\n            {formatAmount(ethBalance)} {nativeCurrencySymbol}\r\n          </StyledText>\r\n        ) : showAddSafeLink ? (\r\n          <StyledButton onClick={handleLoadSafe} size=\"md\" variant=\"outlined\">\r\n            <Text size=\"lg\" color=\"primary\">\r\n              Add Safe\r\n            </Text>\r\n          </StyledButton>\r\n        ) : null}\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  )\r\n}\r\n\r\nexport default SafeListItem\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { safesWithNamesAsList } from 'src/logic/safe/store/selectors'\r\n\r\n/**\r\n * Sort safe list by the name in the address book\r\n */\r\nexport const sortedSafeListSelector = createSelector([safesWithNamesAsList], (safes) =>\r\n  safes.sort((a, b) => (a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1)),\r\n)\r\n","import { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport { sortedSafeListSelector } from 'src/components/SafeListSidebar/selectors'\r\nimport { getChains } from 'src/config/cache/chains'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { SafeRecordProps } from '../store/models/safe'\r\nimport { getLocalNetworkSafesById } from '../utils'\r\n\r\ntype LocalSafes = Record<ChainId, SafeRecordProps[]>\r\n\r\nconst getEmptyLocalSafes = (): LocalSafes => {\r\n  return getChains().reduce((safes, { chainId }) => ({ ...safes, [chainId]: [] }), {} as LocalSafes)\r\n}\r\n\r\nconst useLocalSafes = (): LocalSafes => {\r\n  const [localSafes, setLocalSafes] = useState<LocalSafes>(() => getEmptyLocalSafes())\r\n  const addedSafes = useSelector(sortedSafeListSelector)\r\n  const addedAddresses = addedSafes.map(({ address }) => address).join()\r\n\r\n  // Reload added Safes from the localStorage when addedAddresses changes\r\n  useEffect(() => {\r\n    const getLocalSafes = () => {\r\n      getChains().forEach(({ chainId }) => {\r\n        const localSafe = getLocalNetworkSafesById(chainId)\r\n        setLocalSafes((prevSafes) => ({\r\n          ...prevSafes,\r\n          ...(localSafe && { [chainId]: localSafe }),\r\n        }))\r\n      })\r\n    }\r\n\r\n    getLocalSafes()\r\n  }, [addedAddresses])\r\n\r\n  return localSafes\r\n}\r\n\r\nexport default useLocalSafes\r\n","import { getOwnedSafes } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { _getChainId } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nexport const fetchSafesByOwner = async (ownerAddress: string): Promise<string[]> => {\r\n  return getOwnedSafes(GATEWAY_URL, _getChainId(), checksumAddress(ownerAddress)).then(({ safes }) => safes)\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { userAccountSelector } from 'src/logic/wallets/store/selectors'\r\nimport { fetchSafesByOwner } from 'src/logic/safe/api/fetchSafesByOwner'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport useCachedState from 'src/utils/storage/useCachedState'\r\n\r\ntype OwnedSafesCache = Record<string, Record<string, string[]>>\r\n\r\nconst storageKey = 'ownedSafes'\r\n\r\nconst useOwnerSafes = (): Record<string, string[]> => {\r\n  const connectedWalletAddress = useSelector(userAccountSelector)\r\n  const chainId = useSelector(currentChainId)\r\n  const [cache = {}, setCache] = useCachedState<OwnedSafesCache>(storageKey)\r\n  const ownerSafes = cache[connectedWalletAddress] || {}\r\n\r\n  useEffect(() => {\r\n    if (!connectedWalletAddress) {\r\n      return\r\n    }\r\n\r\n    const load = async () => {\r\n      try {\r\n        const safes = await fetchSafesByOwner(connectedWalletAddress)\r\n\r\n        setCache((prev = {}) => ({\r\n          ...prev,\r\n          [connectedWalletAddress]: {\r\n            ...(prev[connectedWalletAddress] || {}),\r\n            [chainId]: safes,\r\n          },\r\n        }))\r\n      } catch (err) {\r\n        logError(Errors._610, err.message)\r\n      }\r\n    }\r\n\r\n    load()\r\n  }, [chainId, connectedWalletAddress, setCache])\r\n\r\n  return ownerSafes\r\n}\r\n\r\nexport default useOwnerSafes\r\n","import MuiList from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport styled from 'styled-components'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport { Fragment, ReactElement } from 'react'\r\nimport { Text } from '@gnosis.pm/safe-react-components'\r\nimport { Link } from 'react-router-dom'\r\nimport uniqBy from 'lodash/uniqBy'\r\n\r\nimport Collapse from 'src/components/Collapse'\r\nimport SafeListItem from './SafeListItem'\r\nimport useLocalSafes from 'src/logic/safe/hooks/useLocalSafes'\r\nimport { extractSafeAddress, WELCOME_ROUTE } from 'src/routes/routes'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { setChainId } from 'src/logic/config/utils'\r\nimport { useSelector } from 'react-redux'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport useOwnerSafes from 'src/logic/safe/hooks/useOwnerSafes'\r\nimport { getChains } from 'src/config/cache/chains'\r\n\r\nconst MAX_EXPANDED_SAFES = 3\r\n\r\nconst StyledDot = styled.span<{ backgroundColor: string; textColor: string }>`\r\n  width: 15px;\r\n  height: 15px;\r\n  color: ${({ textColor }) => textColor};\r\n  background-color: ${({ backgroundColor }) => backgroundColor};\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  margin-right: 6px;\r\n`\r\n\r\nconst StyledList = styled(MuiList)`\r\n  height: '100%';\r\n  overflow-x: 'hidden';\r\n  overflow-y: 'auto';\r\n  padding: 0;\r\n\r\n  & p > a {\r\n    color: inherit;\r\n  }\r\n`\r\n\r\nconst useStyles = makeStyles({\r\n  listItemCollapse: {\r\n    '&:not(:first-child)': {\r\n      paddingTop: '10px',\r\n    },\r\n\r\n    padding: '0 0 0 0',\r\n    '& > div > div:first-child': {\r\n      paddingLeft: '44px',\r\n      paddingTop: '8px',\r\n      paddingBottom: '8px',\r\n    },\r\n  },\r\n})\r\n\r\nconst PlaceholderText = styled(Text)`\r\n  padding: 16px 44px;\r\n`\r\n\r\ntype Props = {\r\n  onSafeClick: () => void\r\n}\r\n\r\nconst isNotLoadedViaUrl = ({ loadedViaUrl }: SafeRecordProps) => loadedViaUrl === false\r\n\r\nconst isSameAddress = (addrA: string, addrB: string): boolean => addrA.toLowerCase() === addrB.toLowerCase()\r\n\r\nexport const SafeList = ({ onSafeClick }: Props): ReactElement => {\r\n  const classes = useStyles()\r\n  const currentSafeAddress = extractSafeAddress()\r\n  const ownedSafes = useOwnerSafes()\r\n  const localSafes = useLocalSafes()\r\n  const curChainId = useSelector(currentChainId)\r\n\r\n  return (\r\n    <StyledList>\r\n      {getChains().map(({ chainId, theme, chainName }) => {\r\n        const isCurrentNetwork = chainId === curChainId\r\n        const ownedSafesOnNetwork = ownedSafes[chainId] || []\r\n        const localSafesOnNetwork = uniqBy(localSafes[chainId].filter(isNotLoadedViaUrl), ({ address }) =>\r\n          address.toLowerCase(),\r\n        )\r\n\r\n        if (!isCurrentNetwork && !ownedSafesOnNetwork.length && !localSafesOnNetwork.length) {\r\n          return null\r\n        }\r\n\r\n        let shouldExpandOwnedSafes = false\r\n        if (isCurrentNetwork && ownedSafesOnNetwork.includes(currentSafeAddress)) {\r\n          // Expand the Owned Safes if the current Safe is owned, but not added\r\n          shouldExpandOwnedSafes = !localSafesOnNetwork.some(({ address }) =>\r\n            isSameAddress(address, currentSafeAddress),\r\n          )\r\n        } else {\r\n          // Expand the Owned Safes if there are no added Safes\r\n          shouldExpandOwnedSafes = !localSafesOnNetwork.length && ownedSafesOnNetwork.length <= MAX_EXPANDED_SAFES\r\n        }\r\n\r\n        return (\r\n          <Fragment key={chainId}>\r\n            <ListItem selected>\r\n              <StyledDot {...theme} />\r\n              {chainName}\r\n            </ListItem>\r\n            <MuiList>\r\n              {localSafesOnNetwork.map((safe) => (\r\n                <SafeListItem\r\n                  key={safe.address}\r\n                  networkId={chainId}\r\n                  onNetworkSwitch={() => setChainId(chainId)}\r\n                  onSafeClick={onSafeClick}\r\n                  shouldScrollToSafe\r\n                  {...safe}\r\n                />\r\n              ))}\r\n\r\n              {!localSafesOnNetwork.length && !ownedSafesOnNetwork.length && (\r\n                <PlaceholderText size=\"lg\" color=\"placeHolder\">\r\n                  <Link to={WELCOME_ROUTE} onClick={onSafeClick}>\r\n                    Create or add\r\n                  </Link>{' '}\r\n                  an existing Safe on this network\r\n                </PlaceholderText>\r\n              )}\r\n\r\n              {ownedSafesOnNetwork.length > 0 && (\r\n                <ListItem classes={{ root: classes.listItemCollapse }} component=\"div\">\r\n                  <Collapse\r\n                    title={\r\n                      <Text\r\n                        size=\"lg\"\r\n                        color=\"placeHolder\"\r\n                      >{`Safes owned on ${chainName} (${ownedSafesOnNetwork.length})`}</Text>\r\n                    }\r\n                    key={String(shouldExpandOwnedSafes)}\r\n                    defaultExpanded={shouldExpandOwnedSafes}\r\n                  >\r\n                    {ownedSafesOnNetwork.map((ownedAddress) => {\r\n                      const isAdded = localSafesOnNetwork.some(({ address }) => isSameAddress(address, ownedAddress))\r\n\r\n                      return (\r\n                        <SafeListItem\r\n                          key={ownedAddress}\r\n                          address={ownedAddress}\r\n                          networkId={chainId}\r\n                          onSafeClick={onSafeClick}\r\n                          showAddSafeLink={!isAdded}\r\n                          shouldScrollToSafe={shouldExpandOwnedSafes && !isAdded}\r\n                        />\r\n                      )\r\n                    })}\r\n                  </Collapse>\r\n                </ListItem>\r\n              )}\r\n            </MuiList>\r\n          </Fragment>\r\n        )\r\n      })}\r\n    </StyledList>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nimport { headerHeight, md, mediumFontSize, screenSm, secondaryText, xs } from 'src/theme/variables'\r\n\r\nconst sidebarWidth = '400px'\r\nconst sidebarMarginLeft = '0px'\r\nconst sidebarMarginTop = '0px'\r\nconst sidebarMarginBottom = '0px'\r\nconst sidebarBorderRadius = '0px'\r\n\r\nconst useSidebarStyles = makeStyles({\r\n  sidebar: {\r\n    borderRadius: sidebarBorderRadius,\r\n    marginLeft: sidebarMarginLeft,\r\n    top: sidebarMarginTop,\r\n    width: sidebarWidth,\r\n    zIndex: '1298 !important',\r\n  },\r\n  sidebarPaper: {\r\n    borderRadius: sidebarBorderRadius,\r\n    marginLeft: sidebarMarginLeft,\r\n    maxHeight: `calc(100vh - ${headerHeight} - ${sidebarMarginTop} - ${sidebarMarginBottom})`,\r\n    top: `calc(${headerHeight} + ${sidebarMarginTop})`,\r\n    width: sidebarWidth,\r\n    maxWidth: `calc(100% - ${sidebarMarginLeft} - ${sidebarMarginLeft})`,\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      maxWidth: 'none',\r\n    },\r\n  },\r\n  topComponents: {\r\n    alignItems: 'center',\r\n    flexFlow: 'column',\r\n    paddingBottom: '30px',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexFlow: 'row',\r\n      paddingBottom: '0',\r\n    },\r\n  },\r\n  searchWrapper: {\r\n    width: '100%',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      width: 'auto',\r\n    },\r\n  },\r\n  divider: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  spacer: {\r\n    display: 'none',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  headerPlaceholder: {\r\n    minHeight: headerHeight,\r\n  },\r\n  addSafeBtn: {\r\n    fontSize: mediumFontSize,\r\n  },\r\n  searchIcon: {\r\n    color: secondaryText,\r\n    paddingLeft: md,\r\n  },\r\n  searchInput: {\r\n    backgroundColor: 'transparent',\r\n    lineHeight: 'initial',\r\n    padding: 0,\r\n    '& > input::placeholder': {\r\n      letterSpacing: '-0.5px',\r\n      fontSize: mediumFontSize,\r\n      color: 'black',\r\n    },\r\n    '& > input': {\r\n      letterSpacing: '-0.5px',\r\n    },\r\n  },\r\n  searchContainer: {\r\n    flexGrow: '1',\r\n    marginLeft: xs,\r\n    marginRight: xs,\r\n    minWidth: '190px',\r\n  },\r\n  searchRoot: {\r\n    letterSpacing: '-0.5px',\r\n    border: 'none',\r\n    boxShadow: 'none',\r\n    flexGrow: '1',\r\n    '& > button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  searchIconInput: {\r\n    '&:hover': {\r\n      backgroundColor: 'transparent !important',\r\n    },\r\n  },\r\n} as any)\r\n\r\nexport default useSidebarStyles\r\n","import { ReactElement } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { Text } from '@gnosis.pm/safe-react-components'\r\nimport { WELCOME_ROUTE } from 'src/routes/routes'\r\n\r\ninterface Props {\r\n  onAdd: () => unknown\r\n}\r\n\r\nconst StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: center;\r\n  margin: 10px 44px;\r\n\r\n  & > button {\r\n    transform: scale(0.8);\r\n    transform-origin: 0 50%;\r\n\r\n    p {\r\n      position: absolute;\r\n      white-space: nowrap;\r\n      left: 50px;\r\n      margin-top: 3px;\r\n      text-transform: none;\r\n      font-size: 19px;\r\n    }\r\n  }\r\n`\r\n\r\nconst AddSafeButton = ({ onAdd }: Props): ReactElement => {\r\n  return (\r\n    <StyledLink onClick={onAdd} to={WELCOME_ROUTE}>\r\n      <Fab color=\"secondary\" size=\"small\" aria-label=\"Add Safe\">\r\n        <AddIcon />\r\n\r\n        <Text color=\"primary\" size=\"xl\" strong>\r\n          Add Safe\r\n        </Text>\r\n      </Fab>\r\n    </StyledLink>\r\n  )\r\n}\r\n\r\nexport default AddSafeButton\r\n","import { useState, ReactElement, createContext } from 'react'\r\nimport Drawer from '@material-ui/core/Drawer'\r\n\r\nimport { SafeList } from './SafeList'\r\nimport useSidebarStyles from './style'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport { useAnalytics, SAFE_EVENTS } from 'src/utils/googleAnalytics'\r\nimport AddSafeButton from 'src/components/SafeListSidebar/AddSafeButton'\r\n\r\nexport const SafeListSidebarContext = createContext({\r\n  isOpen: false,\r\n  toggleSidebar: () => {},\r\n})\r\n\r\ntype Props = {\r\n  children: ReactElement\r\n}\r\n\r\nexport const SafeListSidebar = ({ children }: Props): ReactElement => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n  const classes = useSidebarStyles()\r\n  const { trackEvent } = useAnalytics()\r\n\r\n  const toggleSidebar = () => {\r\n    if (!isOpen) {\r\n      trackEvent(SAFE_EVENTS.SIDEBAR)\r\n    }\r\n    setIsOpen((prevIsOpen) => !prevIsOpen)\r\n  }\r\n\r\n  const handleEsc = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Escape') {\r\n      toggleSidebar()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SafeListSidebarContext.Provider value={{ isOpen, toggleSidebar }}>\r\n      <Drawer\r\n        classes={{ paper: classes.sidebarPaper }}\r\n        className={classes.sidebar}\r\n        ModalProps={{ onClose: toggleSidebar }}\r\n        onKeyDown={handleEsc}\r\n        open={isOpen}\r\n      >\r\n        <AddSafeButton onAdd={toggleSidebar} />\r\n\r\n        <Hairline />\r\n\r\n        <SafeList onSafeClick={toggleSidebar} />\r\n      </Drawer>\r\n      {children}\r\n    </SafeListSidebarContext.Provider>\r\n  )\r\n}\r\n","import { COOKIES_REDUCER_ID } from 'src/logic/cookies/store/reducer/cookies'\r\n\r\nexport const cookieBannerOpen = (state) => state[COOKIES_REDUCER_ID].get('cookieBannerOpen')\r\n","import crypto from 'crypto'\r\nimport { CookieAttributes } from 'js-cookie'\r\nimport { COOKIES_KEY_INTERCOM } from 'src/logic/cookies/model/cookie'\r\nimport { loadFromCookie, saveCookie } from 'src/logic/cookies/utils'\r\nimport { INTERCOM_ID } from 'src/utils/constants'\r\n\r\nlet intercomLoaded = false\r\n\r\nexport const isIntercomLoaded = (): boolean => intercomLoaded\r\n\r\nconst getIntercomUserId = async () => {\r\n  const cookiesState = await loadFromCookie(COOKIES_KEY_INTERCOM)\r\n  if (!cookiesState) {\r\n    const userId = crypto.randomBytes(32).toString('hex')\r\n    const newCookieState = { userId }\r\n    const cookieConfig: CookieAttributes = {\r\n      expires: 365,\r\n    }\r\n    await saveCookie(COOKIES_KEY_INTERCOM, newCookieState, cookieConfig)\r\n    return userId\r\n  }\r\n  const { userId } = cookiesState\r\n  return userId\r\n}\r\n\r\n// eslint-disable-next-line consistent-return\r\nexport const loadIntercom = async (): Promise<void> => {\r\n  const APP_ID = INTERCOM_ID\r\n  if (!APP_ID) {\r\n    console.error('[Intercom] - In order to use Intercom you need to add an appID')\r\n    return\r\n  }\r\n  const d = document\r\n  const s = d.createElement('script')\r\n  s.type = 'text/javascript'\r\n  s.async = true\r\n  s.src = `https://widget.intercom.io/widget/${APP_ID}`\r\n  const x = d.getElementsByTagName('script')[0]\r\n  x?.parentNode?.insertBefore(s, x)\r\n\r\n  const intercomUserId = await getIntercomUserId()\r\n\r\n  s.onload = () => {\r\n    ;(window as any).Intercom('boot', {\r\n      app_id: APP_ID,\r\n      user_id: intercomUserId,\r\n    })\r\n    intercomLoaded = true\r\n  }\r\n}\r\n\r\nexport const closeIntercom = (): void => {\r\n  if (!isIntercomLoaded()) return\r\n  intercomLoaded = false\r\n  ;(window as any).Intercom('shutdown')\r\n}\r\n","export default __webpack_public_path__ + \"static/media/alert-red.a0f19886.svg\";","export default __webpack_public_path__ + \"static/media/intercom.ef3dfd38.png\";","import Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ReactElement, useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Button from 'src/components/layout/Button'\r\nimport Link from 'src/components/layout/Link'\r\nimport { COOKIES_KEY } from 'src/logic/cookies/model/cookie'\r\nimport { openCookieBanner } from 'src/logic/cookies/store/actions/openCookieBanner'\r\nimport { cookieBannerOpen } from 'src/logic/cookies/store/selectors'\r\nimport { loadFromCookie, saveCookie } from 'src/logic/cookies/utils'\r\nimport { mainFontFamily, md, primary, screenSm } from 'src/theme/variables'\r\nimport { loadGoogleAnalytics, removeCookies } from 'src/utils/googleAnalytics'\r\nimport { closeIntercom, isIntercomLoaded, loadIntercom } from 'src/utils/intercom'\r\nimport AlertRedIcon from './assets/alert-red.svg'\r\nimport IntercomIcon from './assets/intercom.png'\r\nimport { useSafeAppUrl } from 'src/logic/hooks/useSafeAppUrl'\r\nimport { CookieAttributes } from 'js-cookie'\r\n\r\nconst isDesktop = process.env.REACT_APP_BUILD_FOR_DESKTOP\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    backgroundColor: '#fff',\r\n    bottom: '0',\r\n    boxShadow: '1px 2px 10px 0 rgba(40, 54, 61, 0.18)',\r\n    boxSizing: 'border-box',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    left: '0',\r\n    minHeight: '200px',\r\n    padding: '30px 15px 45px',\r\n    position: 'fixed',\r\n    width: '100%',\r\n    zIndex: '999',\r\n  },\r\n  content: {\r\n    maxWidth: '100%',\r\n  },\r\n  text: {\r\n    color: primary,\r\n    fontFamily: mainFontFamily,\r\n    fontSize: md,\r\n    fontWeight: 'normal',\r\n    lineHeight: '1.38',\r\n    margin: '0 auto 35px',\r\n    textAlign: 'center',\r\n    maxWidth: '810px',\r\n  },\r\n  form: {\r\n    columnGap: '20px',\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr',\r\n    paddingBottom: '50px',\r\n    rowGap: '15px',\r\n    margin: '0 auto',\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr',\r\n      paddingBottom: '0',\r\n      rowGap: '5px',\r\n    },\r\n  },\r\n  formItem: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  link: {\r\n    textDecoration: 'underline',\r\n    '&:hover': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  intercomAlert: {\r\n    fontWeight: 'bold',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    padding: '0 0 13px 0',\r\n    svg: {\r\n      marginRight: '5px',\r\n    },\r\n  },\r\n  intercomImage: {\r\n    position: 'fixed',\r\n    cursor: 'pointer',\r\n    height: '80px',\r\n    width: '80px',\r\n    bottom: '8px',\r\n    right: '10px',\r\n    zIndex: '1000',\r\n    boxShadow: '1px 2px 10px 0 var(rgba(40, 54, 61, 0.18))',\r\n  },\r\n} as any)\r\n\r\ninterface CookiesBannerFormProps {\r\n  alertMessage: boolean\r\n}\r\n\r\nconst CookiesBanner = (): ReactElement => {\r\n  const classes = useStyles()\r\n  const dispatch = useRef(useDispatch())\r\n  const intercomLoaded = isIntercomLoaded()\r\n\r\n  const [showAnalytics, setShowAnalytics] = useState(false)\r\n  const [showIntercom, setShowIntercom] = useState(false)\r\n  const [localNecessary, setLocalNecessary] = useState(true)\r\n  const [localAnalytics, setLocalAnalytics] = useState(false)\r\n  const [localIntercom, setLocalIntercom] = useState(false)\r\n  const { getAppUrl } = useSafeAppUrl()\r\n\r\n  const showBanner = useSelector(cookieBannerOpen)\r\n  const newAppUrl = getAppUrl()\r\n  const isSafeAppView = newAppUrl !== null\r\n\r\n  useEffect(() => {\r\n    if (showIntercom && !isSafeAppView) {\r\n      loadIntercom()\r\n    }\r\n  }, [showIntercom, isSafeAppView])\r\n\r\n  useEffect(() => {\r\n    if (intercomLoaded && isSafeAppView) {\r\n      closeIntercom()\r\n    }\r\n  }, [isSafeAppView, intercomLoaded])\r\n\r\n  useEffect(() => {\r\n    async function fetchCookiesFromStorage() {\r\n      const cookiesState = await loadFromCookie(COOKIES_KEY)\r\n      if (!cookiesState) {\r\n        dispatch.current(openCookieBanner({ cookieBannerOpen: true }))\r\n      } else {\r\n        const { acceptedIntercom, acceptedAnalytics, acceptedNecessary } = cookiesState\r\n        if (acceptedIntercom === undefined) {\r\n          const newState = {\r\n            acceptedNecessary,\r\n            acceptedAnalytics,\r\n            acceptedIntercom: acceptedAnalytics,\r\n          }\r\n          const cookieConfig: CookieAttributes = {\r\n            expires: acceptedAnalytics ? 365 : 7,\r\n          }\r\n          await saveCookie(COOKIES_KEY, newState, cookieConfig)\r\n          setLocalIntercom(newState.acceptedIntercom)\r\n          setShowIntercom(newState.acceptedIntercom)\r\n        } else {\r\n          setLocalIntercom(acceptedIntercom)\r\n          setShowIntercom(acceptedIntercom)\r\n        }\r\n        setLocalAnalytics(acceptedAnalytics)\r\n        setLocalNecessary(acceptedNecessary)\r\n\r\n        if (acceptedAnalytics && !isDesktop) {\r\n          loadGoogleAnalytics()\r\n        }\r\n      }\r\n    }\r\n    fetchCookiesFromStorage()\r\n  }, [showAnalytics, showIntercom])\r\n\r\n  const acceptCookiesHandler = async () => {\r\n    const newState = {\r\n      acceptedNecessary: true,\r\n      acceptedAnalytics: !isDesktop,\r\n      acceptedIntercom: true,\r\n    }\r\n    const cookieConfig: CookieAttributes = {\r\n      expires: 365,\r\n    }\r\n    await saveCookie(COOKIES_KEY, newState, cookieConfig)\r\n    setShowAnalytics(!isDesktop)\r\n    setShowIntercom(true)\r\n    dispatch.current(openCookieBanner({ cookieBannerOpen: false }))\r\n  }\r\n\r\n  const closeCookiesBannerHandler = async () => {\r\n    const newState = {\r\n      acceptedNecessary: true,\r\n      acceptedAnalytics: localAnalytics,\r\n      acceptedIntercom: localIntercom,\r\n    }\r\n    const cookieConfig: CookieAttributes = {\r\n      expires: localAnalytics ? 365 : 7,\r\n    }\r\n    await saveCookie(COOKIES_KEY, newState, cookieConfig)\r\n    setShowAnalytics(localAnalytics)\r\n    setShowIntercom(localIntercom)\r\n\r\n    if (!localAnalytics) {\r\n      removeCookies()\r\n    }\r\n\r\n    if (!localIntercom && isIntercomLoaded()) {\r\n      closeIntercom()\r\n    }\r\n    dispatch.current(openCookieBanner({ cookieBannerOpen: false }))\r\n  }\r\n\r\n  const CookiesBannerForm = (props: CookiesBannerFormProps) => {\r\n    const { alertMessage } = props\r\n    return (\r\n      <div data-testid=\"cookies-banner-form\" className={classes.container}>\r\n        <div className={classes.content}>\r\n          {alertMessage && (\r\n            <div className={classes.intercomAlert}>\r\n              <img src={AlertRedIcon} />\r\n              You attempted to open the customer support chat. Please accept the customer support cookie.\r\n            </div>\r\n          )}\r\n          <p className={classes.text}>\r\n            We use cookies to provide you with the best experience and to help improve our website and application.\r\n            Please read our{' '}\r\n            <Link className={classes.link} to=\"https://gnosis-safe.io/cookie\">\r\n              Cookie Policy\r\n            </Link>{' '}\r\n            for more information. By clicking &quot;Accept all&quot;, you agree to the storing of cookies on your device\r\n            to enhance site navigation, analyze site usage and provide customer support.\r\n          </p>\r\n          <div className={classes.form}>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                checked={localNecessary}\r\n                control={<Checkbox disabled />}\r\n                disabled\r\n                label=\"Necessary\"\r\n                name=\"Necessary\"\r\n                onChange={() => setLocalNecessary((prev) => !prev)}\r\n                value={localNecessary}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                control={<Checkbox checked={localIntercom} />}\r\n                label=\"Customer support\"\r\n                name=\"Customer support\"\r\n                onChange={() => setLocalIntercom((prev) => !prev)}\r\n                value={localIntercom}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <FormControlLabel\r\n                control={<Checkbox checked={localAnalytics} />}\r\n                label=\"Analytics\"\r\n                name=\"Analytics\"\r\n                onChange={() => setLocalAnalytics((prev) => !prev)}\r\n                value={localAnalytics}\r\n              />\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <Button\r\n                color=\"primary\"\r\n                component={Link}\r\n                minWidth={180}\r\n                onClick={() => closeCookiesBannerHandler()}\r\n                variant=\"outlined\"\r\n              >\r\n                Accept selection\r\n              </Button>\r\n            </div>\r\n            <div className={classes.formItem}>\r\n              <Button\r\n                color=\"primary\"\r\n                component={Link}\r\n                minWidth={180}\r\n                onClick={() => acceptCookiesHandler()}\r\n                variant=\"contained\"\r\n              >\r\n                Accept all\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!isDesktop && !showIntercom && !isSafeAppView && (\r\n        <img\r\n          className={classes.intercomImage}\r\n          src={IntercomIcon}\r\n          onClick={() => dispatch.current(openCookieBanner({ cookieBannerOpen: true, intercomAlertDisplayed: true }))}\r\n        />\r\n      )}\r\n      {!isDesktop && showBanner?.cookieBannerOpen && (\r\n        <CookiesBannerForm alertMessage={showBanner?.intercomAlertDisplayed} />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CookiesBanner\r\n","import removeSnackbar from 'src/logic/notifications/store/actions/removeSnackbar'\r\n\r\nexport default {\r\n  removeSnackbar,\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { NOTIFICATIONS_REDUCER_ID } from 'src/logic/notifications/store/reducer/notifications'\r\n\r\nconst notificationsMapSelector = (state) => state[NOTIFICATIONS_REDUCER_ID]\r\n\r\nexport const notificationsListSelector = createSelector(notificationsMapSelector, (notifications) =>\r\n  notifications.toList(),\r\n)\r\n","import { createStructuredSelector } from 'reselect'\r\n\r\nimport { notificationsListSelector } from 'src/logic/notifications/store/selectors'\r\n\r\nexport default createStructuredSelector({\r\n  notifications: notificationsListSelector,\r\n})\r\n","import { List } from 'immutable'\r\nimport { withSnackbar } from 'notistack'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\n\r\nimport actions from './actions'\r\nimport selector from './selector'\r\n\r\nclass Notifier extends Component<any> {\r\n  displayed: string[] = []\r\n\r\n  shouldComponentUpdate({ notifications: newSnacks = List<Notification>() }) {\r\n    const { closeSnackbar, notifications: currentSnacks, removeSnackbar } = this.props\r\n\r\n    if (!newSnacks.size) {\r\n      this.displayed = []\r\n      return false\r\n    }\r\n    let notExists = false\r\n    for (let i = 0; i < newSnacks.size; i += 1) {\r\n      const newSnack = newSnacks.get(i)\r\n\r\n      if (newSnack?.dismissed) {\r\n        closeSnackbar(newSnack.key)\r\n        removeSnackbar(newSnack.key)\r\n      }\r\n\r\n      if (notExists) {\r\n        continue\r\n      }\r\n      notExists = notExists || !currentSnacks.filter(({ key }) => newSnack?.key === key).size\r\n    }\r\n    return notExists\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { notifications = [], enqueueSnackbar, removeSnackbar } = this.props\r\n\r\n    notifications.forEach((notification) => {\r\n      // Do nothing if snackbar is already displayed\r\n      if (this.displayed.includes(notification.key)) {\r\n        return\r\n      }\r\n\r\n      // Display snackbar using notistack\r\n      enqueueSnackbar(notification.message, {\r\n        key: notification.key,\r\n        ...notification.options,\r\n        onClose: (event, reason, key) => {\r\n          if (notification.options.onClose) {\r\n            notification.options.onClose(event, reason, key)\r\n          }\r\n          // Dispatch action to remove snackbar from redux store\r\n          removeSnackbar(key)\r\n        },\r\n      })\r\n      // Keep track of snackbars that we've displayed\r\n      this.storeDisplayed(notification.key)\r\n    })\r\n  }\r\n\r\n  storeDisplayed = (id: string) => {\r\n    this.displayed = [...this.displayed, id]\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default withSnackbar(connect(selector, actions)(Notifier))\r\n","import { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\n\r\nimport updateViewedSafes from 'src/logic/currentSession/store/actions/updateViewedSafes'\r\n\r\nconst addViewedSafe =\r\n  (safeAddress: string) =>\r\n  (dispatch: Dispatch): void => {\r\n    dispatch(updateViewedSafes(safeAddress))\r\n  }\r\n\r\nexport default addViewedSafe\r\n","import { Dispatch } from 'redux'\r\nimport { getCurrentMasterContractLastVersion } from 'src/logic/safe/utils/safeVersion'\r\nimport setLatestMasterContractVersion from 'src/logic/safe/store/actions/setLatestMasterContractVersion'\r\n\r\nconst fetchLatestMasterContractVersion =\r\n  () =>\r\n  async (dispatch: Dispatch): Promise<void> => {\r\n    const latestVersion = await getCurrentMasterContractLastVersion()\r\n\r\n    dispatch(setLatestMasterContractVersion(latestVersion))\r\n  }\r\n\r\nexport default fetchLatestMasterContractVersion\r\n","import { FiatCurrencies, getFiatCurrencies } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nexport const fetchAvailableCurrencies = async (): Promise<FiatCurrencies> => {\r\n  return getFiatCurrencies(GATEWAY_URL)\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport addViewedSafe from 'src/logic/currentSession/store/actions/addViewedSafe'\r\nimport fetchLatestMasterContractVersion from 'src/logic/safe/store/actions/fetchLatestMasterContractVersion'\r\nimport { fetchSafe } from 'src/logic/safe/store/actions/fetchSafe'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { updateAvailableCurrencies } from 'src/logic/currencyValues/store/actions/updateAvailableCurrencies'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { fetchSafeTokens } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\n\r\nexport const useLoadSafe = (safeAddress?: string): void => {\r\n  const dispatch = useDispatch<Dispatch>()\r\n  const chainId = useSelector(currentChainId)\r\n\r\n  useEffect(() => {\r\n    if (!safeAddress) return\r\n\r\n    dispatch(fetchLatestMasterContractVersion())\r\n    dispatch(fetchSafe(safeAddress, true))\r\n    dispatch(fetchSafeTokens(safeAddress))\r\n    dispatch(updateAvailableCurrencies())\r\n    dispatch(addViewedSafe(safeAddress))\r\n  }, [dispatch, safeAddress, chainId])\r\n}\r\n","import { Action } from 'redux-actions'\r\nimport { ThunkDispatch } from 'redux-thunk'\r\nimport { AppReduxState } from 'src/store'\r\nimport { AvailableCurrenciesPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\nimport { setAvailableCurrencies } from 'src/logic/currencyValues/store/actions/setAvailableCurrencies'\r\nimport { fetchAvailableCurrencies } from 'src/logic/currencyValues/api/fetchAvailableCurrencies'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\n\r\nexport const updateAvailableCurrencies =\r\n  () =>\r\n  async (dispatch: ThunkDispatch<AppReduxState, undefined, Action<AvailableCurrenciesPayload>>): Promise<void> => {\r\n    try {\r\n      const availableCurrencies = await fetchAvailableCurrencies()\r\n      dispatch(setAvailableCurrencies({ availableCurrencies }))\r\n    } catch (err) {\r\n      logError(Errors._607, err.message)\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n","import { useState, useMemo } from 'react'\r\n\r\ntype SafeActionsState = {\r\n  sendFunds: {\r\n    isOpen: boolean\r\n    selectedToken?: string\r\n  }\r\n  showReceive: boolean\r\n}\r\n\r\nconst INITIAL_STATE: SafeActionsState = {\r\n  sendFunds: {\r\n    isOpen: false,\r\n    selectedToken: undefined,\r\n  },\r\n  showReceive: false,\r\n}\r\n\r\ntype Response = {\r\n  onShow: (action: string) => void\r\n  onHide: (action: string) => void\r\n  showSendFunds: (token: string) => void\r\n  hideSendFunds: () => void\r\n  safeActionsState: SafeActionsState\r\n}\r\n\r\nconst useSafeActions = (): Response => {\r\n  const [safeActionsState, setSafeActionsState] = useState(INITIAL_STATE)\r\n\r\n  const onShow = useMemo(\r\n    () => (action) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        [`show${action}`]: true,\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const onHide = useMemo(\r\n    () => (action) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        [`show${action}`]: false,\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const showSendFunds = useMemo(\r\n    () => (token) => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        sendFunds: {\r\n          isOpen: true,\r\n          selectedToken: token,\r\n        },\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  const hideSendFunds = useMemo(\r\n    () => () => {\r\n      setSafeActionsState((prevState) => ({\r\n        ...prevState,\r\n        sendFunds: {\r\n          isOpen: false,\r\n          selectedToken: undefined,\r\n        },\r\n      }))\r\n    },\r\n    [],\r\n  )\r\n\r\n  return { safeActionsState, onShow, onHide, showSendFunds, hideSendFunds }\r\n}\r\n\r\nexport default useSafeActions\r\n","import styled from 'styled-components'\r\nimport { Icon, IconTypes } from '@gnosis.pm/safe-react-components'\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  min-width: 32px !important;\r\n`\r\n\r\ntype Props = {\r\n  type: IconTypes\r\n}\r\n\r\nconst ListItemIcon = ({ type }: Props): React.ReactElement => <StyledIcon type={type} color=\"placeHolder\" size=\"md\" />\r\n\r\nexport default ListItemIcon\r\n","import { useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { addressBookSync } from 'src/logic/addressBook/store/actions'\r\nimport { ADDRESS_BOOK_REDUCER_ID } from 'src/logic/addressBook/store/reducer'\r\nimport { AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\n\r\nconst useAddressBookSync = (): void => {\r\n  const dispatch = useDispatch<Dispatch>()\r\n\r\n  useEffect(() => {\r\n    const onStorageUpdate = (e: StorageEvent) => {\r\n      if (e.newValue && e.newValue !== e.oldValue && e.key?.endsWith(ADDRESS_BOOK_REDUCER_ID)) {\r\n        let newState: AddressBookState\r\n        try {\r\n          newState = JSON.parse(e.newValue) as AddressBookState\r\n        } catch (e) {\r\n          return\r\n        }\r\n        dispatch(addressBookSync(newState))\r\n      }\r\n    }\r\n\r\n    window.addEventListener('storage', onStorageUpdate)\r\n\r\n    return () => {\r\n      window.removeEventListener('storage', onStorageUpdate)\r\n    }\r\n  }, [dispatch])\r\n}\r\n\r\nexport default useAddressBookSync\r\n","import { useContext, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { SnackbarProvider } from 'notistack'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\nimport AlertIcon from 'src/assets/icons/alert.svg'\r\nimport CheckIcon from 'src/assets/icons/check.svg'\r\nimport ErrorIcon from 'src/assets/icons/error.svg'\r\nimport InfoIcon from 'src/assets/icons/info.svg'\r\nimport AppLayout from 'src/components/AppLayout'\r\nimport { SafeListSidebar, SafeListSidebarContext } from 'src/components/SafeListSidebar'\r\nimport CookiesBanner from 'src/components/CookiesBanner'\r\nimport Notifier from 'src/components/Notifier'\r\nimport Img from 'src/components/layout/Img'\r\nimport { currentSafeWithNames } from 'src/logic/safe/store/selectors'\r\nimport { currentCurrencySelector } from 'src/logic/currencyValues/store/selectors'\r\nimport Modal from 'src/components/Modal'\r\nimport SendModal from 'src/routes/safe/components/Balances/SendModal'\r\nimport { useLoadSafe } from 'src/logic/safe/hooks/useLoadSafe'\r\nimport { useSafeScheduledUpdates } from 'src/logic/safe/hooks/useSafeScheduledUpdates'\r\nimport useSafeActions from 'src/logic/safe/hooks/useSafeActions'\r\nimport { formatAmountInUsFormat } from 'src/logic/tokens/utils/formatAmount'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\nimport ReceiveModal from './ReceiveModal'\r\nimport { useSidebarItems } from 'src/components/AppLayout/Sidebar/useSidebarItems'\r\nimport useAddressBookSync from 'src/logic/addressBook/hooks/useAddressBookSync'\r\nimport { extractSafeAddress } from 'src/routes/routes'\r\nimport loadSafesFromStorage from 'src/logic/safe/store/actions/loadSafesFromStorage'\r\nimport loadCurrentSessionFromStorage from 'src/logic/currentSession/store/actions/loadCurrentSessionFromStorage'\r\n\r\nconst notificationStyles = {\r\n  success: {\r\n    background: '#fff',\r\n  },\r\n  error: {\r\n    background: '#ffe6ea',\r\n  },\r\n  warning: {\r\n    background: '#fff3e2',\r\n  },\r\n  info: {\r\n    background: '#fff',\r\n  },\r\n}\r\n\r\nconst Frame = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1 1 auto;\r\n  max-width: 100%;\r\n`\r\n\r\nconst useStyles = makeStyles(notificationStyles)\r\n\r\nconst App: React.FC = ({ children }) => {\r\n  const classes = useStyles()\r\n  const { toggleSidebar } = useContext(SafeListSidebarContext)\r\n  const { name: safeName, totalFiatBalance: currentSafeBalance } = useSelector(currentSafeWithNames)\r\n  const addressFromUrl = extractSafeAddress()\r\n  const { safeActionsState, onShow, onHide, showSendFunds, hideSendFunds } = useSafeActions()\r\n  const currentCurrency = useSelector(currentCurrencySelector)\r\n  const granted = useSelector(grantedSelector)\r\n  const sidebarItems = useSidebarItems()\r\n  const dispatch = useDispatch()\r\n  useLoadSafe(addressFromUrl) // load initially\r\n  useSafeScheduledUpdates(addressFromUrl) // load every X seconds\r\n  useAddressBookSync()\r\n\r\n  const sendFunds = safeActionsState.sendFunds\r\n  const formattedTotalBalance = currentSafeBalance ? formatAmountInUsFormat(currentSafeBalance.toString()) : ''\r\n  const balance =\r\n    !!formattedTotalBalance && !!currentCurrency ? `${formattedTotalBalance} ${currentCurrency}` : undefined\r\n\r\n  const onReceiveShow = () => onShow('Receive')\r\n  const onReceiveHide = () => onHide('Receive')\r\n\r\n  // Load the Safes from LS just once,\r\n  // they'll be reloaded on network change\r\n  useEffect(() => {\r\n    dispatch(loadSafesFromStorage())\r\n    dispatch(loadCurrentSessionFromStorage())\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <Frame>\r\n      <SnackbarProvider\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        classes={{\r\n          variantSuccess: classes.success,\r\n          variantError: classes.error,\r\n          variantWarning: classes.warning,\r\n          variantInfo: classes.info,\r\n        }}\r\n        iconVariant={{\r\n          error: <Img alt=\"Error\" src={ErrorIcon} />,\r\n          info: <Img alt=\"Info\" src={InfoIcon} />,\r\n          success: <Img alt=\"Success\" src={CheckIcon} />,\r\n          warning: <Img alt=\"Warning\" src={AlertIcon} />,\r\n        }}\r\n        maxSnack={5}\r\n      >\r\n        <>\r\n          <Notifier />\r\n\r\n          <AppLayout\r\n            sidebarItems={sidebarItems}\r\n            safeAddress={addressFromUrl}\r\n            safeName={safeName}\r\n            balance={balance}\r\n            granted={granted}\r\n            onToggleSafeList={toggleSidebar}\r\n            onReceiveClick={onReceiveShow}\r\n            onNewTransactionClick={() => showSendFunds('')}\r\n          >\r\n            {children}\r\n          </AppLayout>\r\n\r\n          <SendModal\r\n            activeScreenType=\"chooseTxType\"\r\n            isOpen={sendFunds.isOpen}\r\n            onClose={hideSendFunds}\r\n            selectedToken={sendFunds.selectedToken}\r\n          />\r\n\r\n          {addressFromUrl && (\r\n            <Modal\r\n              description=\"Receive Tokens Form\"\r\n              handleClose={onReceiveHide}\r\n              open={safeActionsState.showReceive}\r\n              paperClassName=\"receive-modal\"\r\n              title=\"Receive Tokens\"\r\n            >\r\n              <ReceiveModal onClose={onReceiveHide} safeAddress={addressFromUrl} safeName={safeName} />\r\n            </Modal>\r\n          )}\r\n        </>\r\n      </SnackbarProvider>\r\n      <CookiesBanner />\r\n    </Frame>\r\n  )\r\n}\r\n\r\nconst WrapperAppWithSidebar: React.FC = ({ children }) => (\r\n  <SafeListSidebar>\r\n    <App>{children}</App>\r\n  </SafeListSidebar>\r\n)\r\n\r\nexport default WrapperAppWithSidebar\r\n","import { useMemo, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useRouteMatch } from 'react-router-dom'\r\nimport { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { getShortName } from 'src/config'\r\nimport { ListItemType } from 'src/components/List'\r\nimport ListIcon from 'src/components/List/ListIcon'\r\nimport { currentSafeFeaturesEnabled, currentSafeWithNames } from 'src/logic/safe/store/selectors'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\nimport {\r\n  extractSafeAddress,\r\n  ADDRESSED_ROUTE,\r\n  SAFE_SUBSECTION_ROUTE,\r\n  generatePrefixedAddressRoutes,\r\n} from 'src/routes/routes'\r\nimport { hasFeature } from 'src/logic/safe/utils/safeVersion'\r\n\r\nconst useSidebarItems = (): ListItemType[] => {\r\n  const featuresEnabled = useSelector(currentSafeFeaturesEnabled)\r\n  const safeAppsEnabled = hasFeature(FEATURES.SAFE_APPS)\r\n  const isCollectiblesEnabled = hasFeature(FEATURES.ERC721)\r\n  const isSpendingLimitEnabled = hasFeature(FEATURES.SPENDING_LIMIT)\r\n  const { needsUpdate } = useSelector(currentSafeWithNames)\r\n  const safeAddress = extractSafeAddress()\r\n  const granted = useSelector(grantedSelector)\r\n\r\n  const matchSafe = useRouteMatch(ADDRESSED_ROUTE)\r\n\r\n  // Question mark makes matching [SAFE_SUBSECTION_SLUG] optional\r\n  const matchSafeWithSidebarSection = useRouteMatch(`${SAFE_SUBSECTION_ROUTE}?`)\r\n\r\n  const makeEntryItem = useCallback(\r\n    ({ label, disabled, badge, iconType, href, subItems }) => ({\r\n      label,\r\n      badge,\r\n      disabled,\r\n      icon: <ListIcon type={iconType} />,\r\n      selected: href === matchSafeWithSidebarSection?.url,\r\n      href,\r\n      subItems,\r\n    }),\r\n    [matchSafeWithSidebarSection],\r\n  )\r\n\r\n  return useMemo((): ListItemType[] => {\r\n    if (!matchSafe || !matchSafeWithSidebarSection || !featuresEnabled || !safeAddress) {\r\n      return []\r\n    }\r\n\r\n    const currentSafeRoutes = generatePrefixedAddressRoutes({\r\n      shortName: getShortName(),\r\n      safeAddress,\r\n    })\r\n\r\n    const assetsSubItems = [\r\n      makeEntryItem({\r\n        label: 'Coins',\r\n        iconType: 'assets',\r\n        href: currentSafeRoutes.ASSETS_BALANCES,\r\n      }),\r\n      makeEntryItem({\r\n        disabled: !isCollectiblesEnabled,\r\n        label: 'Collectibles',\r\n        iconType: 'collectibles',\r\n        href: currentSafeRoutes.ASSETS_BALANCES_COLLECTIBLES,\r\n      }),\r\n    ]\r\n\r\n    const settingsSubItems = [\r\n      makeEntryItem({\r\n        label: 'Safe Details',\r\n        badge: needsUpdate && granted,\r\n        iconType: 'info',\r\n        href: currentSafeRoutes.SETTINGS_DETAILS,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'Appearance',\r\n        iconType: 'eye',\r\n        href: currentSafeRoutes.SETTINGS_APPEARANCE,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'Owners',\r\n        iconType: 'owners',\r\n        href: currentSafeRoutes.SETTINGS_OWNERS,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'Policies',\r\n        iconType: 'requiredConfirmations',\r\n        href: currentSafeRoutes.SETTINGS_POLICIES,\r\n      }),\r\n      makeEntryItem({\r\n        disabled: !isSpendingLimitEnabled,\r\n        label: 'Spending Limit',\r\n        iconType: 'fuelIndicator',\r\n        href: currentSafeRoutes.SETTINGS_SPENDING_LIMIT,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'Advanced',\r\n        iconType: 'settingsTool',\r\n        href: currentSafeRoutes.SETTINGS_ADVANCED,\r\n      }),\r\n    ].filter(Boolean)\r\n\r\n    return [\r\n      makeEntryItem({\r\n        label: 'ASSETS',\r\n        iconType: 'assets',\r\n        href: currentSafeRoutes.ASSETS_BALANCES,\r\n        subItems: assetsSubItems,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'TRANSACTIONS',\r\n        iconType: 'transactionsInactive',\r\n        href: currentSafeRoutes.TRANSACTIONS_HISTORY,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'ADDRESS BOOK',\r\n        iconType: 'addressBook',\r\n        href: currentSafeRoutes.ADDRESS_BOOK,\r\n      }),\r\n      makeEntryItem({\r\n        disabled: !safeAppsEnabled,\r\n        label: 'Apps',\r\n        iconType: 'apps',\r\n        href: currentSafeRoutes.APPS,\r\n      }),\r\n      makeEntryItem({\r\n        label: 'Settings',\r\n        iconType: 'settings',\r\n        href: currentSafeRoutes.SETTINGS_DETAILS,\r\n        subItems: settingsSubItems,\r\n      }),\r\n    ]\r\n  }, [\r\n    featuresEnabled,\r\n    granted,\r\n    isCollectiblesEnabled,\r\n    isSpendingLimitEnabled,\r\n    makeEntryItem,\r\n    matchSafe,\r\n    matchSafeWithSidebarSection,\r\n    needsUpdate,\r\n    safeAddress,\r\n    safeAppsEnabled,\r\n  ])\r\n}\r\n\r\nexport { useSidebarItems }\r\n","import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { fetchSafe } from 'src/logic/safe/store/actions/fetchSafe'\r\nimport { fetchSafeTokens } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\nimport { SAFE_POLLING_INTERVAL } from 'src/utils/constants'\r\n\r\nexport const useSafeScheduledUpdates = (safeAddress?: string): void => {\r\n  const dispatch = useDispatch()\r\n  const [pollCount, setPollCount] = useState<number>(0)\r\n  const chainId = useSelector(currentChainId)\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (safeAddress) {\r\n        dispatch(fetchSafe(safeAddress))\r\n        dispatch(fetchSafeTokens(safeAddress))\r\n      }\r\n      setPollCount((prev) => prev + 1)\r\n    }, SAFE_POLLING_INTERVAL)\r\n\r\n    return () => {\r\n      clearTimeout(timer)\r\n    }\r\n  }, [dispatch, safeAddress, chainId, pollCount, setPollCount])\r\n}\r\n","import styled from 'styled-components'\r\nimport { Text, Link, Icon, FixedIcon, Title } from '@gnosis.pm/safe-react-components'\r\nimport { IS_PRODUCTION } from 'src/utils/constants'\r\nimport { FallbackRender } from '@sentry/react/dist/errorboundary'\r\nimport { ROOT_ROUTE } from 'src/routes/routes'\r\nimport { loadFromSessionStorage, removeFromSessionStorage, saveToSessionStorage } from 'src/utils/storage/session'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  margin-top: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n`\r\n\r\nconst Content = styled.div`\r\n  width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n\r\n  > * {\r\n    margin-top: 10px;\r\n  }\r\n`\r\n\r\nconst LinkWrapper = styled.div`\r\n  display: inline-flex;\r\n  margin-bottom: 10px;\r\n\r\n  > :first-of-type {\r\n    margin-right: 5px;\r\n  }\r\n`\r\n\r\nconst LinkContent = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > span {\r\n    margin-right: 5px;\r\n  }\r\n`\r\n\r\n//  When loading app during release, chunk load failure may occur\r\nexport const handleChunkError = (error: Error): boolean => {\r\n  const LAST_CHUNK_FAILURE_RELOAD_KEY = 'lastChunkFailureReload'\r\n  const MIN_RELOAD_TIME = 10_000\r\n\r\n  const chunkFailedMessage = /Loading chunk [\\d]+ failed/\r\n  const isChunkError = error?.message && chunkFailedMessage.test(error.message)\r\n\r\n  if (!isChunkError) return false\r\n\r\n  const lastReload = loadFromSessionStorage<number>(LAST_CHUNK_FAILURE_RELOAD_KEY)\r\n\r\n  const isTimestamp = typeof lastReload === 'number' && !isNaN(lastReload)\r\n\r\n  // Not a number in the sessionStorage\r\n  if (!isTimestamp) {\r\n    removeFromSessionStorage(LAST_CHUNK_FAILURE_RELOAD_KEY)\r\n    return false\r\n  }\r\n\r\n  const now = new Date().getTime()\r\n\r\n  const hasJustReloaded = lastReload + MIN_RELOAD_TIME > now\r\n\r\n  if (hasJustReloaded) return false\r\n\r\n  saveToSessionStorage(LAST_CHUNK_FAILURE_RELOAD_KEY, now.toString())\r\n  window.location.reload()\r\n  return true\r\n}\r\n\r\nconst GlobalErrorBoundaryFallback: FallbackRender = ({ error, componentStack }) => {\r\n  if (handleChunkError(error)) {\r\n    // FallbackRender type does not allow null to be returned\r\n    return <></>\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Content>\r\n        <Title size=\"md\">Something went wrong, please try again.</Title>\r\n        <FixedIcon type=\"networkError\" />\r\n        {IS_PRODUCTION && (\r\n          <div>\r\n            <Text size=\"xl\" as=\"span\">\r\n              In case the problem persists, please reach out to us via{' '}\r\n            </Text>\r\n            <LinkWrapper>\r\n              <a target=\"_blank\" href=\"https://chat.gnosis-safe.io\" rel=\"noopener noreferrer\">\r\n                <Text color=\"primary\" size=\"lg\" as=\"span\">\r\n                  Discord\r\n                </Text>\r\n              </a>\r\n              <Icon type=\"externalLink\" color=\"primary\" size=\"sm\" />\r\n            </LinkWrapper>\r\n          </div>\r\n        )}\r\n        {!IS_PRODUCTION && (\r\n          <>\r\n            <Text size=\"xl\" color=\"error\">\r\n              {error.toString()}\r\n            </Text>\r\n            <Text size=\"md\" color=\"error\">\r\n              {componentStack}\r\n            </Text>\r\n          </>\r\n        )}\r\n        <Link size=\"lg\" color=\"primary\" href={ROOT_ROUTE}>\r\n          <LinkContent>\r\n            <Icon size=\"md\" type=\"home\" color=\"primary\" />\r\n            Go to Home\r\n          </LinkContent>\r\n        </Link>\r\n      </Content>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default GlobalErrorBoundaryFallback\r\n","import { CURRENT_SESSION_REDUCER_ID } from 'src/logic/currentSession/store/reducer/currentSession'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const lastViewedSafe = (state: AppReduxState['currentSession']): string | null => {\r\n  const currentSession = state[CURRENT_SESSION_REDUCER_ID]\r\n  if (!currentSession.restored) {\r\n    return null\r\n  }\r\n  return currentSession.viewedSafes[0] || ''\r\n}\r\n","import React from 'react'\r\nimport { Loader } from '@gnosis.pm/safe-react-components'\r\nimport { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { matchPath, Redirect, Route, Switch, useLocation } from 'react-router-dom'\r\n\r\nimport { LoadingContainer } from 'src/components/LoaderContainer'\r\nimport { useAnalytics } from 'src/utils/googleAnalytics'\r\nimport { lastViewedSafe } from 'src/logic/currentSession/store/selectors'\r\nimport {\r\n  generateSafeRoute,\r\n  getPrefixedSafeAddressSlug,\r\n  LOAD_SPECIFIC_SAFE_ROUTE,\r\n  OPEN_SAFE_ROUTE,\r\n  ADDRESSED_ROUTE,\r\n  SAFE_ROUTES,\r\n  WELCOME_ROUTE,\r\n  hasPrefixedSafeAddressInUrl,\r\n  ROOT_ROUTE,\r\n  LOAD_SAFE_ROUTE,\r\n  getNetworkRootRoutes,\r\n  TRANSACTION_ID_SLUG,\r\n} from './routes'\r\nimport { getShortName } from 'src/config'\r\nimport { setChainId } from 'src/logic/config/utils'\r\nimport { switchNetworkWithUrl } from 'src/utils/history'\r\nimport { isDeeplinkedTx } from './safe/components/Transactions/TxList/utils'\r\nimport { useAddressedRouteKey } from './safe/container/hooks/useAddressedRouteKey'\r\n\r\nconst Welcome = React.lazy(() => import('./welcome/Welcome'))\r\nconst CreateSafePage = React.lazy(() => import('./CreateSafePage/CreateSafePage'))\r\nconst LoadSafePage = React.lazy(() => import('./LoadSafePage/LoadSafePage'))\r\nconst SafeContainer = React.lazy(() => import('./safe/container'))\r\n\r\nconst Routes = (): React.ReactElement => {\r\n  const location = useLocation()\r\n  const { pathname, search } = location\r\n  const defaultSafe = useSelector(lastViewedSafe)\r\n  const { trackPage } = useAnalytics()\r\n\r\n  // Component key that changes when addressed route slug changes\r\n  const { key } = useAddressedRouteKey()\r\n\r\n  useEffect(() => {\r\n    let trackedPath = pathname\r\n\r\n    // Anonymize safe address\r\n    if (hasPrefixedSafeAddressInUrl()) {\r\n      trackedPath = trackedPath.replace(getPrefixedSafeAddressSlug(), 'SAFE_ADDRESS')\r\n    }\r\n\r\n    // Anonymize deeplinked transaction\r\n    if (isDeeplinkedTx()) {\r\n      const match = matchPath(pathname, {\r\n        path: SAFE_ROUTES.TRANSACTIONS_SINGULAR,\r\n      })\r\n\r\n      trackedPath = trackedPath.replace(match?.params[TRANSACTION_ID_SLUG], 'TRANSACTION_ID')\r\n    }\r\n\r\n    trackPage(trackedPath + search)\r\n\r\n    // Set the initial network id from the URL.\r\n    // It depends on the chains\r\n    switchNetworkWithUrl({ pathname })\r\n\r\n    // Track when pathname changes\r\n  }, [pathname, search, trackPage])\r\n\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        // Remove all trailing slashes\r\n        path=\"/:url*(/+)\"\r\n        render={() => <Redirect to={location.pathname.replace(/\\/+$/, `${location.search}${location.hash}`)} />}\r\n      />\r\n      {\r\n        // Redirection to open network specific welcome pages\r\n        getNetworkRootRoutes().map(({ chainId, route }) => (\r\n          <Route\r\n            key={chainId}\r\n            path={route}\r\n            render={() => {\r\n              setChainId(chainId)\r\n              return <Redirect to={ROOT_ROUTE} />\r\n            }}\r\n          />\r\n        ))\r\n      }\r\n      <Route\r\n        exact\r\n        path={ROOT_ROUTE}\r\n        render={() => {\r\n          if (defaultSafe === null) {\r\n            return (\r\n              <LoadingContainer>\r\n                <Loader size=\"md\" />\r\n              </LoadingContainer>\r\n            )\r\n          }\r\n\r\n          if (defaultSafe) {\r\n            return (\r\n              <Redirect\r\n                to={generateSafeRoute(SAFE_ROUTES.ASSETS_BALANCES, {\r\n                  shortName: getShortName(),\r\n                  safeAddress: defaultSafe,\r\n                })}\r\n              />\r\n            )\r\n          }\r\n\r\n          return <Redirect to={WELCOME_ROUTE} />\r\n        }}\r\n      />\r\n      <Route component={Welcome} exact path={WELCOME_ROUTE} />\r\n      <Route component={CreateSafePage} exact path={OPEN_SAFE_ROUTE} />\r\n      <Route\r\n        path={ADDRESSED_ROUTE}\r\n        render={() => {\r\n          // Rerender the container/reset its state when prefix/address changes\r\n          return <SafeContainer key={key} />\r\n        }}\r\n      />\r\n      <Route component={LoadSafePage} path={[LOAD_SAFE_ROUTE, LOAD_SPECIFIC_SAFE_ROUTE]} />\r\n      <Redirect to={ROOT_ROUTE} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","import { useState, useEffect } from 'react'\r\nimport { useHistory, matchPath } from 'react-router-dom'\r\nimport { SafeRouteSlugs, ADDRESSED_ROUTE, SAFE_ADDRESS_SLUG } from 'src/routes/routes'\r\n\r\n// Legacy versions of the Safe relied on subdomains and by means of\r\n// a new page load it reset the state of the Safe Container component\r\n\r\n// By using a custom key, set based on the address of the safe, we can\r\n// trigger a re-render of the Safe Container depdendent on the address\r\n\r\nexport const useAddressedRouteKey = (): { key: number } => {\r\n  const [key, setKey] = useState<number>(Date.now())\r\n  const history = useHistory()\r\n\r\n  const match = matchPath<SafeRouteSlugs>(history.location.pathname, {\r\n    path: ADDRESSED_ROUTE,\r\n  })\r\n  const prefixedSafeAddress = match?.params?.[SAFE_ADDRESS_SLUG]\r\n\r\n  useEffect(() => {\r\n    setKey(Date.now())\r\n  }, [prefixedSafeAddress])\r\n\r\n  return { key }\r\n}\r\n","import { LocationDescriptorObject } from 'history'\r\nimport { getShortName } from 'src/config'\r\nimport { getChains } from 'src/config/cache/chains'\r\nimport { setChainId } from 'src/logic/config/utils'\r\nimport { hasPrefixedSafeAddressInUrl, extractPrefixedSafeAddress, history, WELCOME_ROUTE } from 'src/routes/routes'\r\nimport { DEFAULT_CHAIN_ID } from './constants'\r\n\r\nexport const switchNetworkWithUrl = ({ pathname }: LocationDescriptorObject): void => {\r\n  if (!hasPrefixedSafeAddressInUrl()) {\r\n    return\r\n  }\r\n\r\n  const { shortName } = extractPrefixedSafeAddress(pathname)\r\n  const currentShortName = getShortName()\r\n\r\n  if (shortName === currentShortName) {\r\n    return\r\n  }\r\n\r\n  const chainId = getChains().find((chain) => chain.shortName === shortName)?.chainId\r\n\r\n  if (!chainId) {\r\n    setChainId(DEFAULT_CHAIN_ID)\r\n    history.push(WELCOME_ROUTE)\r\n    return\r\n  }\r\n\r\n  setChainId(chainId)\r\n}\r\n","import { ReactNode } from 'react'\r\nimport { MuiThemeProvider, Theme as MuiTheme } from '@material-ui/core/styles'\r\nimport { Router } from 'react-router'\r\nimport { Provider } from 'react-redux'\r\nimport { ThemeProvider } from 'styled-components'\r\nimport { Store } from 'redux'\r\nimport { History } from 'history'\r\nimport { theme } from '@gnosis.pm/safe-react-components'\r\n\r\ndeclare type Theme = typeof theme\r\n\r\ntype ProvidersProps = {\r\n  children: ReactNode\r\n  store: Store\r\n  history: History\r\n  styledTheme: Theme\r\n  muiTheme: MuiTheme\r\n}\r\n\r\nfunction Providers({ children, store, styledTheme, muiTheme, history }: ProvidersProps): React.ReactElement {\r\n  return (\r\n    <ThemeProvider theme={styledTheme}>\r\n      <Provider store={store}>\r\n        <MuiThemeProvider theme={muiTheme}>\r\n          <Router history={history}>{children}</Router>\r\n        </MuiThemeProvider>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default Providers\r\n","import { AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport { Errors, trackError } from 'src/logic/exceptions/CodedException'\r\n\r\nconst MIGRATION_KEY = 'SAFE__migratedNetworks'\r\nconst ADDRESS_BOOK_KEY = 'SAFE__addressBook'\r\nconst IMMORTAL_PREFIX = '_immortal|'\r\nconst MAINNET_PREFIX = 'MAINNET'\r\n\r\nconst networks = ['arbitrum', 'bsc', 'ewc', 'polygon', 'rinkeby', 'volta', 'xdai'] as const\r\nexport type NETWORK_TO_MIGRATE = typeof networks[number]\r\n\r\nexport function getSubdomainUrl(network: NETWORK_TO_MIGRATE): string {\r\n  const hostname = location.hostname\r\n\r\n  if (hostname === 'gnosis-safe.io') {\r\n    return `https://${network}.gnosis-safe.io/app`\r\n  } else if (hostname.includes('staging.gnosisdev.com')) {\r\n    return `https://safe-team-${network}.staging.gnosisdev.com/app`\r\n  } else if (hostname.includes('dev.gnosisdev.com')) {\r\n    return `https://safe-team.dev.gnosisdev.com/app`\r\n  } else if (hostname.includes('localhost')) {\r\n    return 'http://localhost:3001/app'\r\n  } else {\r\n    return ''\r\n  }\r\n}\r\n\r\nfunction getMigratedNetworks(): NETWORK_TO_MIGRATE[] {\r\n  let migratedNetworks: NETWORK_TO_MIGRATE[]\r\n  try {\r\n    const item = localStorage.getItem(MIGRATION_KEY)\r\n    migratedNetworks = item ? JSON.parse(item) : []\r\n  } catch (e) {\r\n    migratedNetworks = []\r\n  }\r\n  return migratedNetworks\r\n}\r\n\r\nexport function addMigratedNetwork(network: NETWORK_TO_MIGRATE): void {\r\n  const migratedNetworks = getMigratedNetworks()\r\n  if (migratedNetworks.includes(network)) {\r\n    return\r\n  }\r\n  const newValue = [...migratedNetworks, network]\r\n  localStorage.setItem(MIGRATION_KEY, JSON.stringify(newValue))\r\n}\r\n\r\nexport function getNetworksToMigrate(): NETWORK_TO_MIGRATE[] {\r\n  const migrated = getMigratedNetworks()\r\n  const remaining = networks.filter((network) => !migrated.includes(network))\r\n  return remaining\r\n}\r\n\r\nexport function isNetworkSubdomain(): boolean {\r\n  const { href } = location\r\n  return networks.map(getSubdomainUrl).some((url) => href.startsWith(url))\r\n}\r\n\r\nfunction parsePayload<T>(entry: string): T | null {\r\n  try {\r\n    return JSON.parse(entry) as T\r\n  } catch (e) {\r\n    trackError(Errors._703, `${e.message}  ${entry}`)\r\n    return null\r\n  }\r\n}\r\n\r\nfunction isSameOrigin(event: MessageEvent): boolean {\r\n  return event.origin === self.origin\r\n}\r\n\r\nfunction isTrustedOrigin(event: MessageEvent): boolean {\r\n  return networks.some((network) => getSubdomainUrl(network).startsWith(event.origin))\r\n}\r\n\r\nexport function handleMessage(\r\n  event: MessageEvent & { data: { payload: string } },\r\n  receivedCallback: () => void,\r\n  addressBookCallback: (data: AddressBookState) => void,\r\n  immortalDataCallback: (key: string, value: unknown) => void,\r\n): void {\r\n  if (!event.data.payload) return\r\n  if (isSameOrigin(event) || !isTrustedOrigin(event)) return\r\n\r\n  // Message acknowledged\r\n  receivedCallback()\r\n\r\n  // Parse the JSON payload\r\n  const payload = parsePayload<Record<string, string>>(event.data.payload)\r\n  if (!payload) {\r\n    return\r\n  }\r\n\r\n  // Migrate the address book\r\n  const addressBookData = parsePayload<AddressBookState>(payload[ADDRESS_BOOK_KEY])\r\n  if (addressBookData) {\r\n    addressBookCallback(addressBookData)\r\n  }\r\n\r\n  // Migrate the rest of the payload\r\n  Object.keys(payload)\r\n    .filter((key) => key.startsWith(IMMORTAL_PREFIX) && !key.includes(MAINNET_PREFIX))\r\n    .forEach((key) => {\r\n      const data = parsePayload<unknown>(payload[key])\r\n      if (data == null) return\r\n\r\n      // _immortal is automatically added by Immortal library so the basic key shouldn't contain this\r\n      const storageKey = key.replace(IMMORTAL_PREFIX, '')\r\n      // Save entry in localStorage\r\n      immortalDataCallback(storageKey, data)\r\n    })\r\n}\r\n","import { ReactElement, useEffect, useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { addressBookMigrate } from 'src/logic/addressBook/store/actions'\r\nimport { saveMigratedKeyToStorage } from 'src/utils/storage'\r\nimport {\r\n  NETWORK_TO_MIGRATE,\r\n  isNetworkSubdomain,\r\n  getNetworksToMigrate,\r\n  handleMessage,\r\n  getSubdomainUrl,\r\n  addMigratedNetwork,\r\n} from './utils'\r\n\r\nconst IFRAME_PATH = '/migrate-local-storage.html'\r\nconst MAX_WAIT = 10e3 // 10 seconds\r\n\r\nconst getIframeUrl = (network: NETWORK_TO_MIGRATE): string => `${getSubdomainUrl(network)}${IFRAME_PATH}`\r\n\r\nconst StoreMigrator = (): ReactElement | null => {\r\n  const dispatch = useDispatch()\r\n  const [networksToMigrate, setNetworksToMigrate] = useState<NETWORK_TO_MIGRATE[]>([])\r\n  const [networkIndex, setNetworkIndex] = useState<number>(0)\r\n  const currentNetwork = networksToMigrate[networkIndex]\r\n\r\n  useEffect(() => {\r\n    if (isNetworkSubdomain()) return\r\n    const remainingNetworks = getNetworksToMigrate()\r\n    setNetworksToMigrate(remainingNetworks)\r\n  }, [])\r\n\r\n  // Fix broken keys that start with v2_\r\n  useEffect(() => {\r\n    try {\r\n      Object.keys(localStorage).forEach((key) => {\r\n        if (key.startsWith('v2_')) {\r\n          const val = localStorage.getItem(key)\r\n          localStorage.removeItem(key)\r\n          if (val) {\r\n            localStorage.setItem(`_immortal|${key}`, val)\r\n          }\r\n        }\r\n      })\r\n    } catch (err) {\r\n      // ignore\r\n    }\r\n  }, [])\r\n\r\n  // Add an event listener to receive the data to be migrated and save it into the storage\r\n  useEffect(() => {\r\n    if (!currentNetwork) return\r\n\r\n    const nextNetwork = () => setNetworkIndex((index) => index + 1)\r\n\r\n    const timeout = setTimeout(nextNetwork, MAX_WAIT)\r\n\r\n    const onMessage = (event: MessageEvent) => {\r\n      handleMessage(\r\n        event,\r\n        // Move to the next network\r\n        () => {\r\n          clearTimeout(timeout)\r\n          addMigratedNetwork(currentNetwork)\r\n          nextNetwork()\r\n        },\r\n        // Save address book\r\n        (addressBookData) => dispatch(addressBookMigrate(addressBookData)),\r\n        // Save immortal data\r\n        (key, value) => saveMigratedKeyToStorage(key, value),\r\n      )\r\n    }\r\n\r\n    window.addEventListener('message', onMessage, false)\r\n\r\n    return () => {\r\n      clearTimeout(timeout)\r\n      window.removeEventListener('message', onMessage, false)\r\n    }\r\n  }, [dispatch, currentNetwork, setNetworkIndex])\r\n\r\n  return currentNetwork ? (\r\n    <iframe key={currentNetwork} width=\"0\" height=\"0\" hidden src={getIframeUrl(currentNetwork)} />\r\n  ) : null\r\n}\r\n\r\nexport default StoreMigrator\r\n","import { matchPath, Router, Redirect } from 'react-router'\r\nimport { ReactElement } from 'react'\r\nimport { getChainInfo } from 'src/config'\r\nimport { PUBLIC_URL } from 'src/utils/constants'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { History } from 'history'\r\nimport { getChains } from 'src/config/cache/chains'\r\n\r\ntype Props = {\r\n  history: History\r\n}\r\n\r\nconst LEGACY_SAFE_ADDRESS_SLUG = 'safeAddress'\r\n\r\nconst LegacyRouteRedirection = ({ history }: Props): ReactElement | null => {\r\n  const { pathname, hash, search } = window.location\r\n\r\n  const isLegacyRoute = pathname === `${PUBLIC_URL}/` && hash.startsWith('#/')\r\n\r\n  if (!isLegacyRoute) return null\r\n\r\n  // :subdir was '/safes' or '/load'\r\n  const match = matchPath<{ [LEGACY_SAFE_ADDRESS_SLUG]: string }>(hash, {\r\n    path: `#/:subdir/:${LEGACY_SAFE_ADDRESS_SLUG}`,\r\n  })\r\n\r\n  const safeAddress = match?.params?.[LEGACY_SAFE_ADDRESS_SLUG]\r\n\r\n  if (!match || !safeAddress) {\r\n    return (\r\n      <Router history={history}>\r\n        <Redirect to={hash.replace('#/', '')} />\r\n      </Router>\r\n    )\r\n  }\r\n\r\n  const chainLabel = window.location.hostname.split('.')[0] // 'rinkeby'\r\n  const chain = getChains().find((chain) => sameString(chain.chainName, chainLabel)) || getChainInfo()\r\n\r\n  // Insert shortName before Safe address\r\n  const safeAddressIndex = hash.indexOf('0x')\r\n  const newPathname = (hash.slice(0, safeAddressIndex) + `${chain.shortName}:` + hash.slice(safeAddressIndex)).replace(\r\n    /(#\\/safes|#\\/)/, // Remove '#/safes' and '#/'\r\n    '',\r\n  )\r\n\r\n  return (\r\n    <Router history={history}>\r\n      <Redirect to={`${newPathname}${search}`} />\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default LegacyRouteRedirection\r\n","import * as Sentry from '@sentry/react'\r\nimport { theme as styledTheme, Loader } from '@gnosis.pm/safe-react-components'\r\nimport { useEffect, useState } from 'react'\r\n\r\nimport { LoadingContainer } from 'src/components/LoaderContainer'\r\nimport App from 'src/components/App'\r\nimport GlobalErrorBoundary from 'src/components/GlobalErrorBoundary'\r\nimport AppRoutes from 'src/routes'\r\nimport { store } from 'src/store'\r\nimport { history, WELCOME_ROUTE } from 'src/routes/routes'\r\nimport theme from 'src/theme/mui'\r\nimport { wrapInSuspense } from 'src/utils/wrapInSuspense'\r\nimport Providers from '../Providers'\r\nimport './index.module.scss'\r\nimport './OnboardCustom.module.scss'\r\nimport './KeystoneCustom.module.scss'\r\nimport StoreMigrator from 'src/components/StoreMigrator'\r\nimport LegacyRouteRedirection from './LegacyRouteRedirection'\r\nimport { logError, Errors, CodedException } from 'src/logic/exceptions/CodedException'\r\nimport { loadChains } from 'src/config/cache/chains'\r\nimport { isValidChainId, _getChainId } from 'src/config'\r\nimport { DEFAULT_CHAIN_ID } from 'src/utils/constants'\r\nimport { setChainId } from 'src/logic/config/utils'\r\n\r\n// Preloader is rendered outside of '#root' and acts as a loading spinner\r\n// for the app and then chains loading\r\nconst removePreloader = () => {\r\n  document.getElementById('safe-preloader-animation')?.remove()\r\n}\r\n\r\nconst RootConsumer = (): React.ReactElement | null => {\r\n  const [hasChains, setHasChains] = useState<boolean>(false)\r\n  const [isError, setIsError] = useState<boolean>(false)\r\n\r\n  useEffect(() => {\r\n    const initChains = async () => {\r\n      try {\r\n        await loadChains()\r\n        if (!isValidChainId(_getChainId())) {\r\n          setChainId(DEFAULT_CHAIN_ID)\r\n          history.push(WELCOME_ROUTE)\r\n        }\r\n        setHasChains(true)\r\n      } catch (err) {\r\n        logError(Errors._904, err.message)\r\n        setIsError(true)\r\n      }\r\n    }\r\n    initChains()\r\n  }, [])\r\n\r\n  // Chains failed to load\r\n  if (isError) {\r\n    removePreloader()\r\n    throw new CodedException(Errors._904)\r\n  }\r\n\r\n  if (!hasChains) {\r\n    return null\r\n  }\r\n\r\n  removePreloader()\r\n\r\n  return (\r\n    <App>\r\n      {wrapInSuspense(\r\n        <AppRoutes />,\r\n        <LoadingContainer>\r\n          <Loader size=\"md\" />\r\n        </LoadingContainer>,\r\n      )}\r\n      <StoreMigrator />\r\n    </App>\r\n  )\r\n}\r\n\r\n// Chains loader requires error boundary, which requires Providers\r\n// and Legacy redirection should be outside of Providers\r\nconst Root = (): React.ReactElement => (\r\n  <>\r\n    <LegacyRouteRedirection history={history} />\r\n    <Providers store={store} history={history} styledTheme={styledTheme} muiTheme={theme}>\r\n      <Sentry.ErrorBoundary fallback={GlobalErrorBoundary}>\r\n        <RootConsumer />\r\n      </Sentry.ErrorBoundary>\r\n    </Providers>\r\n  </>\r\n)\r\n\r\nexport default Root\r\n","// https://docs.metamask.io/guide/ethereum-provider.html#ethereum-autorefreshonnetworkchange\r\nexport const disableMMAutoRefreshWarning = (): void => {\r\n  if (window.ethereum && window.ethereum.isMetaMask) {\r\n    window.ethereum.autoRefreshOnNetworkChange = false\r\n  }\r\n}\r\n","import { BigNumber } from 'bignumber.js'\r\nimport ReactDOM from 'react-dom'\r\nimport * as Sentry from '@sentry/react'\r\nimport { Integrations } from '@sentry/tracing'\r\nimport Root from 'src/components/Root'\r\nimport { SENTRY_DSN } from './utils/constants'\r\nimport { disableMMAutoRefreshWarning } from './utils/mm_warnings'\r\n\r\ndisableMMAutoRefreshWarning()\r\n\r\nBigNumber.set({ EXPONENTIAL_AT: [-7, 255] })\r\n\r\nSentry.init({\r\n  dsn: SENTRY_DSN,\r\n  release: `safe-react@${process.env.REACT_APP_APP_VERSION}`,\r\n  integrations: [new Integrations.BrowserTracing()],\r\n  sampleRate: 0.1,\r\n  // ignore MetaMask errors we don't control\r\n  ignoreErrors: ['Internal JSON-RPC error', 'JsonRpcEngine', 'Non-Error promise rejection captured with keys: code'],\r\n})\r\n\r\nconst root = document.getElementById('root')\r\n\r\nif (root !== null) {\r\n  ReactDOM.render(<Root />, root)\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nclass Block extends React.PureComponent<any> {\r\n  render(): React.ReactElement {\r\n    const { children, className, justify, margin, padding, ...props } = this.props\r\n\r\n    const paddingStyle = padding ? capitalize(padding, 'padding') : undefined\r\n    return (\r\n      <div className={cx(className, 'block', margin, paddingStyle, justify)} {...props}>\r\n        {children}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Block\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport ReactGA, { EventArgs } from 'react-ga'\r\nimport { useSelector } from 'react-redux'\r\nimport { getChainInfo, _getChainId } from 'src/config'\r\n\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { COOKIES_KEY } from 'src/logic/cookies/model/cookie'\r\nimport { loadFromCookie, removeCookie } from 'src/logic/cookies/utils'\r\nimport { GOOGLE_ANALYTICS_ID, IS_PRODUCTION } from './constants'\r\nimport { capitalize } from './css'\r\n\r\nconst USER_EVENT = 'User'\r\nexport const USER_EVENTS: Record<string, EventArgs> = {\r\n  CREATE_SAFE: {\r\n    category: USER_EVENT,\r\n    action: 'Created a Safe',\r\n  },\r\n}\r\n\r\nconst WALLET_EVENT = 'Wallets'\r\nexport const WALLET_EVENTS: Record<string, EventArgs> = {\r\n  CONNECT_WALLET: { category: WALLET_EVENT, action: 'Connect a Wallet' },\r\n}\r\n\r\nconst SAFE_EVENT = 'Safe Navigation'\r\nexport const SAFE_EVENTS: Record<string, EventArgs> = {\r\n  SIDEBAR: {\r\n    category: SAFE_EVENT,\r\n    action: 'Safe List Sidebar',\r\n  },\r\n  ADDRESS_BOOK: {\r\n    category: SAFE_EVENT,\r\n    action: 'Address Book',\r\n  },\r\n  SAFE_APP: {\r\n    category: SAFE_EVENT,\r\n    action: 'Apps',\r\n  },\r\n  COINS: {\r\n    category: SAFE_EVENT,\r\n    action: 'Coins',\r\n  },\r\n  COLLECTIBLES: {\r\n    category: SAFE_EVENT,\r\n    action: 'Collectibles',\r\n  },\r\n  SETTINGS: {\r\n    category: SAFE_EVENT,\r\n    action: 'Settings',\r\n  },\r\n  TRANSACTIONS: {\r\n    category: SAFE_EVENT,\r\n    action: 'Transactions',\r\n  },\r\n}\r\n\r\nconst SAFE_APP_EVENT = 'Safe App'\r\nexport const SAFE_APP_EVENTS: Record<string, EventArgs> = {\r\n  PIN: {\r\n    category: SAFE_APP_EVENT,\r\n    action: 'Unpin',\r\n  },\r\n  UNPIN: {\r\n    category: SAFE_APP_EVENT,\r\n    action: 'Pin',\r\n  },\r\n}\r\n\r\nexport const SETTINGS_EVENTS: Record<string, EventArgs> = {\r\n  ADVANCED: { ...SAFE_EVENTS.SETTINGS, label: 'Advanced' },\r\n  APPEARANCE: { ...SAFE_EVENTS.SETTINGS, label: 'Appearance' },\r\n  DETAILS: { ...SAFE_EVENTS.SETTINGS, label: 'Details' },\r\n  OWNERS: { ...SAFE_EVENTS.SETTINGS, label: 'Owners' },\r\n}\r\n\r\nexport const COOKIES_LIST = [\r\n  { name: '_ga', path: '/' },\r\n  { name: '_gat', path: '/' },\r\n  { name: '_gid', path: '/' },\r\n]\r\n\r\nconst shouldUseGoogleAnalytics = IS_PRODUCTION\r\n\r\nexport const trackAnalyticsEvent = (event: Parameters<typeof ReactGA.event>[0]): void => {\r\n  const { chainName } = getChainInfo()\r\n\r\n  // action, category, label, etc. => eventAction, eventCategory, eventLabel, etc.\r\n  const fieldsObject: Parameters<typeof ReactGA.ga>[1] = Object.entries(event).reduce(\r\n    (acc, [key, value]) => ({ ...acc, [`event${capitalize(key)}`]: value }),\r\n    { hitType: 'event', chainName },\r\n  )\r\n\r\n  return shouldUseGoogleAnalytics\r\n    ? ReactGA.ga('send', fieldsObject)\r\n    : console.info('[GA] - Event:', { ...event, chainName })\r\n}\r\nconst trackAnalyticsPage: typeof ReactGA.pageview = (...args) => {\r\n  return shouldUseGoogleAnalytics ? ReactGA.pageview(...args) : console.info('[GA] - Page:', ...args)\r\n}\r\n\r\nlet analyticsLoaded = false\r\nexport const loadGoogleAnalytics = (): void => {\r\n  if (analyticsLoaded) {\r\n    return\r\n  }\r\n\r\n  console.info(\r\n    shouldUseGoogleAnalytics\r\n      ? 'Loading Google Analytics...'\r\n      : 'Google Analytics will not load in the development environment, but instead log.',\r\n  )\r\n\r\n  const customDimensions: ReactGA.FieldsObject = {\r\n    anonymizeIp: true,\r\n    appName: `Gnosis Safe Web`,\r\n    appVersion: process.env.REACT_APP_APP_VERSION,\r\n    dimension1: _getChainId(),\r\n  }\r\n\r\n  const gaTrackingId = GOOGLE_ANALYTICS_ID\r\n\r\n  if (shouldUseGoogleAnalytics) {\r\n    if (!gaTrackingId) {\r\n      console.error('In order to use Google Analytics you need to add a tracking ID.')\r\n    } else {\r\n      ReactGA.initialize(gaTrackingId)\r\n      ReactGA.set(customDimensions)\r\n    }\r\n  } else {\r\n    console.info('[GA] - Custom dimensions:', customDimensions)\r\n  }\r\n\r\n  analyticsLoaded = true\r\n}\r\n\r\ntype UseAnalyticsResponse = {\r\n  trackPage: (path: string) => void\r\n  trackEvent: (event: EventArgs) => void\r\n}\r\n\r\nexport const useAnalytics = (): UseAnalyticsResponse => {\r\n  const [analyticsAllowed, setAnalyticsAllowed] = useState(false)\r\n  const chainId = useSelector(currentChainId)\r\n\r\n  useEffect(() => {\r\n    if (analyticsAllowed && analyticsLoaded) {\r\n      ReactGA.set({ dimension1: chainId })\r\n    }\r\n  }, [chainId, analyticsAllowed])\r\n\r\n  useEffect(() => {\r\n    async function fetchCookiesFromStorage() {\r\n      const cookiesState = await loadFromCookie(COOKIES_KEY)\r\n      if (cookiesState) {\r\n        const { acceptedAnalytics } = cookiesState\r\n        setAnalyticsAllowed(acceptedAnalytics)\r\n      }\r\n    }\r\n    fetchCookiesFromStorage()\r\n  }, [])\r\n\r\n  const trackPage = useCallback(\r\n    (page) => {\r\n      if (analyticsAllowed && analyticsLoaded) {\r\n        trackAnalyticsPage(page)\r\n      }\r\n    },\r\n    [analyticsAllowed],\r\n  )\r\n\r\n  const trackEvent = useCallback(\r\n    (event: EventArgs) => {\r\n      if (analyticsAllowed && analyticsLoaded) {\r\n        trackAnalyticsEvent(event)\r\n      }\r\n    },\r\n    [analyticsAllowed],\r\n  )\r\n\r\n  return { trackPage, trackEvent }\r\n}\r\n\r\n// we remove GA cookies manually as react-ga does not provides a utility for it.\r\nexport const removeCookies = (): void => {\r\n  // Extracts the main domain, e.g. gnosis-safe.io\r\n  const subDomain = location.host.split('.').slice(-2).join('.')\r\n  COOKIES_LIST.forEach((cookie) => removeCookie(cookie.name, cookie.path, `.${subDomain}`))\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_PROVIDER = 'ADD_PROVIDER'\r\n\r\nconst addProvider = createAction(ADD_PROVIDER, (provider) => provider)\r\n\r\nexport default addProvider\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { HistoryPayload, QueuedPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\n\r\nexport const ADD_HISTORY_TRANSACTIONS = 'ADD_HISTORY_TRANSACTIONS'\r\nexport const addHistoryTransactions = createAction<HistoryPayload>(ADD_HISTORY_TRANSACTIONS)\r\n\r\nexport const ADD_QUEUED_TRANSACTIONS = 'ADD_QUEUED_TRANSACTIONS'\r\nexport const addQueuedTransactions = createAction<QueuedPayload>(ADD_QUEUED_TRANSACTIONS)\r\n","import { _getChainId, _setChainId } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { store } from 'src/store'\r\nimport { setChainIdAction } from 'src/logic/config/store/actions'\r\n\r\nexport const setChainId = (newChainId: ChainId) => {\r\n  _setChainId(newChainId)\r\n  store.dispatch(setChainIdAction(newChainId))\r\n}\r\n","import classNames from 'classnames/bind'\r\nimport * as React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nimport { capitalize } from 'src/utils/css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nconst GnosisLink = ({ children, className, color, innerRef, padding, to, ...props }: any) => {\r\n  const internal = /^\\/(?!\\/)/.test(to)\r\n  const classes = cx(styles.link, color || 'regular', padding ? capitalize(padding, 'padding') : undefined, className)\r\n  const LinkElement = internal ? Link : 'a'\r\n  const refs: any = {}\r\n  if (internal) {\r\n    // To avoid warning about React not recognizing the prop innerRef on native element (a) if the link is external\r\n    refs.innerRef = innerRef\r\n  }\r\n\r\n  return (\r\n    <LinkElement className={classes} href={internal ? null : to} to={internal ? to : null} {...refs} {...props}>\r\n      {children}\r\n    </LinkElement>\r\n  )\r\n}\r\n\r\n// https://material-ui.com/guides/composition/#caveat-with-refs\r\nconst LinkWithRef: any = React.forwardRef((props, ref) => <GnosisLink {...props} innerRef={ref} />)\r\n\r\nexport default LinkWithRef\r\n","import { ADDRESS_BOOK_ACTIONS } from 'src/logic/addressBook/store/actions'\r\nimport { enhanceSnackbarForAction, getNotificationsFromTxType } from 'src/logic/notifications'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\n\r\nconst watchedActions = Object.values(ADDRESS_BOOK_ACTIONS)\r\n\r\nexport const addressBookMiddleware = (store) => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n  if (watchedActions.includes(action.type)) {\r\n    const { dispatch } = store\r\n    switch (action.type) {\r\n      case ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE: {\r\n        const { shouldAvoidUpdatesNotifications } = action.payload\r\n        if (!shouldAvoidUpdatesNotifications) {\r\n          const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_NEW_ENTRY)\r\n          dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        }\r\n        break\r\n      }\r\n      case ADDRESS_BOOK_ACTIONS.REMOVE: {\r\n        const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_DELETE_ENTRY)\r\n        dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        break\r\n      }\r\n      case ADDRESS_BOOK_ACTIONS.IMPORT: {\r\n        const notification = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.ADDRESS_BOOK_IMPORT_ENTRIES)\r\n        dispatch(enqueueSnackbar(enhanceSnackbarForAction(notification.afterExecution.noMoreConfirmationsNeeded)))\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n","import { TransactionSummary } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { isMultisigExecutionInfo, LocalTransactionStatus } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { addressInList } from 'src/routes/safe/components/Transactions/TxList/utils'\r\n\r\nexport const getAwaitingGatewayTransactions = (\r\n  allTransactions: TransactionSummary[],\r\n  userAccount: string,\r\n): TransactionSummary[] => {\r\n  return allTransactions.filter((tx) => {\r\n    // The transaction is not executed and is not cancelled, nor pending, so it's still waiting confirmations\r\n    if (tx.txStatus === LocalTransactionStatus.AWAITING_CONFIRMATIONS && isMultisigExecutionInfo(tx.executionInfo)) {\r\n      // Then we check if the waiting confirmations are not from the current user, otherwise, filters this transaction\r\n      return addressInList(tx.executionInfo?.missingSigners ?? undefined)(userAccount)\r\n    }\r\n\r\n    return false\r\n  })\r\n}\r\n","import { Action } from 'redux-actions'\r\nimport { AnyAction } from 'redux'\r\nimport { TransactionListItem, Transaction, TransactionSummary } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { NOTIFICATIONS, enhanceSnackbarForAction } from 'src/logic/notifications'\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { getAwaitingGatewayTransactions } from 'src/logic/safe/transactions/awaitingTransactions'\r\nimport { getSafeVersionInfo } from 'src/logic/safe/utils/safeVersion'\r\nimport { isUserAnOwner } from 'src/logic/wallets/ethAddresses'\r\nimport { userAccountSelector } from 'src/logic/wallets/store/selectors'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\nimport {\r\n  ADD_QUEUED_TRANSACTIONS,\r\n  ADD_HISTORY_TRANSACTIONS,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport * as aboutToExecuteTx from 'src/logic/safe/utils/aboutToExecuteTx'\r\nimport { safesAsMap } from 'src/logic/safe/store/selectors'\r\nimport { isTransactionSummary } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { ADD_OR_UPDATE_SAFE } from '../actions/addOrUpdateSafe'\r\nimport { store as reduxStore } from 'src/store/index'\r\nimport { HistoryPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { history, extractSafeAddress, generateSafeRoute, ADDRESSED_ROUTE, SAFE_ROUTES } from 'src/routes/routes'\r\nimport { getShortName } from 'src/config'\r\nimport { getLocalTxStatus, localStatuses } from '../selectors/txStatus'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\n\r\nconst watchedActions = [ADD_OR_UPDATE_SAFE, ADD_QUEUED_TRANSACTIONS, ADD_HISTORY_TRANSACTIONS]\r\n\r\nconst LAST_TIME_USED_LOGGED_IN_ID = 'LAST_TIME_USED_LOGGED_IN_ID'\r\n\r\nconst sendAwaitingTransactionNotification = (\r\n  dispatch,\r\n  safeAddress,\r\n  awaitingTxsSubmissionDateList,\r\n  notificationKey,\r\n  notificationClickedCb,\r\n): void => {\r\n  if (!dispatch || !safeAddress || !awaitingTxsSubmissionDateList || !notificationKey) {\r\n    return\r\n  }\r\n  if (awaitingTxsSubmissionDateList.length === 0) {\r\n    return\r\n  }\r\n\r\n  let lastTimeUserLoggedInForSafes = loadFromStorage<Record<string, string>>(LAST_TIME_USED_LOGGED_IN_ID) || {}\r\n  const lastTimeUserLoggedIn = lastTimeUserLoggedInForSafes[safeAddress]\r\n    ? lastTimeUserLoggedInForSafes[safeAddress]\r\n    : null\r\n\r\n  const filteredDuplicatedAwaitingTxList = awaitingTxsSubmissionDateList.filter((submissionDate) => {\r\n    return lastTimeUserLoggedIn ? new Date(submissionDate) > new Date(lastTimeUserLoggedIn) : true\r\n  })\r\n\r\n  if (!filteredDuplicatedAwaitingTxList.length) {\r\n    return\r\n  }\r\n\r\n  dispatch(\r\n    enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.TX_WAITING_MSG, notificationKey, notificationClickedCb)),\r\n  )\r\n\r\n  lastTimeUserLoggedInForSafes = {\r\n    ...lastTimeUserLoggedInForSafes,\r\n    [safeAddress]: new Date(),\r\n  }\r\n  saveToStorage(LAST_TIME_USED_LOGGED_IN_ID, lastTimeUserLoggedInForSafes)\r\n}\r\n\r\n// any/AnyAction used as our Redux state is not typed\r\nconst notificationsMiddleware =\r\n  (store: ReturnType<typeof reduxStore>) =>\r\n  (next: (arg0: any) => any) =>\r\n  async (action: Action<AnyAction>): Promise<any> => {\r\n    const handledAction = next(action)\r\n    const { dispatch } = store\r\n\r\n    if (watchedActions.includes(action.type)) {\r\n      const state = store.getState()\r\n\r\n      switch (action.type) {\r\n        case ADD_HISTORY_TRANSACTIONS: {\r\n          const userAddress: string = userAccountSelector(state)\r\n          const safesMap = safesAsMap(state)\r\n\r\n          const executedTxNotification = aboutToExecuteTx.getNotification(\r\n            action.payload as unknown as HistoryPayload,\r\n            userAddress,\r\n            safesMap,\r\n          )\r\n          // if we have a notification, dispatch it depending on transaction's status\r\n          executedTxNotification && dispatch(enqueueSnackbar(executedTxNotification))\r\n\r\n          break\r\n        }\r\n        case ADD_QUEUED_TRANSACTIONS: {\r\n          const { safeAddress, values } = action.payload\r\n          const transactions: TransactionSummary[] = values\r\n            .filter((tx) => isTransactionSummary(tx))\r\n            .map((item: TransactionListItem) => (item as Transaction).transaction)\r\n          const userAddress: string = userAccountSelector(state)\r\n          const awaitingTransactions = getAwaitingGatewayTransactions(transactions, userAddress)\r\n\r\n          const awaitingTxsSubmissionDateList = awaitingTransactions.map((tx) => tx.timestamp)\r\n\r\n          const safesMap = safesAsMap(state)\r\n          const currentSafe = safesMap.get(safeAddress)\r\n\r\n          const hasLocalStatus = transactions.some((tx) => {\r\n            // Check if the local status is different from the backend status\r\n            const status = getLocalTxStatus(localStatuses(state), currentChainId(state), tx)\r\n            return status !== tx.txStatus\r\n          })\r\n\r\n          if (\r\n            hasLocalStatus ||\r\n            !currentSafe ||\r\n            !isUserAnOwner(currentSafe, userAddress) ||\r\n            awaitingTransactions.length === 0\r\n          ) {\r\n            break\r\n          }\r\n\r\n          const notificationKey = `${safeAddress}-awaiting`\r\n\r\n          const onNotificationClicked = (dispatch, notificationKey) => () => {\r\n            dispatch(closeSnackbarAction({ key: notificationKey }))\r\n            history.push(\r\n              generateSafeRoute(SAFE_ROUTES.TRANSACTIONS_HISTORY, {\r\n                shortName: getShortName(),\r\n                safeAddress,\r\n              }),\r\n            )\r\n          }\r\n\r\n          sendAwaitingTransactionNotification(\r\n            dispatch,\r\n            safeAddress,\r\n            awaitingTxsSubmissionDateList,\r\n            notificationKey,\r\n            onNotificationClicked(dispatch, notificationKey),\r\n          )\r\n\r\n          break\r\n        }\r\n        case ADD_OR_UPDATE_SAFE: {\r\n          const state = store.getState()\r\n          const safe = action.payload\r\n          const currentSafeAddress = extractSafeAddress() || safe.address\r\n          if (!currentSafeAddress || !safe.currentVersion) {\r\n            break\r\n          }\r\n          const isUserOwner = grantedSelector(state)\r\n          const version = await getSafeVersionInfo(safe.currentVersion)\r\n\r\n          const notificationKey = `${currentSafeAddress}-update`\r\n          const onNotificationClicked = () => {\r\n            dispatch(closeSnackbarAction({ key: notificationKey }))\r\n            history.push(\r\n              generateSafeRoute(ADDRESSED_ROUTE, {\r\n                shortName: getShortName(),\r\n                safeAddress: currentSafeAddress,\r\n              }),\r\n            )\r\n          }\r\n\r\n          if (version?.needUpdate && isUserOwner) {\r\n            dispatch(\r\n              enqueueSnackbar(\r\n                enhanceSnackbarForAction(\r\n                  NOTIFICATIONS.SAFE_NEW_VERSION_AVAILABLE,\r\n                  notificationKey,\r\n                  onNotificationClicked,\r\n                ),\r\n              ),\r\n            )\r\n          }\r\n          break\r\n        }\r\n        default:\r\n          break\r\n      }\r\n    }\r\n\r\n    return handledAction\r\n  }\r\n\r\nexport default notificationsMiddleware\r\n","import { Store } from 'redux'\r\n\r\nimport { saveSafes } from 'src/logic/safe/utils'\r\nimport { REMOVE_SAFE } from 'src/logic/safe/store/actions/removeSafe'\r\nimport { UPDATE_SAFE } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { safesAsMap } from 'src/logic/safe/store/selectors'\r\nimport { SafeRecord } from '../models/safe'\r\n\r\nconst watchedActions = [REMOVE_SAFE, UPDATE_SAFE]\r\n\r\ntype SafeProps = {\r\n  safe: SafeRecord\r\n}\r\n\r\nexport const safeStorageMiddleware =\r\n  (store: Store) =>\r\n  (next: (arg0: { type: string; payload: string | SafeProps | { address: string; name: string } }) => any) =>\r\n  async (action: { type: string; payload: string | SafeProps | { name: string; address: string } }): Promise<any> => {\r\n    const handledAction = next(action)\r\n\r\n    if (watchedActions.includes(action.type)) {\r\n      const state = store.getState()\r\n      const safesMap = safesAsMap(state)\r\n      await saveSafes(safesMap.filter((safe) => !safe.loadedViaUrl).toJSON())\r\n    }\r\n\r\n    return handledAction\r\n  }\r\n","import { applyMiddleware, CombinedState, combineReducers, compose, createStore, PreloadedState } from 'redux'\r\nimport { save, load, LoadOptions, RLSOptions } from 'redux-localstorage-simple'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { addressBookMiddleware } from 'src/logic/addressBook/store/middleware'\r\nimport addressBookReducer, { ADDRESS_BOOK_REDUCER_ID } from 'src/logic/addressBook/store/reducer'\r\nimport {\r\n  NFT_ASSETS_REDUCER_ID,\r\n  NFT_TOKENS_REDUCER_ID,\r\n  nftAssetReducer,\r\n  nftTokensReducer,\r\n} from 'src/logic/collectibles/store/reducer/collectibles'\r\nimport cookiesReducer, { COOKIES_REDUCER_ID } from 'src/logic/cookies/store/reducer/cookies'\r\nimport currentSessionReducer, {\r\n  CurrentSessionState,\r\n  CURRENT_SESSION_REDUCER_ID,\r\n} from 'src/logic/currentSession/store/reducer/currentSession'\r\nimport notificationsReducer, { NOTIFICATIONS_REDUCER_ID } from 'src/logic/notifications/store/reducer/notifications'\r\nimport gatewayTransactionsReducer, {\r\n  GatewayTransactionsState,\r\n  GATEWAY_TRANSACTIONS_ID,\r\n} from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport localTransactionsReducer, {\r\n  LocalStatusesState,\r\n  LOCAL_TRANSACTIONS_ID,\r\n} from 'src/logic/safe/store/reducer/localTransactions'\r\nimport tokensReducer, { TokenState, TOKEN_REDUCER_ID } from 'src/logic/tokens/store/reducer/tokens'\r\nimport providerWatcher from 'src/logic/wallets/store/middlewares/providerWatcher'\r\nimport providerReducer, { ProviderState, PROVIDER_REDUCER_ID } from 'src/logic/wallets/store/reducer/provider'\r\nimport notificationsMiddleware from 'src/logic/safe/store/middleware/notificationsMiddleware'\r\nimport { safeStorageMiddleware } from 'src/logic/safe/store/middleware/safeStorage'\r\nimport safeReducer, { SAFE_REDUCER_ID } from 'src/logic/safe/store/reducer/safe'\r\nimport currencyValuesReducer, {\r\n  CurrencyValuesState,\r\n  CURRENCY_REDUCER_ID,\r\n  initialCurrencyState,\r\n} from 'src/logic/currencyValues/store/reducer/currencyValues'\r\nimport configReducer, { CONFIG_REDUCER_ID, initialConfigState } from 'src/logic/config/store/reducer'\r\nimport { configMiddleware } from 'src/logic/config/store/middleware'\r\nimport { AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport appearanceReducer, {\r\n  APPEARANCE_REDUCER_ID,\r\n  initialAppearanceState,\r\n  AppearanceState,\r\n} from 'src/logic/appearance/reducer/appearance'\r\nimport { NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles'\r\nimport { SafeReducerMap } from 'src/logic/safe/store/reducer/types/safe'\r\nimport { LS_NAMESPACE, LS_SEPARATOR } from 'src/utils/constants'\r\nimport { ConfigState } from 'src/logic/config/store/reducer/reducer'\r\nimport { localTransactionsMiddleware } from 'src/logic/safe/store/middleware/localTransactionsMiddleware'\r\n\r\nconst CURRENCY_KEY = `${CURRENCY_REDUCER_ID}.selectedCurrency`\r\n\r\nexport const LS_CONFIG: RLSOptions | LoadOptions = {\r\n  states: [ADDRESS_BOOK_REDUCER_ID, CURRENCY_KEY, APPEARANCE_REDUCER_ID, CONFIG_REDUCER_ID],\r\n  namespace: LS_NAMESPACE,\r\n  namespaceSeparator: LS_SEPARATOR,\r\n  disableWarnings: true,\r\n  preloadedState: {\r\n    [CURRENCY_REDUCER_ID]: initialCurrencyState,\r\n    [APPEARANCE_REDUCER_ID]: initialAppearanceState,\r\n    [CONFIG_REDUCER_ID]: initialConfigState,\r\n  },\r\n}\r\n\r\nconst composeEnhancers = ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ as typeof compose) || compose\r\nconst enhancer = composeEnhancers(\r\n  applyMiddleware(\r\n    thunk,\r\n    save(LS_CONFIG),\r\n    notificationsMiddleware,\r\n    safeStorageMiddleware,\r\n    providerWatcher,\r\n    addressBookMiddleware,\r\n    configMiddleware,\r\n    localTransactionsMiddleware,\r\n  ),\r\n)\r\n\r\nconst reducers = {\r\n  [PROVIDER_REDUCER_ID]: providerReducer,\r\n  [SAFE_REDUCER_ID]: safeReducer,\r\n  [NFT_ASSETS_REDUCER_ID]: nftAssetReducer,\r\n  [NFT_TOKENS_REDUCER_ID]: nftTokensReducer,\r\n  [TOKEN_REDUCER_ID]: tokensReducer,\r\n  [GATEWAY_TRANSACTIONS_ID]: gatewayTransactionsReducer,\r\n  [LOCAL_TRANSACTIONS_ID]: localTransactionsReducer,\r\n  [NOTIFICATIONS_REDUCER_ID]: notificationsReducer,\r\n  [CURRENCY_REDUCER_ID]: currencyValuesReducer,\r\n  [COOKIES_REDUCER_ID]: cookiesReducer,\r\n  [ADDRESS_BOOK_REDUCER_ID]: addressBookReducer,\r\n  [CURRENT_SESSION_REDUCER_ID]: currentSessionReducer,\r\n  [CONFIG_REDUCER_ID]: configReducer,\r\n  [APPEARANCE_REDUCER_ID]: appearanceReducer,\r\n}\r\n\r\nconst rootReducer = combineReducers(reducers)\r\n\r\n// There is a circular dep that prevents using:\r\n// ReturnType<typeof store.getState>\r\n// or https://dev.to/svehla/typescript-100-type-safe-react-redux-under-20-lines-4h8n\r\nexport type AppReduxState = CombinedState<{\r\n  [PROVIDER_REDUCER_ID]: ProviderState\r\n  [SAFE_REDUCER_ID]: SafeReducerMap\r\n  [NFT_ASSETS_REDUCER_ID]: NFTAssets\r\n  [NFT_TOKENS_REDUCER_ID]: NFTTokens\r\n  [TOKEN_REDUCER_ID]: TokenState\r\n  [GATEWAY_TRANSACTIONS_ID]: GatewayTransactionsState\r\n  [LOCAL_TRANSACTIONS_ID]: LocalStatusesState\r\n  [NOTIFICATIONS_REDUCER_ID]: Map<string, Notification>\r\n  [CURRENCY_REDUCER_ID]: CurrencyValuesState\r\n  [COOKIES_REDUCER_ID]: Map<string, any>\r\n  [ADDRESS_BOOK_REDUCER_ID]: AddressBookState\r\n  [CURRENT_SESSION_REDUCER_ID]: CurrentSessionState\r\n  [CONFIG_REDUCER_ID]: ConfigState\r\n  [APPEARANCE_REDUCER_ID]: AppearanceState\r\n}>\r\n\r\nexport const store: any = createStore(rootReducer, load(LS_CONFIG), enhancer)\r\n\r\nexport const createPreloadedStore = (localState = {} as PreloadedState<unknown>): typeof store =>\r\n  createStore(rootReducer, localState, enhancer)\r\n","import { Action } from 'redux'\r\n\r\nimport { clearCurrentSession } from 'src/logic/currentSession/store/actions/clearCurrentSession'\r\nimport loadCurrentSessionFromStorage from 'src/logic/currentSession/store/actions/loadCurrentSessionFromStorage'\r\nimport { clearSafeList } from 'src/logic/safe/store/actions/clearSafeList'\r\nimport loadSafesFromStorage from 'src/logic/safe/store/actions/loadSafesFromStorage'\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types'\r\nimport { CONFIG_ACTIONS } from '../actions'\r\n\r\nexport const configMiddleware =\r\n  ({ dispatch }) =>\r\n  (next: Dispatch) =>\r\n  async (action: Action<typeof CONFIG_ACTIONS.SET_CHAIN_ID>) => {\r\n    const handledAction = next(action)\r\n\r\n    switch (action.type) {\r\n      case CONFIG_ACTIONS.SET_CHAIN_ID: {\r\n        dispatch(clearSafeList())\r\n        dispatch(clearCurrentSession())\r\n        dispatch(loadSafesFromStorage())\r\n        dispatch(loadCurrentSessionFromStorage())\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n\r\n    return handledAction\r\n  }\r\n","import Cookies, { CookieAttributes } from 'js-cookie'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\n\r\nconst PREFIX = 'v1_MAINNET__'\r\n\r\nexport const loadFromCookie = async (key: string, withoutPrefix = false): Promise<undefined | Record<string, any>> => {\r\n  const prefix = withoutPrefix ? '' : PREFIX\r\n  try {\r\n    const stringifiedValue = await Cookies.get(`${prefix}${key}`)\r\n    if (stringifiedValue === null || stringifiedValue === undefined) {\r\n      return undefined\r\n    }\r\n\r\n    return JSON.parse(stringifiedValue)\r\n  } catch (err) {\r\n    logError(Errors._700, `cookie ${key}  ${err.message}`)\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport const saveCookie = async (\r\n  key: string,\r\n  value: Record<string, any>,\r\n  options: CookieAttributes,\r\n  withoutPrefix = false,\r\n): Promise<void> => {\r\n  const prefix = withoutPrefix ? '' : PREFIX\r\n  try {\r\n    const stringifiedValue = JSON.stringify(value)\r\n    await Cookies.set(`${prefix}${key}`, stringifiedValue, options)\r\n  } catch (err) {\r\n    logError(Errors._701, `cookie ${key}  ${err.message}`)\r\n  }\r\n}\r\n\r\nexport const removeCookie = (key: string, path: string, domain: string): void => Cookies.remove(key, { path, domain })\r\n","import { EthHashInfo } from '@gnosis.pm/safe-react-components'\r\nimport { ReactElement } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { copyShortNameSelector, showShortNameSelector } from 'src/logic/appearance/selectors'\r\nimport { extractShortChainName } from 'src/routes/routes'\r\nimport { parsePrefixedAddress } from 'src/utils/prefixedAddress'\r\n\r\ntype Props = Omit<Parameters<typeof EthHashInfo>[0], 'shouldShowShortName' | 'shouldCopyShortName'>\r\n\r\nconst PrefixedEthHashInfo = ({ hash, ...rest }: Props): ReactElement => {\r\n  const showChainPrefix = useSelector(showShortNameSelector)\r\n  const copyChainPrefix = useSelector(copyShortNameSelector)\r\n  const { address } = parsePrefixedAddress(hash)\r\n\r\n  return (\r\n    <EthHashInfo\r\n      hash={address}\r\n      shortName={extractShortChainName()}\r\n      shouldShowShortName={showChainPrefix}\r\n      shouldCopyShortName={copyChainPrefix}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrefixedEthHashInfo\r\n","export const COOKIES_KEY = 'COOKIES'\r\nexport const COOKIES_KEY_INTERCOM = `${COOKIES_KEY}_INTERCOM`\r\n","import { Action, handleActions } from 'redux-actions'\r\nimport { SET_CURRENT_CURRENCY } from 'src/logic/currencyValues/store/actions/setSelectedCurrency'\r\nimport { SET_AVAILABLE_CURRENCIES } from 'src/logic/currencyValues/store/actions/setAvailableCurrencies'\r\n\r\nexport const CURRENCY_REDUCER_ID = 'currencyValues'\r\n\r\nexport type CurrencyValuesState = {\r\n  selectedCurrency: string\r\n  availableCurrencies: string[]\r\n}\r\n\r\nconst defaultSelectedCurrency = 'USD'\r\n\r\nexport const initialCurrencyState = {\r\n  selectedCurrency: defaultSelectedCurrency,\r\n  availableCurrencies: [defaultSelectedCurrency],\r\n}\r\n\r\nexport type SelectedCurrencyPayload = { selectedCurrency: string }\r\nexport type AvailableCurrenciesPayload = { availableCurrencies: string[] }\r\n\r\nconst currencyValuesReducer = handleActions<CurrencyValuesState, CurrencyValuesState>(\r\n  {\r\n    [SET_CURRENT_CURRENCY]: (state, action: Action<SelectedCurrencyPayload>) => {\r\n      const { selectedCurrency } = action.payload\r\n      state.selectedCurrency = selectedCurrency\r\n      return state\r\n    },\r\n    [SET_AVAILABLE_CURRENCIES]: (state, action: Action<AvailableCurrenciesPayload>) => {\r\n      const { availableCurrencies } = action.payload\r\n      state.availableCurrencies = availableCurrencies\r\n      return state\r\n    },\r\n  },\r\n  initialCurrencyState,\r\n)\r\n\r\nexport default currencyValuesReducer\r\n","import { lg, md, sm, xl, xs } from 'src/theme/variables'\r\n\r\nexport const getSize = (size: string): string => {\r\n  switch (size) {\r\n    case 'xs':\r\n      return xs\r\n    case 'sm':\r\n      return sm\r\n    case 'md':\r\n      return md\r\n    case 'lg':\r\n      return lg\r\n    case 'xl':\r\n      return xl\r\n    default:\r\n      return '0px'\r\n  }\r\n}\r\n","import { ReactElement } from 'react'\r\n\r\nimport { getSize } from 'src/theme/size'\r\nimport { border } from 'src/theme/variables'\r\n\r\nconst calculateStyleFrom = (color, margin) => ({\r\n  width: '100%',\r\n  minHeight: '2px',\r\n  height: '2px',\r\n  backgroundColor: color || border,\r\n  margin: `${getSize(margin)} 0px`,\r\n})\r\n\r\nconst Hairline = ({ className, color, margin, style }: any): ReactElement => {\r\n  const calculatedStyles = calculateStyleFrom(color, margin)\r\n  const mergedStyles = { ...calculatedStyles, ...(style || {}) }\r\n\r\n  return <div className={className} style={mergedStyles} />\r\n}\r\n\r\nexport default Hairline\r\n","import { Dispatch } from 'src/logic/safe/store/actions/types.d'\r\nimport { createAction } from 'redux-actions'\r\n\r\nimport onboard from 'src/logic/wallets/onboard'\r\nimport { resetWeb3 } from 'src/logic/wallets/getWeb3'\r\n\r\nexport const REMOVE_PROVIDER = 'REMOVE_PROVIDER'\r\n\r\nconst removeProvider = createAction(REMOVE_PROVIDER)\r\n\r\nexport default (payload?: { keepStorageKey: boolean }) =>\r\n  (dispatch: Dispatch): void => {\r\n    onboard().walletReset()\r\n    resetWeb3()\r\n\r\n    dispatch(removeProvider(payload))\r\n  }\r\n","import { mustBeEthereumContractAddress } from 'src/components/forms/validator'\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Overwrite } from 'src/types/helpers'\r\n\r\nexport type OldAddressBookEntry = {\r\n  address: string\r\n  name: string\r\n  isOwner: boolean\r\n}\r\n\r\nexport type OldAddressBookType = {\r\n  [safeAddress: string]: [OldAddressBookEntry]\r\n}\r\n\r\nexport const ADDRESS_BOOK_INVALID_NAMES = ['UNKNOWN', 'OWNER #', 'MY WALLET']\r\n\r\nexport const isValidAddressBookName = (addressBookName: string): boolean => {\r\n  const hasInvalidName = ADDRESS_BOOK_INVALID_NAMES.find((invalidName) =>\r\n    addressBookName?.toUpperCase().includes(invalidName),\r\n  )\r\n  return !hasInvalidName || addressBookName === ''\r\n}\r\n\r\n/**\r\n * Returns a filtered list of AddressBookEntries whose addresses are contracts\r\n * @param {Array<AddressBookEntry>} addressBook\r\n * @returns Array<AddressBookEntry>\r\n */\r\nexport const filterContractAddressBookEntries = async (addressBook: AddressBookState): Promise<AddressBookEntry[]> => {\r\n  const abFlags = await Promise.all(\r\n    addressBook.map(async ({ address }: AddressBookEntry): Promise<boolean> => {\r\n      return (await mustBeEthereumContractAddress(address)) === undefined\r\n    }),\r\n  )\r\n\r\n  return addressBook.filter((_, index) => abFlags[index])\r\n}\r\n\r\n/**\r\n * Filters the AddressBookEntries by `address` or `name` based on the `inputValue`\r\n * @param {Array<AddressBookEntry>} addressBookEntries\r\n * @param {Object} filterParams\r\n * @param {String} filterParams.inputValue\r\n * @return Array<AddressBookEntry>\r\n */\r\nexport const filterAddressEntries = (\r\n  addressBookEntries: AddressBookEntry[],\r\n  { inputValue }: { inputValue: string },\r\n): AddressBookEntry[] =>\r\n  addressBookEntries.filter(({ address, name }) => {\r\n    const inputLowerCase = (inputValue || '').toLowerCase()\r\n    const foundName = (name || '').toLowerCase().includes(inputLowerCase)\r\n    const foundAddress = (address || '').toLowerCase().includes(inputLowerCase)\r\n\r\n    return foundName || foundAddress\r\n  })\r\n\r\nexport const getEntryIndex = (\r\n  state: AppReduxState['addressBook'],\r\n  addressBookEntry: Overwrite<AddressBookEntry, { name?: string }>,\r\n): number =>\r\n  state.findIndex(\r\n    ({ address, chainId }) =>\r\n      chainId.toString() === addressBookEntry.chainId.toString() && sameAddress(address, addressBookEntry.address),\r\n  )\r\n\r\nexport const hasSameAddressAndChainId = (arrVal: AddressBookEntry, othVal: AddressBookEntry): boolean =>\r\n  arrVal.address === othVal.address && arrVal.chainId === othVal.chainId\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { OpenCookieBannerPayload } from 'src/logic/cookies/store/reducer/cookies'\r\n\r\nexport const OPEN_COOKIE_BANNER = 'OPEN_COOKIE_BANNER'\r\n\r\nexport const openCookieBanner = createAction<OpenCookieBannerPayload>(OPEN_COOKIE_BANNER)\r\n","import { Action, handleActions } from 'redux-actions'\r\n\r\nimport { SET_COPY_SHORT_NAME } from '../actions/setCopyShortName'\r\nimport { SET_SHOW_SHORT_NAME } from '../actions/setShowShortName'\r\n\r\nexport const APPEARANCE_REDUCER_ID = 'appearance'\r\n\r\nexport const initialAppearanceState = {\r\n  copyShortName: true,\r\n  showShortName: true,\r\n}\r\n\r\nexport type AppearanceState = typeof initialAppearanceState\r\n\r\nexport type SetCopyShortNamePayload = Pick<AppearanceState, 'copyShortName'>\r\nexport type SetShowShortNamePayload = Pick<AppearanceState, 'showShortName'>\r\n\r\nconst appearanceReducer = handleActions<AppearanceState, AppearanceState>(\r\n  {\r\n    [SET_COPY_SHORT_NAME]: (state, { payload }: Action<SetCopyShortNamePayload>): AppearanceState => ({\r\n      ...state,\r\n      copyShortName: payload.copyShortName,\r\n    }),\r\n    [SET_SHOW_SHORT_NAME]: (state, { payload }: Action<SetShowShortNamePayload>): AppearanceState => ({\r\n      ...state,\r\n      showShortName: payload.showShortName,\r\n    }),\r\n  },\r\n  initialAppearanceState,\r\n)\r\n\r\nexport default appearanceReducer\r\n","import {\r\n  ChainInfo,\r\n  GasPriceOracle,\r\n  GAS_PRICE_TYPE,\r\n  RPC_AUTHENTICATION,\r\n  RpcUri,\r\n  GasPriceFixed,\r\n} from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport {\r\n  GATEWAY_URL,\r\n  DEFAULT_CHAIN_ID,\r\n  ETHERSCAN_API_KEY,\r\n  INFURA_TOKEN,\r\n  SAFE_APPS_RPC_TOKEN,\r\n  TX_SERVICE_VERSION,\r\n} from 'src/utils/constants'\r\nimport { ChainId, ChainName, ShortName } from './chain.d'\r\nimport { emptyChainInfo, getChains } from './cache/chains'\r\nimport { evalTemplate } from './utils'\r\nimport local from 'src/utils/storage/local'\r\nimport { ConfigState } from 'src/logic/config/store/reducer/reducer.d'\r\n\r\nexport const LOCAL_CONFIG_KEY = 'config'\r\n\r\n/**\r\n * Determine the initial chain id\r\n */\r\nconst getInitialChainId = (): ChainId => {\r\n  const localItem = local.getItem<ConfigState>(LOCAL_CONFIG_KEY)\r\n  return localItem?.chainId || DEFAULT_CHAIN_ID\r\n}\r\n\r\nlet _chainId = getInitialChainId()\r\n\r\nexport const _setChainId = (newChainId: ChainId) => {\r\n  _chainId = newChainId\r\n}\r\n\r\nexport const _getChainId = (): ChainId => {\r\n  return _chainId\r\n}\r\n\r\nexport const isValidChainId = (chainId: unknown): chainId is ChainId =>\r\n  getChains().some((chain) => chain.chainId === chainId)\r\n\r\nexport const getChainById = (chainId: ChainId): ChainInfo => {\r\n  return getChains().find((chain) => chain.chainId === chainId) || emptyChainInfo\r\n}\r\n\r\nexport const getChainInfo = (): ChainInfo => {\r\n  return getChainById(_getChainId())\r\n}\r\n\r\nexport const getChainName = (): ChainName => {\r\n  return getChainInfo().chainName\r\n}\r\n\r\nexport const getShortName = (): ShortName => {\r\n  return getChainInfo().shortName\r\n}\r\n\r\n// CGW does not return `nativeCurrency.address` as it is `ZERO_ADDRESS`\r\nexport const getNativeCurrency = (): ChainInfo['nativeCurrency'] => {\r\n  return getChainInfo().nativeCurrency\r\n}\r\n\r\nconst formatRpcServiceUrl = ({ authentication, value }: RpcUri, TOKEN: string): string => {\r\n  const needsToken = authentication === RPC_AUTHENTICATION.API_KEY_PATH\r\n  return needsToken ? `${value}${TOKEN}` : value\r\n}\r\n\r\nexport const getRpcServiceUrl = (): string => {\r\n  const { rpcUri } = getChainInfo()\r\n  return formatRpcServiceUrl(rpcUri, INFURA_TOKEN)\r\n}\r\n\r\nexport const getPublicRpcUrl = (): string => {\r\n  const { publicRpcUri } = getChainInfo()\r\n  // Don't pass any auth token because this RPC is for user's wallet\r\n  return formatRpcServiceUrl(publicRpcUri, '')\r\n}\r\n\r\nexport const getSafeAppsRpcServiceUrl = (): string => {\r\n  const { safeAppsRpcUri } = getChainInfo()\r\n  return formatRpcServiceUrl(safeAppsRpcUri, SAFE_APPS_RPC_TOKEN)\r\n}\r\n\r\nexport const getGasPriceOracles = (): Extract<ChainInfo['gasPrice'][number], GasPriceOracle>[] => {\r\n  const isOracleType = (gasPrice: ChainInfo['gasPrice'][number]): gasPrice is GasPriceOracle => {\r\n    return gasPrice.type === GAS_PRICE_TYPE.ORACLE\r\n  }\r\n  return getChainInfo().gasPrice.filter(isOracleType)\r\n}\r\n\r\nexport const getFixedGasPrice = (): Extract<ChainInfo['gasPrice'][number], GasPriceFixed> => {\r\n  const isFixed = (gasPrice: ChainInfo['gasPrice'][number]): gasPrice is GasPriceFixed => {\r\n    return gasPrice.type === GAS_PRICE_TYPE.FIXED\r\n  }\r\n  return getChainInfo().gasPrice.filter(isFixed)[0]\r\n}\r\n\r\n// @TODO: Remove after Safe Apps reliance\r\nexport const getTxServiceUrl = (): ChainInfo['transactionService'] => {\r\n  const { transactionService } = getChainInfo()\r\n  // To avoid breaking changes, we define the version the web uses manually\r\n  return `${transactionService}/api/v${TX_SERVICE_VERSION}`\r\n}\r\n\r\nexport const getDisabledWallets = (): ChainInfo['disabledWallets'] => {\r\n  return getChainInfo().disabledWallets\r\n}\r\n\r\nconst getExplorerUriTemplate = (): ChainInfo['blockExplorerUriTemplate'] => {\r\n  return getChainInfo().blockExplorerUriTemplate\r\n}\r\n\r\nexport const getExplorerUrl = (): string => {\r\n  const { address } = getExplorerUriTemplate()\r\n  return new URL(address).origin\r\n}\r\n\r\nexport const getHashedExplorerUrl = (hash: string): string => {\r\n  const isTx = hash.length > 42\r\n  const param = isTx ? 'txHash' : 'address'\r\n  const uri = getExplorerUriTemplate()[param]\r\n  return evalTemplate(uri, { [param]: hash })\r\n}\r\n\r\n// Matches return type of ExplorerInfo from SRC\r\nexport const getExplorerInfo = (hash: string): (() => { url: string; alt: string }) => {\r\n  const url = getHashedExplorerUrl(hash)\r\n\r\n  const { hostname } = new URL(url)\r\n  const alt = `View on ${hostname}` // Not returned by CGW\r\n  return () => ({ url, alt })\r\n}\r\n\r\nconst getExplorerApiKey = (apiUrl: string): string | undefined => {\r\n  return apiUrl.includes('etherscan') && ETHERSCAN_API_KEY ? ETHERSCAN_API_KEY : undefined\r\n}\r\n\r\nconst fetchContractAbi = async (contractAddress: string) => {\r\n  const apiUri = getExplorerUriTemplate().api\r\n  const apiKey = getExplorerApiKey(apiUri)\r\n\r\n  const params = {\r\n    module: 'contract',\r\n    action: 'getAbi',\r\n    address: contractAddress,\r\n    ...(apiKey && { apiKey }),\r\n  }\r\n\r\n  const finalUrl = evalTemplate(apiUri, params)\r\n\r\n  const response = await fetch(finalUrl)\r\n\r\n  if (!response.ok) {\r\n    return { status: 0, result: [] }\r\n  }\r\n\r\n  return response.json()\r\n}\r\n\r\nexport const getContractABI = async (contractAddress: string) => {\r\n  try {\r\n    const { result, status } = await fetchContractAbi(contractAddress)\r\n\r\n    if (status === '0') {\r\n      return []\r\n    }\r\n\r\n    return result\r\n  } catch (e) {\r\n    console.error('Failed to retrieve ABI', e)\r\n    return undefined\r\n  }\r\n}\r\n","import Button from '@material-ui/core/Button'\r\nimport { ReactElement } from 'react'\r\n\r\nconst calculateStyleBased = (minWidth, minHeight) => ({\r\n  minWidth: minWidth && `${minWidth}px`,\r\n  minHeight: minHeight && `${minHeight}px`,\r\n})\r\n\r\nconst GnoButton = ({ minWidth, minHeight = 35, testId = '', style = {}, ...props }: any): ReactElement => {\r\n  const calculatedStyle = calculateStyleBased(minWidth, minHeight)\r\n\r\n  return <Button data-testid={testId} style={{ ...calculatedStyle, ...style }} {...props} />\r\n}\r\n\r\nexport default GnoButton\r\n","import { getShortName } from 'src/config'\r\nimport { getChains } from 'src/config/cache/chains'\r\nimport { ShortName } from 'src/config/chain.d'\r\n\r\nexport const isValidPrefix = (prefix: ShortName): boolean => {\r\n  return getChains().some(({ shortName }) => shortName === prefix)\r\n}\r\n\r\nexport const parsePrefixedAddress = (fullAddress = ''): { address: string; prefix: ShortName } => {\r\n  const parts = fullAddress.split(':').filter(Boolean)\r\n  const address = parts.length > 1 ? parts[1] : parts[0] || ''\r\n  const prefix = parts.length > 1 ? parts[0] || '' : getShortName()\r\n  return { prefix, address }\r\n}\r\n","import { createBrowserHistory } from 'history'\r\nimport { generatePath, matchPath } from 'react-router-dom'\r\n\r\nimport { getChains } from 'src/config/cache/chains'\r\nimport { ChainId, ShortName } from 'src/config/chain.d'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { PUBLIC_URL } from 'src/utils/constants'\r\nimport { parsePrefixedAddress } from 'src/utils/prefixedAddress'\r\n\r\nexport const history = createBrowserHistory({\r\n  basename: PUBLIC_URL,\r\n})\r\n\r\n// Safe specific routes\r\nconst hashRegExp = '0x[0-9A-Fa-f]'\r\n\r\nconst chainSpecificSafeAddressPathRegExp = `[a-z0-9-]{2,}:${hashRegExp}{40}`\r\n\r\nexport const SAFE_ADDRESS_SLUG = 'prefixedSafeAddress'\r\nexport const ADDRESSED_ROUTE = `/:${SAFE_ADDRESS_SLUG}(${chainSpecificSafeAddressPathRegExp})`\r\n\r\n// Safe section routes, i.e. /:prefixedSafeAddress/settings\r\nconst SAFE_SECTION_SLUG = 'safeSection'\r\nexport const SAFE_SECTION_ROUTE = `${ADDRESSED_ROUTE}/:${SAFE_SECTION_SLUG}`\r\n\r\n// Safe subsection routes, i.e. /:prefixedSafeAddress/settings/advanced\r\nexport const SAFE_SUBSECTION_SLUG = 'safeSubsection'\r\nexport const SAFE_SUBSECTION_ROUTE = `${SAFE_SECTION_ROUTE}/:${SAFE_SUBSECTION_SLUG}`\r\n\r\nexport const TRANSACTION_ID_SLUG = `safeTxHash`\r\n\r\n// URL: gnosis-safe.io/app/:[SAFE_ADDRESS_SLUG]/:[SAFE_SECTION_SLUG]/:[SAFE_SUBSECTION_SLUG]\r\nexport type SafeRouteSlugs = {\r\n  [SAFE_ADDRESS_SLUG]?: string\r\n  [SAFE_SECTION_SLUG]?: string\r\n  [SAFE_SUBSECTION_SLUG]?: string\r\n  [TRANSACTION_ID_SLUG]?: string\r\n}\r\n\r\nexport const LOAD_SPECIFIC_SAFE_ROUTE = `/load/:${SAFE_ADDRESS_SLUG}?` // ? = optional slug\r\n\r\n// Routes independant of safe/network\r\nexport const ROOT_ROUTE = '/'\r\nexport const WELCOME_ROUTE = '/welcome'\r\nexport const OPEN_SAFE_ROUTE = '/open'\r\nexport const LOAD_SAFE_ROUTE = generatePath(LOAD_SPECIFIC_SAFE_ROUTE) // By providing no slug, we get '/load'\r\n\r\n// [SAFE_SECTION_SLUG], [SAFE_SUBSECTION_SLUG] populated safe routes\r\nexport const SAFE_ROUTES = {\r\n  ASSETS_BALANCES: `${ADDRESSED_ROUTE}/balances`, // [SAFE_SECTION_SLUG] === 'balances'\r\n  ASSETS_BALANCES_COLLECTIBLES: `${ADDRESSED_ROUTE}/balances/collectibles`, // [SAFE_SUBSECTION_SLUG] === 'collectibles'\r\n  TRANSACTIONS: `${ADDRESSED_ROUTE}/transactions`,\r\n  TRANSACTIONS_HISTORY: `${ADDRESSED_ROUTE}/transactions/history`,\r\n  TRANSACTIONS_QUEUE: `${ADDRESSED_ROUTE}/transactions/queue`,\r\n  TRANSACTIONS_SINGULAR: `${ADDRESSED_ROUTE}/transactions/:${TRANSACTION_ID_SLUG}(${hashRegExp}+)`, // [TRANSACTION_HASH_SLUG] === 'safeTxHash'\r\n  ADDRESS_BOOK: `${ADDRESSED_ROUTE}/address-book`,\r\n  APPS: `${ADDRESSED_ROUTE}/apps`,\r\n  SETTINGS: `${ADDRESSED_ROUTE}/settings`,\r\n  SETTINGS_APPEARANCE: `${ADDRESSED_ROUTE}/settings/appearance`,\r\n  SETTINGS_DETAILS: `${ADDRESSED_ROUTE}/settings/details`,\r\n  SETTINGS_OWNERS: `${ADDRESSED_ROUTE}/settings/owners`,\r\n  SETTINGS_POLICIES: `${ADDRESSED_ROUTE}/settings/policies`,\r\n  SETTINGS_SPENDING_LIMIT: `${ADDRESSED_ROUTE}/settings/spending-limit`,\r\n  SETTINGS_ADVANCED: `${ADDRESSED_ROUTE}/settings/advanced`,\r\n}\r\n\r\nexport const getNetworkRootRoutes = (): Array<{ chainId: ChainId; route: string }> =>\r\n  getChains().map(({ chainId, chainName }) => ({\r\n    chainId,\r\n    route: `/${chainName.replaceAll(' ', '-').toLowerCase()}`,\r\n  }))\r\n\r\nexport type SafeRouteParams = { shortName: ShortName; safeAddress: string }\r\n\r\nexport const isValidShortChainName = (shortName: ShortName): boolean => {\r\n  return getChains().some((chain) => chain.shortName === shortName)\r\n}\r\n\r\n// Due to hoisting issues, these functions should remain here\r\nexport const extractPrefixedSafeAddress = (\r\n  path = history.location.pathname,\r\n  route = ADDRESSED_ROUTE,\r\n): SafeRouteParams => {\r\n  const match = matchPath<SafeRouteSlugs>(path, {\r\n    path: route,\r\n  })\r\n\r\n  const prefixedSafeAddress = match?.params?.[SAFE_ADDRESS_SLUG]\r\n  const { prefix, address } = parsePrefixedAddress(prefixedSafeAddress || '')\r\n\r\n  return {\r\n    shortName: prefix,\r\n    safeAddress: checksumAddress(address),\r\n  }\r\n}\r\n\r\nexport const hasPrefixedSafeAddressInUrl = (): boolean => {\r\n  const match = matchPath<SafeRouteSlugs>(history.location.pathname, {\r\n    // Routes that have addresses in URL\r\n    path: [ADDRESSED_ROUTE, LOAD_SPECIFIC_SAFE_ROUTE],\r\n  })\r\n  return !!match?.params?.[SAFE_ADDRESS_SLUG]\r\n}\r\n\r\nexport const extractShortChainName = (): ShortName => extractPrefixedSafeAddress().shortName\r\nexport const extractSafeAddress = (): string => extractPrefixedSafeAddress().safeAddress\r\n\r\nexport const getPrefixedSafeAddressSlug = (\r\n  { safeAddress = extractSafeAddress(), shortName = extractShortChainName() } = {\r\n    safeAddress: extractSafeAddress(),\r\n    shortName: extractShortChainName(),\r\n  },\r\n): string => `${shortName}:${safeAddress}`\r\n\r\n// Populate `/:[SAFE_ADDRESS_SLUG]` with current 'shortName:safeAddress'\r\nexport const generateSafeRoute = (\r\n  path: typeof SAFE_ROUTES[keyof typeof SAFE_ROUTES],\r\n  params: SafeRouteParams,\r\n): string =>\r\n  generatePath(path, {\r\n    [SAFE_ADDRESS_SLUG]: getPrefixedSafeAddressSlug(params),\r\n  })\r\n\r\n// Singular tx route is excluded as it has a required safeTxHash slug\r\n// This is to give stricter routing, instead of making the slug optional\r\nconst { TRANSACTIONS_SINGULAR: _hasRequiredSlug, ...STANDARD_SAFE_ROUTES } = SAFE_ROUTES\r\nexport const generatePrefixedAddressRoutes = (params: SafeRouteParams): typeof STANDARD_SAFE_ROUTES => {\r\n  return Object.entries(STANDARD_SAFE_ROUTES).reduce<typeof STANDARD_SAFE_ROUTES>(\r\n    (routes, [key, route]) => ({ ...routes, [key]: generateSafeRoute(route, params) }),\r\n    {} as typeof STANDARD_SAFE_ROUTES,\r\n  )\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const UPDATE_SAFE = 'UPDATE_SAFE'\r\n\r\nexport const updateSafe = createAction<Partial<SafeRecordProps>>(UPDATE_SAFE)\r\n","import { getStoragePrefix, loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\nexport const SAFES_KEY = 'SAFES'\r\n\r\nexport type StoredSafes = Record<string, SafeRecordProps>\r\n\r\nexport const loadStoredSafes = (): StoredSafes | undefined => {\r\n  return loadFromStorage<StoredSafes>(SAFES_KEY)\r\n}\r\n\r\nexport const loadStoredNetworkSafeById = (id: ChainId): StoredSafes | undefined => {\r\n  return loadFromStorage<StoredSafes>(SAFES_KEY, getStoragePrefix(id))\r\n}\r\n\r\nexport const saveSafes = (safes: StoredSafes): void => {\r\n  saveToStorage(SAFES_KEY, safes)\r\n}\r\n\r\nexport const getLocalSafes = (): SafeRecordProps[] | undefined => {\r\n  const storedSafes = loadStoredSafes()\r\n  return storedSafes ? Object.values(storedSafes) : undefined\r\n}\r\n\r\nexport const getLocalNetworkSafesById = (id: ChainId): SafeRecordProps[] | undefined => {\r\n  const storedSafes = loadStoredNetworkSafeById(id)\r\n  return storedSafes ? Object.values(storedSafes) : undefined\r\n}\r\n\r\nexport const getLocalSafe = (safeAddress: string): SafeRecordProps | undefined => {\r\n  const storedSafes = loadStoredSafes()\r\n  return storedSafes?.[safeAddress]\r\n}\r\n","import Storage from './Storage'\r\n\r\nconst session = new Storage(window.sessionStorage)\r\n\r\nexport default session\r\n\r\nexport const {\r\n  getItem: loadFromSessionStorage,\r\n  setItem: saveToSessionStorage,\r\n  removeItem: removeFromSessionStorage,\r\n} = session\r\n","import { handleActions } from 'redux-actions'\r\nimport { LOCAL_CONFIG_KEY, _getChainId } from 'src/config'\r\nimport { CONFIG_ACTIONS } from '../actions'\r\nimport { ConfigState, ConfigPayload } from './reducer.d'\r\n\r\nexport const CONFIG_REDUCER_ID = LOCAL_CONFIG_KEY\r\n\r\nexport const initialConfigState: ConfigState = {\r\n  chainId: _getChainId(),\r\n}\r\n\r\n// Stored locally as to preserve chainId for non-EIP-3770 routes\r\nconst configReducer = handleActions<ConfigState, ConfigPayload>(\r\n  {\r\n    [CONFIG_ACTIONS.SET_CHAIN_ID]: (state, action) => {\r\n      const networkId = action.payload\r\n      return { ...state, chainId: networkId }\r\n    },\r\n  },\r\n  initialConfigState,\r\n)\r\n\r\nexport default configReducer\r\n","import { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\n\r\n// If this is in the index.ts file, it causes a circular dependency\r\n// CGW does not return `nativeCurrency.address` as it is `ZERO_ADDRESS`\r\nexport const getNativeCurrencyAddress = (): string => {\r\n  return ZERO_ADDRESS\r\n}\r\n\r\n// Template syntax returned from CGW is {{this}}\r\nexport const evalTemplate = (uri: string, data: string | Record<string, string>): string => {\r\n  const TEMPLATE_REGEX = /\\{\\{([^}]+)\\}\\}/g\r\n  return uri.replace(TEMPLATE_REGEX, (_: string, key: string) => data[key])\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const ADD_OR_UPDATE_SAFE = 'ADD_OR_UPDATE_SAFE'\r\n\r\nexport const addOrUpdateSafe = createAction<SafeRecordProps>(ADD_OR_UPDATE_SAFE)\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { TransactionStatusPayload } from 'src/logic/safe/store/reducer/localTransactions'\r\n\r\nexport const UPDATE_TRANSACTION_STATUS = 'UPDATE_TRANSACTION_STATUS'\r\nexport const updateTransactionStatus = createAction<TransactionStatusPayload>(UPDATE_TRANSACTION_STATUS)\r\n","import { CHAIN_ID } from 'src/config/chain.d'\r\n\r\nexport const APP_ENV = process.env.REACT_APP_ENV\r\nexport const NODE_ENV = process.env.NODE_ENV\r\nexport const IS_PRODUCTION = APP_ENV === 'production'\r\nexport const DEFAULT_CHAIN_ID = IS_PRODUCTION ? CHAIN_ID.ETHEREUM : CHAIN_ID.RINKEBY\r\nexport const PUBLIC_URL = process.env.PUBLIC_URL\r\nexport const TX_SERVICE_VERSION = '1'\r\nexport const INTERCOM_ID = IS_PRODUCTION ? process.env.REACT_APP_INTERCOM_ID : 'plssl1fl'\r\nexport const GOOGLE_ANALYTICS_ID = process.env.REACT_APP_GOOGLE_ANALYTICS || ''\r\nexport const SENTRY_DSN = process.env.REACT_APP_SENTRY_DSN || ''\r\nexport const PORTIS_ID = process.env.REACT_APP_PORTIS_ID ?? '852b763d-f28b-4463-80cb-846d7ec5806b'\r\nexport const FORTMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY ?? 'pk_test_CAD437AA29BE0A40'\r\nexport const INFURA_TOKEN = process.env.REACT_APP_INFURA_TOKEN || ''\r\nexport const SAFE_APPS_RPC_TOKEN = process.env.REACT_APP_SAFE_APPS_RPC_INFURA_TOKEN || ''\r\nexport const LATEST_SAFE_VERSION = process.env.REACT_APP_LATEST_SAFE_VERSION || '1.3.0'\r\nexport const APP_VERSION = process.env.REACT_APP_APP_VERSION || 'not-defined'\r\nexport const COLLECTIBLES_SOURCE = process.env.REACT_APP_COLLECTIBLES_SOURCE || 'Gnosis'\r\nexport const SAFE_POLLING_INTERVAL = process.env.NODE_ENV === 'test' ? 4500 : 15000\r\nexport const ETHERSCAN_API_KEY = process.env.REACT_APP_ETHERSCAN_API_KEY || ''\r\nexport const ETHGASSTATION_API_KEY = process.env.REACT_APP_ETHGASSTATION_API_KEY\r\nexport const IPFS_GATEWAY = process.env.REACT_APP_IPFS_GATEWAY\r\nexport const SPENDING_LIMIT_MODULE_ADDRESS =\r\n  process.env.REACT_APP_SPENDING_LIMIT_MODULE_ADDRESS || '0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134'\r\n\r\n// localStorage-related constants\r\nexport const LS_NAMESPACE = 'SAFE'\r\nexport const LS_SEPARATOR = '__'\r\nexport const LS_USE_PROD_CGW = 'useProdGateway'\r\n\r\n// For debugging on dev\r\nconst isProdGateway = () => {\r\n  try {\r\n    return localStorage.getItem(`${LS_NAMESPACE}${LS_SEPARATOR}${LS_USE_PROD_CGW}`) === 'true'\r\n  } catch (e) {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const GATEWAY_URL =\r\n  process.env.REACT_APP_GATEWAY_URL ||\r\n  (IS_PRODUCTION || isProdGateway() ? 'https://safe-client.gnosis.io' : 'https://safe-client.staging.gnosisdev.com')\r\n","import { AppReduxState } from 'src/store'\r\nimport { APPEARANCE_REDUCER_ID } from '../reducer/appearance'\r\n\r\nexport const copyShortNameSelector = (state: AppReduxState): boolean => state[APPEARANCE_REDUCER_ID].copyShortName\r\n\r\nexport const showShortNameSelector = (state: AppReduxState): boolean => state[APPEARANCE_REDUCER_ID].showShortName\r\n","import { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\n\r\nimport { LATEST_SAFE_VERSION } from 'src/utils/constants'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { getSpendingLimits } from 'src/logic/safe/utils/spendingLimits'\r\nimport { buildModulesLinkedList } from 'src/logic/safe/utils/modules'\r\nimport { enabledFeatures, safeNeedsUpdate } from 'src/logic/safe/utils/safeVersion'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { SafeInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport {\r\n  Transaction,\r\n  isMultisigExecutionInfo,\r\n  LocalTransactionStatus,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\n\r\nexport const shouldExecuteTransaction = async (\r\n  safeInstance: GnosisSafe,\r\n  nonce: string,\r\n  lastTx: Transaction | null,\r\n): Promise<boolean> => {\r\n  const safeNonce = (await safeInstance.methods.nonce().call()).toString()\r\n  const thresholdAsString = await safeInstance.methods.getThreshold().call()\r\n  const threshold = Number(thresholdAsString)\r\n\r\n  // Needs to collect owners signatures\r\n  if (threshold > 1) {\r\n    return false\r\n  }\r\n\r\n  // Allow first tx.\r\n  if (Number(nonce) === 0) {\r\n    return true\r\n  }\r\n\r\n  // Allow if nonce === safeNonce and threshold === 1\r\n  if (nonce === safeNonce) {\r\n    return true\r\n  }\r\n\r\n  // If the previous tx is not executed or the different between lastTx.nonce and nonce is > 1\r\n  // it's delayed using the approval mechanisms.\r\n  // Once the previous tx is executed, the current tx will be available to be executed\r\n  // by the user using the exec button.\r\n  if (lastTx && isMultisigExecutionInfo(lastTx.executionInfo)) {\r\n    return lastTx.txStatus === LocalTransactionStatus.SUCCESS && lastTx.executionInfo.nonce + 1 === Number(nonce)\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n/**\r\n * Recovers Safe's remote information along with its modules and spendingLimits if there's any\r\n * @param {SafeInfo} remoteSafeInfo\r\n * @returns Promise<Partial<SafeRecordProps>>\r\n */\r\nexport const extractRemoteSafeInfo = async (remoteSafeInfo: SafeInfo): Promise<Partial<SafeRecordProps>> => {\r\n  const safeInfo: Partial<SafeRecordProps> = {\r\n    modules: undefined,\r\n    spendingLimits: undefined,\r\n  }\r\n  const safeInfoModules = (remoteSafeInfo.modules || []).map(({ value }) => value)\r\n\r\n  if (safeInfoModules.length) {\r\n    safeInfo.modules = buildModulesLinkedList(safeInfoModules)\r\n    try {\r\n      safeInfo.spendingLimits = await getSpendingLimits(safeInfoModules, remoteSafeInfo.address.value)\r\n    } catch (e) {\r\n      e.log()\r\n      safeInfo.spendingLimits = null\r\n    }\r\n  }\r\n\r\n  safeInfo.nonce = remoteSafeInfo.nonce\r\n  safeInfo.threshold = remoteSafeInfo.threshold\r\n  safeInfo.currentVersion = remoteSafeInfo.version\r\n  safeInfo.needsUpdate = safeNeedsUpdate(safeInfo.currentVersion, LATEST_SAFE_VERSION)\r\n  safeInfo.featuresEnabled = enabledFeatures(safeInfo.currentVersion)\r\n  safeInfo.guard = remoteSafeInfo.guard ? remoteSafeInfo.guard.value : undefined\r\n  safeInfo.collectiblesTag = remoteSafeInfo.collectiblesTag\r\n  safeInfo.txQueuedTag = remoteSafeInfo.txQueuedTag\r\n  safeInfo.txHistoryTag = remoteSafeInfo.txHistoryTag\r\n  safeInfo.chainId = remoteSafeInfo.chainId as ChainId\r\n\r\n  return safeInfo\r\n}\r\n\r\n/**\r\n * Merges remote owner's information with the locally stored data.\r\n * If there's no remote data, it will go with the locally stored information.\r\n * @param {SafeInfo['owners'] | undefined} remoteSafeOwners\r\n * @param {SafeRecordProps['owners'] | undefined} localSafeOwners\r\n * @returns SafeRecordProps['owners'] | undefined\r\n */\r\nexport const buildSafeOwners = (\r\n  remoteSafeOwners?: SafeInfo['owners'],\r\n  localSafeOwners?: SafeRecordProps['owners'],\r\n): SafeRecordProps['owners'] | undefined => {\r\n  if (remoteSafeOwners) {\r\n    // ToDo: review if checksums addresses is necessary,\r\n    //  as they must be provided already in the checksum form from the services\r\n    return remoteSafeOwners.map(({ value }) => checksumAddress(value))\r\n  }\r\n\r\n  // nothing to do without remote owners, so we return the stored list\r\n  return localSafeOwners\r\n}\r\n","import isEqual from 'lodash/isEqual'\r\n\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\n\r\n// This function checks if an object is a Subset of a Safe State and that they have the same values\r\nconst isStateSubset = (superObj, subObj) => {\r\n  return Object.keys(subObj).every((key) => {\r\n    if (subObj[key] && typeof subObj[key] == 'object') {\r\n      if (typeof subObj[key] === 'object' || subObj[key].size >= 0) {\r\n        // If type is Immutable Map, List or Object we use Immutable equals\r\n        return isEqual(superObj[key], subObj[key])\r\n      }\r\n      return isStateSubset(superObj[key], subObj[key])\r\n    }\r\n    return subObj[key] === superObj[key]\r\n  })\r\n}\r\n\r\nexport const shouldSafeStoreBeUpdated = (\r\n  newSafeProps: Partial<SafeRecordProps>,\r\n  oldSafeProps?: SafeRecordProps,\r\n): boolean => {\r\n  if (!oldSafeProps) return true\r\n\r\n  return !isStateSubset(oldSafeProps, newSafeProps)\r\n}\r\n","import { Map, List } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { REMOVE_SAFE } from 'src/logic/safe/store/actions/removeSafe'\r\nimport { SET_LATEST_MASTER_CONTRACT_VERSION } from 'src/logic/safe/store/actions/setLatestMasterContractVersion'\r\nimport { UPDATE_SAFE } from 'src/logic/safe/store/actions/updateSafe'\r\nimport makeSafe, { SafeRecord, SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { ADD_OR_UPDATE_SAFE } from 'src/logic/safe/store/actions/addOrUpdateSafe'\r\nimport { CLEAR_SAFE_LIST } from 'src/logic/safe/store/actions/clearSafeList'\r\nimport { shouldSafeStoreBeUpdated } from 'src/logic/safe/utils/shouldSafeStoreBeUpdated'\r\nimport { SafeReducerMap } from './types/safe'\r\n\r\nexport const SAFE_REDUCER_ID = 'safes'\r\n\r\nexport const buildSafe = (storedSafe: SafeRecordProps): SafeRecordProps => {\r\n  const owners = storedSafe.owners.map(checksumAddress)\r\n\r\n  return {\r\n    ...storedSafe,\r\n    owners,\r\n    modules: null,\r\n  }\r\n}\r\n\r\n// Merge new polling tags into safe\r\nconst mergeNewTagsInSafe = (state: SafeReducerMap, newSafe: SafeRecord, safeAddress: string) => {\r\n  state.mergeIn(['safes', safeAddress], {\r\n    collectiblesTag: newSafe.collectiblesTag,\r\n    txQueuedTag: newSafe.txQueuedTag,\r\n    txHistoryTag: newSafe.txHistoryTag,\r\n  })\r\n}\r\n\r\nconst updateSafeProps = (prevSafe, safe) => {\r\n  return prevSafe.withMutations((record) => {\r\n    // Every property is updated individually to overcome the issue with nested data being overwritten\r\n    const safeProperties = Object.keys(safe)\r\n\r\n    // We check each safe property sent in action.payload\r\n    safeProperties.forEach((key) => {\r\n      if (safe[key] && typeof safe[key] === 'object') {\r\n        if (safe[key].length >= 0 || Map.isMap(safe[key])) {\r\n          // If type is array we replace it\r\n          // If type is Immutable Map we replace it\r\n          record.update(key, () => safe[key])\r\n        } else if (safe[key].size >= 0) {\r\n          // If type is Immutable List we replace current List\r\n          // If type is Object we do a merge\r\n          List.isList(safe[key])\r\n            ? record.set(key, safe[key])\r\n            : record.update(key, (current) => current.merge(safe[key]))\r\n        }\r\n      } else {\r\n        // By default we overwrite the value. This is for strings, numbers and unset values\r\n        record.set(key, safe[key])\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\ntype Payloads = SafeRecord | string\r\n\r\nconst safeReducer = handleActions<SafeReducerMap, Payloads>(\r\n  {\r\n    [UPDATE_SAFE]: (state, action: Action<SafeRecord>) => {\r\n      const safe = action.payload\r\n      const safeAddress = safe.address\r\n\r\n      mergeNewTagsInSafe(state, safe, safeAddress)\r\n\r\n      const shouldUpdate = shouldSafeStoreBeUpdated(safe, state.getIn(['safes', safeAddress]) as SafeRecordProps)\r\n\r\n      return shouldUpdate\r\n        ? state.updateIn(['safes', safeAddress], makeSafe({ address: safeAddress }), (prevSafe) =>\r\n            updateSafeProps(prevSafe, safe),\r\n          )\r\n        : state\r\n    },\r\n    [ADD_OR_UPDATE_SAFE]: (state, action: Action<SafeRecord>) => {\r\n      const safe = action.payload\r\n      const safeAddress = safe.address\r\n\r\n      if (!state.hasIn(['safes', safeAddress])) {\r\n        return state.setIn(['safes', safeAddress], makeSafe(safe))\r\n      }\r\n\r\n      mergeNewTagsInSafe(state, safe, safeAddress)\r\n\r\n      const shouldUpdate = shouldSafeStoreBeUpdated(safe, state.getIn(['safes', safeAddress]) as SafeRecordProps)\r\n\r\n      return shouldUpdate\r\n        ? state.updateIn(['safes', safeAddress], makeSafe({ address: safeAddress }), (prevSafe) =>\r\n            updateSafeProps(prevSafe, safe),\r\n          )\r\n        : state\r\n    },\r\n    [REMOVE_SAFE]: (state, action: Action<string>) => {\r\n      const safeAddress = action.payload\r\n      const newState = state.deleteIn(['safes', safeAddress])\r\n\r\n      return newState\r\n    },\r\n    [CLEAR_SAFE_LIST]: (state) => {\r\n      return state.set('safes', Map())\r\n    },\r\n    [SET_LATEST_MASTER_CONTRACT_VERSION]: (state, action: Action<SafeRecord>) =>\r\n      state.set('latestMasterContractVersion', action.payload),\r\n  },\r\n  Map({\r\n    safes: Map(),\r\n    latestMasterContractVersion: '',\r\n  }) as SafeReducerMap,\r\n)\r\n\r\nexport default safeReducer\r\n","import { Dispatch } from 'redux'\r\n\r\nimport addProvider from './addProvider'\r\n\r\nimport { NOTIFICATIONS, enhanceSnackbarForAction } from 'src/logic/notifications'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport { getProviderInfo, getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { makeProvider, ProviderProps } from 'src/logic/wallets/store/model/provider'\r\nimport { trackAnalyticsEvent, WALLET_EVENTS } from 'src/utils/googleAnalytics'\r\n\r\nexport const processProviderResponse = (dispatch: Dispatch, provider: ProviderProps): void => {\r\n  const walletRecord = makeProvider(provider)\r\n  dispatch(addProvider(walletRecord))\r\n}\r\n\r\nconst handleProviderNotification = (provider: ProviderProps, dispatch: Dispatch<any>): void => {\r\n  const { available, loaded } = provider\r\n\r\n  if (!loaded) {\r\n    dispatch(enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.CONNECT_WALLET_ERROR_MSG)))\r\n    return\r\n  }\r\n\r\n  if (available) {\r\n    // NOTE:\r\n    // if you want to be able to dispatch a `closeSnackbar` action later on,\r\n    // you SHOULD pass your own `key` in the options. `key` can be any sequence\r\n    // of number or characters, but it has to be unique to a given snackbar.\r\n\r\n    // Cannot import from useAnalytics here, so using fn directly\r\n    trackAnalyticsEvent({\r\n      ...WALLET_EVENTS.CONNECT_WALLET,\r\n      label: provider.name,\r\n    })\r\n  } else {\r\n    dispatch(enqueueSnackbar(enhanceSnackbarForAction(NOTIFICATIONS.UNLOCK_WALLET_MSG)))\r\n  }\r\n}\r\n\r\nexport default (providerName: string): ((dispatch: Dispatch<any>) => Promise<void>) =>\r\n  async (dispatch: Dispatch<any>) => {\r\n    const web3 = getWeb3()\r\n    const providerInfo = await getProviderInfo(web3, providerName)\r\n    handleProviderNotification(providerInfo, dispatch)\r\n    processProviderResponse(dispatch, providerInfo)\r\n  }\r\n","import { AbstractProvider } from 'web3-core'\r\nimport semverSatisfies from 'semver/functions/satisfies'\r\n\r\nimport { getWeb3, getChainIdFrom } from 'src/logic/wallets/getWeb3'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { adjustV } from './utils'\r\nimport { Operation } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nconst EIP712_NOT_SUPPORTED_ERROR_MSG = \"EIP712 is not supported by user's wallet\"\r\n\r\nconst EIP712_DOMAIN_BEFORE_V130 = [\r\n  {\r\n    type: 'address',\r\n    name: 'verifyingContract',\r\n  },\r\n]\r\n\r\nconst EIP712_DOMAIN = [\r\n  {\r\n    type: 'uint256',\r\n    name: 'chainId',\r\n  },\r\n  {\r\n    type: 'address',\r\n    name: 'verifyingContract',\r\n  },\r\n]\r\n\r\ntype Eip712MessageTypes = {\r\n  EIP712Domain: {\r\n    type: string\r\n    name: string\r\n  }[]\r\n  SafeTx: {\r\n    type: string\r\n    name: string\r\n  }[]\r\n}\r\n\r\n// This function returns the types structure for signing offchain messages\r\n// following EIP712\r\nexport const getEip712MessageTypes = (\r\n  safeVersion: string,\r\n): {\r\n  EIP712Domain: typeof EIP712_DOMAIN | typeof EIP712_DOMAIN_BEFORE_V130\r\n  SafeTx: Array<{ type: string; name: string }>\r\n} => {\r\n  const eip712WithChainId = semverSatisfies(safeVersion, '>=1.3.0')\r\n\r\n  return {\r\n    EIP712Domain: eip712WithChainId ? EIP712_DOMAIN : EIP712_DOMAIN_BEFORE_V130,\r\n    SafeTx: [\r\n      { type: 'address', name: 'to' },\r\n      { type: 'uint256', name: 'value' },\r\n      { type: 'bytes', name: 'data' },\r\n      { type: 'uint8', name: 'operation' },\r\n      { type: 'uint256', name: 'safeTxGas' },\r\n      { type: 'uint256', name: 'baseGas' },\r\n      { type: 'uint256', name: 'gasPrice' },\r\n      { type: 'address', name: 'gasToken' },\r\n      { type: 'address', name: 'refundReceiver' },\r\n      { type: 'uint256', name: 'nonce' },\r\n    ],\r\n  }\r\n}\r\n\r\nexport interface SigningTxArgs extends TxArgs {\r\n  safeAddress: string\r\n  safeVersion: string\r\n}\r\n\r\ntype GenerateTypedData = {\r\n  types: Eip712MessageTypes\r\n  domain: {\r\n    chainId: number | undefined\r\n    verifyingContract: string\r\n  }\r\n  primaryType: string\r\n  message: {\r\n    to: string\r\n    value: string\r\n    data: string\r\n    operation: Operation\r\n    safeTxGas: string\r\n    baseGas: string\r\n    gasPrice: string\r\n    gasToken: string\r\n    refundReceiver: string\r\n    nonce: number\r\n  }\r\n}\r\n\r\nexport const generateTypedDataFrom = async ({\r\n  safeAddress,\r\n  safeVersion,\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  to,\r\n  valueInWei,\r\n}: SigningTxArgs): Promise<GenerateTypedData> => {\r\n  const web3 = getWeb3()\r\n  const networkId = await getChainIdFrom(web3)\r\n  const eip712WithChainId = semverSatisfies(safeVersion, '>=1.3.0')\r\n\r\n  const typedData = {\r\n    types: getEip712MessageTypes(safeVersion),\r\n    domain: {\r\n      chainId: eip712WithChainId ? networkId : undefined,\r\n      verifyingContract: safeAddress,\r\n    },\r\n    primaryType: 'SafeTx',\r\n    message: {\r\n      to,\r\n      value: valueInWei,\r\n      data,\r\n      operation,\r\n      safeTxGas,\r\n      baseGas,\r\n      gasPrice,\r\n      gasToken,\r\n      refundReceiver,\r\n      nonce: Number(nonce),\r\n    },\r\n  }\r\n\r\n  return typedData\r\n}\r\n\r\nexport const getEIP712Signer =\r\n  (version?: string) =>\r\n  async (txArgs: SigningTxArgs): Promise<string> => {\r\n    const web3 = getWeb3()\r\n    const typedData = await generateTypedDataFrom(txArgs)\r\n\r\n    let method = 'eth_signTypedData_v3'\r\n    if (version === 'v4') {\r\n      method = 'eth_signTypedData_v4'\r\n    }\r\n    if (!version) {\r\n      method = 'eth_signTypedData'\r\n    }\r\n\r\n    const jsonTypedData = JSON.stringify(typedData)\r\n    const signedTypedData = {\r\n      jsonrpc: '2.0',\r\n      method,\r\n      params: version === 'v3' || version === 'v4' ? [txArgs.sender, jsonTypedData] : [jsonTypedData, txArgs.sender],\r\n      from: txArgs.sender,\r\n      id: new Date().getTime(),\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const provider = web3.currentProvider as AbstractProvider\r\n      provider.sendAsync(signedTypedData, (err, signature) => {\r\n        if (err) {\r\n          reject(err)\r\n          return\r\n        }\r\n\r\n        if (signature?.result == null) {\r\n          reject(new Error(EIP712_NOT_SUPPORTED_ERROR_MSG))\r\n          return\r\n        }\r\n\r\n        const sig = adjustV('eth_signTypedData', signature.result)\r\n\r\n        resolve(sig.replace(EMPTY_DATA, ''))\r\n      })\r\n    })\r\n  }\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { TOKEN_REDUCER_ID, TokenState } from 'src/logic/tokens/store/reducer/tokens'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const tokensSelector = (state: AppReduxState): TokenState => state[TOKEN_REDUCER_ID]\r\n\r\nexport const tokenListSelector = createSelector(tokensSelector, (tokens) => tokens.toList())\r\n\r\nexport const orderedTokenListSelector = createSelector(tokenListSelector, (tokens) =>\r\n  tokens.sortBy((token) => token.get('symbol')),\r\n)\r\n","import * as Sentry from '@sentry/react'\r\nimport { List } from 'immutable'\r\nimport { createSelector } from 'reselect'\r\n\r\nimport { Token } from 'src/logic/tokens/store/model/token'\r\nimport { tokensSelector } from 'src/logic/tokens/store/selectors'\r\nimport { getEthAsToken } from 'src/logic/tokens/utils/tokenHelpers'\r\nimport { isUserAnOwner, sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { shouldSwitchWalletChain, userAccountSelector } from 'src/logic/wallets/store/selectors'\r\n\r\nimport { currentSafe, currentSafeBalances } from 'src/logic/safe/store/selectors'\r\nimport { SafeRecord } from 'src/logic/safe/store/models/safe'\r\n\r\nexport const grantedSelector = createSelector(\r\n  userAccountSelector,\r\n  currentSafe,\r\n  shouldSwitchWalletChain,\r\n  (userAccount: string, safe: SafeRecord, isWrongChain: boolean): boolean => {\r\n    return isUserAnOwner(safe, userAccount) && !isWrongChain\r\n  },\r\n)\r\n\r\nconst safeEthAsTokenSelector = createSelector(currentSafe, (safe?: SafeRecord): Token | undefined => {\r\n  if (!safe) {\r\n    return undefined\r\n  }\r\n\r\n  return getEthAsToken(safe.ethBalance)\r\n})\r\n\r\nexport const extendedSafeTokensSelector = createSelector(\r\n  currentSafeBalances,\r\n  tokensSelector,\r\n  safeEthAsTokenSelector,\r\n  (safeBalances, tokensList, ethAsToken): List<Token> => {\r\n    const extendedTokens: Array<Token> = []\r\n\r\n    if (!Array.isArray(safeBalances)) {\r\n      // We migrated from immutable Map to array in v3.5.0. Previously stored safes could be still using an object\r\n      // to store balances. We add this check to avoid the app to break and refetch the information correctly\r\n      Sentry.captureMessage(\r\n        'There was an error loading `safeBalances` in `extendedSafeTokensSelector`, probably safe loaded prior to v3.5.0',\r\n      )\r\n      return List([])\r\n    }\r\n\r\n    safeBalances.forEach((safeBalance) => {\r\n      const tokenAddress = safeBalance.tokenAddress\r\n\r\n      if (!tokenAddress) {\r\n        return\r\n      }\r\n\r\n      const baseToken = sameAddress(tokenAddress, ethAsToken?.address) ? ethAsToken : tokensList.get(tokenAddress)\r\n\r\n      if (!baseToken) {\r\n        return\r\n      }\r\n\r\n      const token = baseToken.set('balance', safeBalance)\r\n      extendedTokens.push(token)\r\n    })\r\n\r\n    return List(extendedTokens)\r\n  },\r\n)\r\n\r\nexport const safeKnownCoins = createSelector(\r\n  tokensSelector,\r\n  safeEthAsTokenSelector,\r\n  (safeTokens, nativeCurrencyAsToken): List<Token> => {\r\n    if (nativeCurrencyAsToken) {\r\n      return safeTokens.set(nativeCurrencyAsToken.address, nativeCurrencyAsToken).toList()\r\n    }\r\n\r\n    return safeTokens.toList()\r\n  },\r\n)\r\n","import { isAddress, isHexStrict } from 'web3-utils'\r\n\r\nexport const isValidAddress = (address?: string): boolean => {\r\n  if (address) {\r\n    // `isAddress` do not require the string to start with `0x`\r\n    // `isHexStrict` ensures the address to start with `0x` aside from being a valid hex string\r\n    return isHexStrict(address) && isAddress(address)\r\n  }\r\n\r\n  return false\r\n}\r\n","// This is pretty new so I'll leave the docs here\r\n// https://v8.dev/features/intl-numberformat\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\r\n\r\n// Locale is an empty array because we want it to use user's locale\r\nconst lt1kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 5 })\r\nconst lt10kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 4 })\r\nconst lt100kFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 3 })\r\nconst lt1mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 2 })\r\nconst lt10mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 1 })\r\nconst lt100mFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 0 })\r\n// same format for billions and trillions\r\nconst lt1000tFormatter = new Intl.NumberFormat([], { maximumFractionDigits: 3, notation: 'compact' } as any)\r\n\r\nexport const formatAmount = (number: string): string => {\r\n  let numberFloat: number | string = parseFloat(number)\r\n\r\n  if (numberFloat === 0) {\r\n    numberFloat = '0'\r\n  } else if (numberFloat < 0.001) {\r\n    numberFloat = '< 0.001'\r\n  } else if (numberFloat < 1000) {\r\n    numberFloat = lt1kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10000) {\r\n    numberFloat = lt10kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 100000) {\r\n    numberFloat = lt100kFormatter.format(numberFloat)\r\n  } else if (numberFloat < 1000000) {\r\n    numberFloat = lt1mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10000000) {\r\n    numberFloat = lt10mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 100000000) {\r\n    numberFloat = lt100mFormatter.format(numberFloat)\r\n  } else if (numberFloat < 10 ** 15) {\r\n    numberFloat = lt1000tFormatter.format(numberFloat)\r\n  } else {\r\n    numberFloat = '> 1000T'\r\n  }\r\n\r\n  return numberFloat\r\n}\r\n\r\nconst options = { style: 'currency', currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 8 }\r\nconst usNumberFormatter = new Intl.NumberFormat('en-US', options)\r\n\r\nexport const formatAmountInUsFormat = (amount: string): string => {\r\n  const numberFloat: number = parseFloat(amount)\r\n  return usNumberFormatter.format(numberFloat).replace('$', '')\r\n}\r\n","import * as Sentry from '@sentry/react'\r\nimport { CaptureContext } from '@sentry/types'\r\nimport ErrorCodes from './registry'\r\nimport { IS_PRODUCTION } from 'src/utils/constants'\r\n\r\nexport class CodedException extends Error {\r\n  public readonly code: number\r\n  public readonly content: string\r\n  // the context allows to enrich events, for the list of allowed context keys/data, please check the type or go to\r\n  // https://docs.sentry.io/platforms/javascript/enriching-events/context/\r\n  // The context is not searchable, that means its goal is just to provide additional data for the error\r\n  public readonly context?: CaptureContext\r\n\r\n  private getCode(content: ErrorCodes): number {\r\n    const codePrefix = content.split(':')[0]\r\n    const code = Number(codePrefix)\r\n    if (isNaN(code)) {\r\n      throw new CodedException(ErrorCodes.___0, codePrefix)\r\n    }\r\n    return code\r\n  }\r\n\r\n  constructor(content: ErrorCodes, extraMessage?: string, context?: CaptureContext) {\r\n    super()\r\n\r\n    const extraInfo = extraMessage ? ` (${extraMessage})` : ''\r\n    this.message = `Code ${content}${extraInfo}`\r\n    this.code = this.getCode(content)\r\n    this.content = content\r\n    this.context = context\r\n  }\r\n\r\n  public log(): void {\r\n    // Filter out the logError fn from the stack trace\r\n    if (this.stack) {\r\n      const newStack = this.stack\r\n        .split('\\n')\r\n        .filter((line) => !line.includes(logError.name))\r\n        .join('\\n')\r\n      try {\r\n        this.stack = newStack\r\n      } catch (e) {}\r\n    }\r\n\r\n    // Log only the message on prod, and the full error on dev\r\n    console.error(IS_PRODUCTION ? this.message : this)\r\n  }\r\n\r\n  public track(): void {\r\n    this.log()\r\n\r\n    if (IS_PRODUCTION) {\r\n      Sentry.captureException(this, this.context)\r\n    }\r\n  }\r\n}\r\n\r\ntype ErrorHandler = (content: ErrorCodes, extraMessage?: string, context?: CaptureContext) => CodedException\r\n\r\nexport const logError: ErrorHandler = function logError(...args) {\r\n  const error = new CodedException(...args)\r\n  error.log()\r\n  return error\r\n}\r\n\r\nexport const trackError: ErrorHandler = function trackError(...args) {\r\n  const error = new CodedException(...args)\r\n  error.track()\r\n  return error\r\n}\r\n\r\nexport const Errors = ErrorCodes\r\n","import { List } from 'immutable'\r\nimport { Confirmation } from 'src/logic/safe/store/models/types/confirmation'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport semverSatisfies from 'semver/functions/satisfies'\r\nimport { SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES } from './transactions/offchainSigner'\r\n\r\n// Here we're checking that safe contract version is greater or equal 1.1.1, but\r\n// theoretically EIP712 should also work for 1.0.0 contracts\r\n// Also, offchain signatures are not working for ledger/trezor wallet because of a bug in their library:\r\n// https://github.com/LedgerHQ/ledgerjs/issues/378\r\n// Couldn't find an issue for trezor but the error is almost the same\r\nexport const checkIfOffChainSignatureIsPossible = (\r\n  isExecution: boolean,\r\n  isSmartContractWallet: boolean,\r\n  safeVersion?: string,\r\n): boolean =>\r\n  !isExecution &&\r\n  !isSmartContractWallet &&\r\n  !!safeVersion &&\r\n  semverSatisfies(safeVersion, SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES)\r\n\r\n// https://docs.gnosis.io/safe/docs/contracts_signatures/#pre-validated-signatures\r\nexport const getPreValidatedSignatures = (from: string, initialString: string = EMPTY_DATA): string => {\r\n  return `${initialString}000000000000000000000000${from.replace(\r\n    EMPTY_DATA,\r\n    '',\r\n  )}000000000000000000000000000000000000000000000000000000000000000001`\r\n}\r\n\r\nexport const generateSignaturesFromTxConfirmations = (\r\n  confirmations?: List<Confirmation>,\r\n  preApprovingOwner?: string,\r\n): string => {\r\n  let confirmationsMap =\r\n    confirmations?.map((value) => {\r\n      return {\r\n        signature: value.signature,\r\n        owner: value.owner.toLowerCase(),\r\n      }\r\n    }) || List([])\r\n\r\n  if (preApprovingOwner) {\r\n    confirmationsMap = confirmationsMap.push({ owner: preApprovingOwner, signature: null })\r\n  }\r\n\r\n  // The constant parts need to be sorted so that the recovered signers are sorted ascending\r\n  // (natural order) by address (not checksummed).\r\n  confirmationsMap = confirmationsMap.sort((ownerA, ownerB) => ownerA.owner.localeCompare(ownerB.owner))\r\n\r\n  let sigs = '0x'\r\n  confirmationsMap.forEach(({ signature, owner }) => {\r\n    if (signature) {\r\n      sigs += signature.slice(2)\r\n    } else {\r\n      // https://docs.gnosis.io/safe/docs/contracts_signatures/#pre-validated-signatures\r\n      sigs += getPreValidatedSignatures(owner, '')\r\n    }\r\n  })\r\n\r\n  return sigs\r\n}\r\n","import { logError, Errors } from 'src/logic/exceptions/CodedException'\r\nimport { LS_NAMESPACE, LS_SEPARATOR } from '../constants'\r\n\r\ntype BrowserStorage = typeof localStorage | typeof sessionStorage\r\n\r\nconst DEFAULT_PREFIX = `${LS_NAMESPACE}${LS_SEPARATOR}`\r\n\r\nclass Storage {\r\n  private prefix: string\r\n  private storage: BrowserStorage\r\n\r\n  constructor(storage: BrowserStorage, prefix = DEFAULT_PREFIX) {\r\n    this.prefix = prefix\r\n    this.storage = storage\r\n  }\r\n\r\n  private prefixKey = (key: string): string => {\r\n    return `${this.prefix}${key}`\r\n  }\r\n\r\n  public getItem = <T>(key: string): T | undefined => {\r\n    const fullKey = this.prefixKey(key)\r\n    let saved: string | null = null\r\n    try {\r\n      saved = this.storage.getItem(fullKey)\r\n    } catch (err) {\r\n      logError(Errors._700, `key ${key}  ${err.message}`)\r\n    }\r\n\r\n    if (!saved || saved === 'undefined') return\r\n\r\n    try {\r\n      return JSON.parse(saved) as T\r\n    } catch (err) {\r\n      logError(Errors._700, `key ${key}  ${err.message}`)\r\n    }\r\n  }\r\n\r\n  public setItem = <T>(key: string, item: T): void => {\r\n    const fullKey = this.prefixKey(key)\r\n    try {\r\n      this.storage.setItem(fullKey, JSON.stringify(item))\r\n    } catch (err) {\r\n      logError(Errors._701, `key ${key}  ${err.message}`)\r\n    }\r\n  }\r\n\r\n  public removeItem = (key: string): void => {\r\n    const fullKey = this.prefixKey(key)\r\n    try {\r\n      this.storage.removeItem(fullKey)\r\n    } catch (err) {\r\n      logError(Errors._702, `key ${key}  ${err.message}`)\r\n    }\r\n  }\r\n}\r\n\r\nexport default Storage\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { _getChainId } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\nexport enum CONFIG_ACTIONS {\r\n  SET_CHAIN_ID = 'config/setChainId',\r\n}\r\n\r\nexport const setChainIdAction = createAction<ChainId>(CONFIG_ACTIONS.SET_CHAIN_ID)\r\n","import { ThunkDispatch } from 'redux-thunk'\r\nimport { AnyAction } from 'redux'\r\n\r\nimport {\r\n  addHistoryTransactions,\r\n  addQueuedTransactions,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport { loadHistoryTransactions, loadQueuedTransactions } from './loadGatewayTransactions'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport default (chainId: string, safeAddress: string) =>\r\n  async (dispatch: ThunkDispatch<AppReduxState, undefined, AnyAction>): Promise<void> => {\r\n    const loadTxs = async (\r\n      loadFn: typeof loadHistoryTransactions | typeof loadQueuedTransactions,\r\n      actionFn: typeof addHistoryTransactions | typeof addQueuedTransactions,\r\n    ) => {\r\n      try {\r\n        const values = (await loadFn(safeAddress)) as any[]\r\n        dispatch(actionFn({ chainId, safeAddress, values }))\r\n      } catch (e) {\r\n        e.log()\r\n      }\r\n    }\r\n\r\n    await Promise.all([\r\n      loadTxs(loadHistoryTransactions, addHistoryTransactions),\r\n      loadTxs(loadQueuedTransactions, addQueuedTransactions),\r\n    ])\r\n  }\r\n","import { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { Record, RecordOf } from 'immutable'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\nimport { BalanceRecord } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\n\r\nexport type SafeOwner = string\r\n\r\nexport type ModulePair = [\r\n  // previous module\r\n  string,\r\n  // module\r\n  string,\r\n]\r\n\r\nexport type SpendingLimit = {\r\n  delegate: string\r\n  token: string\r\n  amount: string\r\n  spent: string\r\n  resetTimeMin: string\r\n  lastResetMin: string\r\n  nonce: string\r\n}\r\n\r\nexport type SafeRecordProps = {\r\n  address: string\r\n  chainId?: ChainId\r\n  threshold: number\r\n  ethBalance: string\r\n  totalFiatBalance: string\r\n  owners: SafeOwner[]\r\n  modules?: ModulePair[] | null\r\n  spendingLimits?: SpendingLimit[] | null\r\n  balances: BalanceRecord[]\r\n  nonce: number\r\n  recurringUser?: boolean\r\n  currentVersion: string\r\n  needsUpdate: boolean\r\n  featuresEnabled: FEATURES[]\r\n  loadedViaUrl: boolean\r\n  guard: string\r\n  collectiblesTag: string\r\n  txQueuedTag: string\r\n  txHistoryTag: string\r\n}\r\n\r\n/**\r\n * Create a safe record defaulting to these values\r\n */\r\nconst makeSafe = Record<SafeRecordProps>({\r\n  address: '',\r\n  chainId: undefined,\r\n  threshold: 0,\r\n  ethBalance: '0',\r\n  totalFiatBalance: '0',\r\n  owners: [],\r\n  modules: [],\r\n  spendingLimits: [],\r\n  balances: [],\r\n  nonce: 0,\r\n  recurringUser: undefined,\r\n  currentVersion: '',\r\n  needsUpdate: false,\r\n  featuresEnabled: [],\r\n  loadedViaUrl: true,\r\n  guard: '',\r\n  collectiblesTag: '0',\r\n  txQueuedTag: '0',\r\n  txHistoryTag: '0',\r\n})\r\n\r\nexport type SafeRecord = RecordOf<SafeRecordProps>\r\n\r\nexport default makeSafe\r\n","import { Record, RecordOf } from 'immutable'\r\n\r\nimport { ChainId, CHAIN_ID } from 'src/config/chain.d'\r\n\r\nexport type ProviderProps = {\r\n  name: string\r\n  loaded: boolean\r\n  available: boolean\r\n  account: string\r\n  network: ChainId\r\n  smartContractWallet: boolean\r\n  hardwareWallet: boolean\r\n}\r\n\r\nexport const makeProvider = Record<ProviderProps>({\r\n  name: '',\r\n  loaded: false,\r\n  available: false,\r\n  account: '',\r\n  network: CHAIN_ID.UNKNOWN,\r\n  smartContractWallet: false,\r\n  hardwareWallet: false,\r\n})\r\n\r\n// Usage const someProvider: Provider = makeProvider({ name: 'METAMASK', loaded: false, available: false })\r\n\r\nexport type ProviderRecord = RecordOf<ProviderProps>\r\n","import { AbiItem } from 'web3-utils'\r\n\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { SPENDING_LIMIT_MODULE_ADDRESS } from 'src/utils/constants'\r\nimport { AllowanceModule } from 'src/types/contracts/AllowanceModule.d'\r\n\r\nimport SpendingLimitModule from './artifacts/AllowanceModule.json'\r\n\r\n/**\r\n * Creates a Contract instance of the SpendingLimitModule contract\r\n */\r\nexport const getSpendingLimitContract = () => {\r\n  const web3 = getWeb3()\r\n\r\n  return new web3.eth.Contract(\r\n    SpendingLimitModule.abi as AbiItem[],\r\n    SPENDING_LIMIT_MODULE_ADDRESS,\r\n  ) as unknown as AllowanceModule\r\n}\r\n","import { Action, handleActions } from 'redux-actions'\r\nimport uniqWith from 'lodash/uniqWith'\r\n\r\nimport { AddressBookEntry, AddressBookState } from 'src/logic/addressBook/model/addressBook'\r\nimport { ADDRESS_BOOK_ACTIONS } from 'src/logic/addressBook/store/actions'\r\nimport { getEntryIndex, hasSameAddressAndChainId, isValidAddressBookName } from 'src/logic/addressBook/utils'\r\n\r\nexport const ADDRESS_BOOK_REDUCER_ID = 'addressBook'\r\n\r\nexport const initialAddressBookState: AddressBookState = []\r\n\r\ntype Payloads = AddressBookEntry | AddressBookState\r\n\r\nexport const batchLoadEntries = (state: AddressBookState, action: Action<AddressBookState>): AddressBookState => {\r\n  const newState = [...state]\r\n  // We check that name exist before trimming to avoid issues during migration to unified domain\r\n  const addressBookEntries = action.payload.map((entry) => ({ ...entry, name: entry.name ? entry.name.trim() : '' }))\r\n  addressBookEntries\r\n    // exclude those entries with invalid name\r\n    .filter(({ name }) => isValidAddressBookName(name))\r\n    .forEach((addressBookEntry) => {\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      if (entryIndex >= 0) {\r\n        // update\r\n        newState[entryIndex] = addressBookEntry\r\n      } else {\r\n        // add\r\n        newState.push(addressBookEntry)\r\n      }\r\n    })\r\n\r\n  // filter out potential duplicates in the store\r\n  return uniqWith(newState, hasSameAddressAndChainId)\r\n}\r\n\r\nconst addressBookReducer = handleActions<AddressBookState, Payloads>(\r\n  {\r\n    [ADDRESS_BOOK_ACTIONS.ADD_OR_UPDATE]: (state, action: Action<AddressBookEntry>) => {\r\n      if (!action.payload.address) return state\r\n\r\n      const newState = [...state]\r\n      const addressBookEntry = { ...action.payload, name: action.payload.name.trim() }\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      // update\r\n      if (entryIndex >= 0) {\r\n        newState[entryIndex] = addressBookEntry\r\n        return newState\r\n      }\r\n\r\n      // add\r\n      return [...newState, addressBookEntry]\r\n    },\r\n    [ADDRESS_BOOK_ACTIONS.REMOVE]: (state, action: Action<AddressBookEntry>) => {\r\n      const newState = [...state]\r\n      const addressBookEntry = action.payload\r\n\r\n      const entryIndex = getEntryIndex(newState, addressBookEntry)\r\n\r\n      if (entryIndex >= 0) {\r\n        newState.splice(entryIndex, 1)\r\n        return newState\r\n      }\r\n\r\n      return newState\r\n    },\r\n    [ADDRESS_BOOK_ACTIONS.SAFE_LOAD]: batchLoadEntries,\r\n    [ADDRESS_BOOK_ACTIONS.IMPORT]: batchLoadEntries,\r\n    [ADDRESS_BOOK_ACTIONS.MIGRATE]: batchLoadEntries,\r\n    [ADDRESS_BOOK_ACTIONS.SYNC]: (_, action: Action<AddressBookState>): AddressBookState => action.payload,\r\n  },\r\n  initialAddressBookState,\r\n)\r\n\r\nexport default addressBookReducer\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_NFT_ASSETS = 'ADD_NFT_ASSETS'\r\nexport const ADD_NFT_TOKENS = 'ADD_NFT_TOKENS'\r\n\r\nexport const addNftAssets = createAction(ADD_NFT_ASSETS, (nftAssets) => ({\r\n  nftAssets,\r\n}))\r\n\r\nexport const addNftTokens = createAction(ADD_NFT_TOKENS, (nftTokens) => ({\r\n  nftTokens,\r\n}))\r\n","import { BigNumber } from 'bignumber.js'\r\n\r\nexport const humanReadableValue = (value: number | string, decimals = 18): string => {\r\n  return new BigNumber(value).times(`1e-${decimals}`).toFixed()\r\n}\r\n\r\nexport const fromTokenUnit = (amount: number | string, decimals: string | number): string =>\r\n  new BigNumber(amount).times(`1e-${decimals}`).toFixed()\r\n\r\nexport const toTokenUnit = (amount: number | string, decimals: string | number): string =>\r\n  new BigNumber(amount).times(`1e${decimals}`).toFixed(0, BigNumber.ROUND_DOWN)\r\n","import UnstoppableResolution from '@unstoppabledomains/resolution'\r\nimport { getRpcServiceUrl } from 'src/config'\r\n\r\nlet unstoppableResolver: UnstoppableResolution\r\n\r\nexport const getAddressFromUnstoppableDomain = (name: string): Promise<string> => {\r\n  if (!unstoppableResolver) {\r\n    unstoppableResolver = new UnstoppableResolution({\r\n      blockchain: {\r\n        cns: {\r\n          url: getRpcServiceUrl(),\r\n        },\r\n      },\r\n    })\r\n  }\r\n\r\n  return unstoppableResolver.addr(name, 'ETH')\r\n}\r\n","import semverSatisfies from 'semver/functions/satisfies'\r\nimport Web3 from 'web3'\r\nimport { provider as Provider } from 'web3-core'\r\nimport { ContentHash } from 'web3-eth-ens'\r\nimport Safe, { Web3Adapter } from '@gnosis.pm/safe-core-sdk'\r\n\r\nimport { sameAddress, ZERO_ADDRESS } from './ethAddresses'\r\nimport { EMPTY_DATA } from './ethTransactions'\r\nimport { ProviderProps } from './store/model/provider'\r\nimport { getRpcServiceUrl, _getChainId } from 'src/config'\r\nimport { CHAIN_ID, ChainId } from 'src/config/chain.d'\r\nimport { isValidCryptoDomainName } from 'src/logic/wallets/ethAddresses'\r\nimport { getAddressFromUnstoppableDomain } from './utils/unstoppableDomains'\r\n\r\n// This providers have direct relation with name assigned in bnc-onboard configuration\r\nexport enum WALLET_PROVIDER {\r\n  METAMASK = 'METAMASK',\r\n  TORUS = 'TORUS',\r\n  PORTIS = 'PORTIS',\r\n  FORTMATIC = 'FORTMATIC',\r\n  SQUARELINK = 'SQUARELINK',\r\n  WALLETCONNECT = 'WALLETCONNECT',\r\n  TRUST = 'TRUST',\r\n  OPERA = 'OPERA',\r\n  // This is the provider for WALLET_LINK configuration on bnc-onboard\r\n  COINBASE_WALLET = 'COINBASE WALLET',\r\n  AUTHEREUM = 'AUTHEREUM',\r\n  LEDGER = 'LEDGER',\r\n  TREZOR = 'TREZOR',\r\n  LATTICE = 'LATTICE',\r\n  KEYSTONE = 'KEYSTONE',\r\n}\r\n\r\n// With some wallets from web3connect you have to use their provider instance only for signing\r\n// And our own one to fetch data\r\nconst httpProviderOptions = {\r\n  timeout: 10_000,\r\n}\r\n\r\nconst web3ReadOnly: Web3[] = []\r\nexport const getWeb3ReadOnly = (): Web3 => {\r\n  const chainId = _getChainId()\r\n  if (!web3ReadOnly[chainId]) {\r\n    web3ReadOnly[chainId] = new Web3(\r\n      process.env.NODE_ENV !== 'test'\r\n        ? new Web3.providers.HttpProvider(getRpcServiceUrl(), httpProviderOptions)\r\n        : 'ws://localhost:8545',\r\n    )\r\n  }\r\n\r\n  return web3ReadOnly[chainId]\r\n}\r\n\r\nlet web3: Web3\r\nexport const getWeb3 = (): Web3 => web3\r\nexport const setWeb3 = (provider: Provider): void => {\r\n  web3 = new Web3(provider)\r\n}\r\nexport const setWeb3ReadOnly = (): void => {\r\n  web3 = getWeb3ReadOnly()\r\n}\r\nexport const resetWeb3 = (): void => {\r\n  web3 = web3ReadOnly[_getChainId()]\r\n}\r\n\r\nexport const getAccountFrom = async (web3Provider: Web3): Promise<string | null> => {\r\n  const accounts = await web3Provider.eth.getAccounts()\r\n  return accounts && accounts.length > 0 ? accounts[0] : null\r\n}\r\n\r\nexport const getChainIdFrom = (web3Provider: Web3): Promise<number> => {\r\n  return web3Provider.eth.getChainId()\r\n}\r\n\r\nconst isHardwareWallet = (walletName: string) =>\r\n  sameAddress(WALLET_PROVIDER.LEDGER, walletName) || sameAddress(WALLET_PROVIDER.TREZOR, walletName)\r\n\r\nexport const isSmartContractWallet = async (web3Provider: Web3, account: string): Promise<boolean> => {\r\n  if (!account) {\r\n    return false\r\n  }\r\n  let contractCode = ''\r\n  try {\r\n    contractCode = await web3Provider.eth.getCode(account)\r\n  } catch (e) {\r\n    // ignore\r\n  }\r\n  return !!contractCode && contractCode.replace(EMPTY_DATA, '').replace(/0/g, '') !== ''\r\n}\r\n\r\nexport const getProviderInfo = async (web3Instance: Web3, providerName = 'Wallet'): Promise<ProviderProps> => {\r\n  const account = (await getAccountFrom(web3Instance)) || ''\r\n  const network = await getChainIdFrom(web3Instance)\r\n  const smartContractWallet = await isSmartContractWallet(web3Instance, account)\r\n  const hardwareWallet = isHardwareWallet(providerName)\r\n  const available = Boolean(account)\r\n\r\n  return {\r\n    name: providerName,\r\n    available,\r\n    loaded: true,\r\n    account,\r\n    network: network.toString() as ChainId,\r\n    smartContractWallet,\r\n    hardwareWallet,\r\n  }\r\n}\r\n\r\nexport const getAddressFromDomain = (name: string): Promise<string> => {\r\n  if (isValidCryptoDomainName(name)) {\r\n    return getAddressFromUnstoppableDomain(name)\r\n  }\r\n  return getWeb3ReadOnly().eth.ens.getAddress(name)\r\n}\r\n\r\nexport const getContentFromENS = (name: string): Promise<ContentHash> => web3.eth.ens.getContenthash(name)\r\n\r\nexport const isTxPendingError = (err: Error): boolean => {\r\n  const WEB3_TX_NOT_MINED_ERROR = 'Transaction was not mined within'\r\n  return (err.message || '').startsWith(WEB3_TX_NOT_MINED_ERROR)\r\n}\r\n\r\nexport const getSDKWeb3Adapter = (signerAddress: string): Web3Adapter => {\r\n  return new Web3Adapter({\r\n    web3: getWeb3(),\r\n    signerAddress,\r\n  })\r\n}\r\n\r\nexport const getSDKWeb3ReadOnly = (): Web3Adapter => {\r\n  return new Web3Adapter({\r\n    web3: getWeb3ReadOnly(),\r\n    signerAddress: ZERO_ADDRESS,\r\n  })\r\n}\r\n\r\nexport const getSafeSDK = async (signerAddress: string, safeAddress: string, safeVersion: string): Promise<Safe> => {\r\n  const networkId = (await getChainIdFrom(web3)).toString() as ChainId\r\n  const ethAdapter = getSDKWeb3Adapter(signerAddress)\r\n\r\n  let isL1SafeMasterCopy: boolean\r\n  if (semverSatisfies(safeVersion, '<1.3.0')) {\r\n    isL1SafeMasterCopy = true\r\n  } else {\r\n    isL1SafeMasterCopy = networkId === CHAIN_ID.ETHEREUM\r\n  }\r\n\r\n  return await Safe.create({\r\n    ethAdapter,\r\n    safeAddress,\r\n    isL1SafeMasterCopy,\r\n  })\r\n}\r\n","import { getSafeInfo as fetchSafeInfo, SafeInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { Errors, CodedException } from 'src/logic/exceptions/CodedException'\r\nimport { _getChainId } from 'src/config'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nconst GATEWAY_ERROR = /1337|42/\r\n\r\nexport const getSafeInfo = async (safeAddress: string): Promise<SafeInfo> => {\r\n  try {\r\n    return await fetchSafeInfo(GATEWAY_URL, _getChainId(), safeAddress)\r\n  } catch (e) {\r\n    const safeNotFound = GATEWAY_ERROR.test(e.message)\r\n    throw new CodedException(safeNotFound ? Errors._605 : Errors._613, e.message)\r\n  }\r\n}\r\n","import { Operation } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { getGnosisSafeInstanceAt, SENTINEL_ADDRESS } from 'src/logic/contracts/safeContracts'\r\nimport { CreateTransactionArgs } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { ModulePair } from 'src/logic/safe/store/models/safe'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\n\r\n/**\r\n * Builds a collection of tuples with (prev, module) module addresses\r\n *\r\n * The `modules` param, is organized from the most recently added to the oldest.\r\n *\r\n * By assuming this, we are able to recreate the linked list that's defined at contract level\r\n *   considering `0x1` (SENTINEL_ADDRESS) address as the list's initial node.\r\n *\r\n * Given this scenario, we have a linked list in the form of\r\n *\r\n *  **`0x1->modules[n]->module[n-1]->module[0]->0x1`**\r\n *\r\n * So,\r\n *  - if we want to disable `module[n]`, we need to pass `(module[n], 0x1)` as arguments,\r\n *  - if we want to disable `module[n-1]`, we need to pass `(module[n-1], module[n])`,\r\n *  - ... and so on\r\n * @param {Array<string>} modules\r\n * @returns null | Array<ModulePair>\r\n */\r\nexport const buildModulesLinkedList = (modules: string[]): Array<ModulePair> | null => {\r\n  if (modules?.length) {\r\n    return modules.map((moduleAddress, index, modules) => {\r\n      if (index === 0) {\r\n        return [SENTINEL_ADDRESS, moduleAddress]\r\n      }\r\n      return [modules[index - 1], moduleAddress]\r\n    })\r\n  }\r\n\r\n  // no modules\r\n  return null\r\n}\r\n\r\nexport const getDisableModuleTxData = (modulePair: ModulePair, safeAddress: string, safeVersion: string): string => {\r\n  const [previousModule, module] = modulePair\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n\r\n  return safeInstance.methods.disableModule(previousModule, module).encodeABI()\r\n}\r\n\r\ntype EnableModuleParams = {\r\n  moduleAddress: string\r\n  safeAddress: string\r\n  safeVersion: string\r\n}\r\nexport const enableModuleTx = ({\r\n  moduleAddress,\r\n  safeAddress,\r\n  safeVersion,\r\n}: EnableModuleParams): CreateTransactionArgs => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n\r\n  return {\r\n    safeAddress,\r\n    to: safeAddress,\r\n    operation: Operation.CALL,\r\n    valueInWei: '0',\r\n    txData: safeInstance.methods.enableModule(moduleAddress).encodeABI(),\r\n    notifiedTransaction: TX_NOTIFICATION_TYPES.SETTINGS_CHANGE_TX,\r\n  }\r\n}\r\n\r\nexport const isModuleEnabled = (modules: string[], moduleAddress: string): boolean => {\r\n  return modules?.some((module) => sameAddress(module, moduleAddress)) ?? false\r\n}\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport { ADD_NFT_ASSETS, ADD_NFT_TOKENS } from 'src/logic/collectibles/store/actions/addCollectibles'\r\nimport { NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles'\r\n\r\nexport const NFT_ASSETS_REDUCER_ID = 'nftAssets'\r\nexport const NFT_TOKENS_REDUCER_ID = 'nftTokens'\r\n\r\ntype NFTAssetsPayload = { nftAssets: NFTAssets }\r\n\r\nexport const nftAssetReducer = handleActions<NFTAssets, NFTAssetsPayload>(\r\n  {\r\n    [ADD_NFT_ASSETS]: (state, action) => {\r\n      const { nftAssets } = action.payload\r\n\r\n      return nftAssets\r\n    },\r\n  },\r\n  {},\r\n)\r\n\r\ntype NFTTokensPayload = { nftTokens: NFTTokens }\r\n\r\nexport const nftTokensReducer = handleActions<NFTTokens, NFTTokensPayload>(\r\n  {\r\n    [ADD_NFT_TOKENS]: (state, action) => {\r\n      const { nftTokens } = action.payload\r\n\r\n      return nftTokens\r\n    },\r\n  },\r\n  [],\r\n)\r\n","import { TransactionStatus } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { createSelector } from 'reselect'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { AppReduxState } from 'src/store'\r\nimport {\r\n  isMultiSigExecutionDetails,\r\n  LocalTransactionStatus,\r\n  Transaction,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { LocalStatusesState, LOCAL_TRANSACTIONS_ID } from '../reducer/localTransactions'\r\n\r\nexport const localStatuses = (state: AppReduxState): LocalStatusesState => {\r\n  return state[LOCAL_TRANSACTIONS_ID]\r\n}\r\n\r\n// @FIXME: this is a dirty hack.\r\n// Ask backend to add safeTxHash in tx list items.\r\nconst getSafeTxHashFromId = (id: string): string => {\r\n  return id.split('_').pop() || ''\r\n}\r\n\r\nexport const getLocalTxStatus = (\r\n  localTxStatusesState: LocalStatusesState,\r\n  chainId: ChainId,\r\n  tx: Transaction,\r\n): TransactionStatus => {\r\n  const isUnknownStatus = [\r\n    LocalTransactionStatus.AWAITING_CONFIRMATIONS,\r\n    LocalTransactionStatus.AWAITING_EXECUTION,\r\n  ].includes(tx.txStatus)\r\n\r\n  if (!isUnknownStatus) {\r\n    return tx.txStatus\r\n  }\r\n\r\n  const { detailedExecutionInfo } = tx.txDetails || {}\r\n  const hash =\r\n    detailedExecutionInfo && isMultiSigExecutionDetails(detailedExecutionInfo)\r\n      ? detailedExecutionInfo.safeTxHash\r\n      : getSafeTxHashFromId(tx.id)\r\n  const statusesOnChain = localTxStatusesState[chainId as ChainId]\r\n  const localStatus = hash && statusesOnChain ? statusesOnChain[hash] : undefined\r\n  return localStatus || tx.txStatus\r\n}\r\n\r\nexport const selectTxStatus = createSelector(\r\n  localStatuses,\r\n  currentChainId,\r\n  (_: AppReduxState, tx: Transaction): Transaction => tx,\r\n  (localTxStatusesState: LocalStatusesState, chainId: string, tx: Transaction): TransactionStatus => {\r\n    return getLocalTxStatus(localTxStatusesState, chainId, tx)\r\n  },\r\n)\r\n","import Storage from './Storage'\r\n\r\nconst local = new Storage(window.localStorage)\r\n\r\nexport default local\r\n","import { Wallet } from 'bnc-onboard/dist/src/interfaces'\r\nimport onboard from 'src/logic/wallets/onboard'\r\nimport { numberToHex } from 'web3-utils'\r\n\r\nimport { getChainInfo, getExplorerUrl, getPublicRpcUrl, _getChainId } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { Errors, CodedException } from 'src/logic/exceptions/CodedException'\r\n\r\nconst WALLET_ERRORS = {\r\n  UNRECOGNIZED_CHAIN: 4902,\r\n  USER_REJECTED: 4001,\r\n  // ADDING_EXISTING_CHAIN: -32603,\r\n}\r\n\r\n/**\r\n * Switch the chain assuming it's MetaMask.\r\n * @see https://github.com/MetaMask/metamask-extension/pull/10905\r\n */\r\nconst requestSwitch = async (wallet: Wallet, chainId: ChainId): Promise<void> => {\r\n  await wallet.provider.request({\r\n    method: 'wallet_switchEthereumChain',\r\n    params: [\r\n      {\r\n        chainId: numberToHex(chainId),\r\n      },\r\n    ],\r\n  })\r\n}\r\n\r\n/**\r\n * Add a chain config based on EIP-3085.\r\n * Known to be implemented by MetaMask.\r\n * @see https://docs.metamask.io/guide/rpc-api.html#wallet-addethereumchain\r\n */\r\nconst requestAdd = async (wallet: Wallet, chainId: ChainId): Promise<void> => {\r\n  const { chainName, nativeCurrency } = getChainInfo()\r\n\r\n  await wallet.provider.request({\r\n    method: 'wallet_addEthereumChain',\r\n    params: [\r\n      {\r\n        chainId: numberToHex(chainId),\r\n        chainName,\r\n        nativeCurrency,\r\n        rpcUrls: [getPublicRpcUrl()],\r\n        blockExplorerUrls: [getExplorerUrl()],\r\n      },\r\n    ],\r\n  })\r\n}\r\n\r\n/**\r\n * Try switching the wallet chain, and if it fails, try adding the chain config\r\n */\r\nexport const switchNetwork = async (wallet: Wallet, chainId: ChainId): Promise<void> => {\r\n  try {\r\n    await requestSwitch(wallet, chainId)\r\n  } catch (e) {\r\n    if (e.code === WALLET_ERRORS.USER_REJECTED) {\r\n      return\r\n    }\r\n\r\n    if (e.code == WALLET_ERRORS.UNRECOGNIZED_CHAIN) {\r\n      try {\r\n        await requestAdd(wallet, chainId)\r\n      } catch (e) {\r\n        if (e.code === WALLET_ERRORS.USER_REJECTED) {\r\n          return\r\n        }\r\n\r\n        throw new CodedException(Errors._301, e.message)\r\n      }\r\n    } else {\r\n      throw new CodedException(Errors._300, e.message)\r\n    }\r\n  }\r\n}\r\n\r\nexport const shouldSwitchNetwork = (wallet = onboard().getState()?.wallet): boolean => {\r\n  const desiredNetwork = _getChainId()\r\n  const currentNetwork = wallet?.provider?.networkVersion\r\n  return currentNetwork ? desiredNetwork !== currentNetwork.toString() : false\r\n}\r\n\r\nexport const switchWalletChain = async (): Promise<void> => {\r\n  const { wallet } = onboard().getState()\r\n  try {\r\n    await switchNetwork(wallet, _getChainId())\r\n  } catch (e) {\r\n    e.log()\r\n    // Fallback to the onboard popup if switching isn't supported\r\n    await onboard().walletCheck()\r\n  }\r\n}\r\n","import { handleActions } from 'redux-actions'\r\n\r\nimport { ADD_PROVIDER } from 'src/logic/wallets/store/actions/addProvider'\r\nimport { REMOVE_PROVIDER } from 'src/logic/wallets/store/actions/removeProvider'\r\nimport { makeProvider, ProviderRecord, ProviderProps } from 'src/logic/wallets/store/model/provider'\r\n\r\nexport const PROVIDER_REDUCER_ID = 'providers'\r\n\r\nexport type ProviderState = ProviderRecord\r\n\r\nconst providerReducer = handleActions(\r\n  {\r\n    [ADD_PROVIDER]: (_state: ProviderState, { payload }: { payload: ProviderProps }): ProviderState =>\r\n      makeProvider(payload),\r\n    [REMOVE_PROVIDER]: (): ProviderState => makeProvider(),\r\n  },\r\n  makeProvider(),\r\n)\r\n\r\nexport default providerReducer\r\n","import { Map } from 'immutable'\r\nimport { handleActions } from 'redux-actions'\r\nimport { OPEN_COOKIE_BANNER } from 'src/logic/cookies/store/actions/openCookieBanner'\r\n\r\nexport const COOKIES_REDUCER_ID = 'cookies'\r\n\r\ntype CookieState = Map<string, any>\r\n\r\nexport type OpenCookieBannerPayload = { cookieBannerOpen: boolean; intercomAlertDisplayed?: boolean }\r\n\r\nconst cookiesReducer = handleActions<CookieState, OpenCookieBannerPayload>(\r\n  {\r\n    [OPEN_COOKIE_BANNER]: (state, action) => {\r\n      const { intercomAlertDisplayed = false, cookieBannerOpen } = action.payload\r\n      return state.set('cookieBannerOpen', { intercomAlertDisplayed, cookieBannerOpen })\r\n    },\r\n  },\r\n  Map(),\r\n)\r\n\r\nexport default cookiesReducer\r\n","import { Action, handleActions } from 'redux-actions'\r\n\r\nimport { LOAD_CURRENT_SESSION } from 'src/logic/currentSession/store/actions/loadCurrentSession'\r\nimport { UPDATE_VIEWED_SAFES } from 'src/logic/currentSession/store/actions/updateViewedSafes'\r\nimport { CLEAR_CURRENT_SESSION } from 'src/logic/currentSession/store/actions/clearCurrentSession'\r\nimport { saveCurrentSessionToStorage } from 'src/logic/currentSession/utils'\r\nimport { REMOVE_VIEWED_SAFE } from '../actions/removeViewedSafe'\r\n\r\nexport const CURRENT_SESSION_REDUCER_ID = 'currentSession'\r\nconst MAX_VIEWED_SAFES = 10\r\n\r\nexport type CurrentSessionState = {\r\n  viewedSafes: string[]\r\n  restored: boolean\r\n}\r\n\r\nexport const initialState = {\r\n  viewedSafes: [],\r\n  restored: false,\r\n}\r\n\r\ntype CurrentSessionPayloads = CurrentSessionState | string\r\n\r\nconst currentSessionReducer = handleActions<CurrentSessionState, CurrentSessionPayloads>(\r\n  {\r\n    [LOAD_CURRENT_SESSION]: (state = initialState, action: Action<CurrentSessionState>) => ({\r\n      ...state,\r\n      ...action.payload,\r\n      restored: true,\r\n    }),\r\n    [UPDATE_VIEWED_SAFES]: (state, action: Action<string>) => {\r\n      const safeAddress = action.payload\r\n      const viewedSafes = state.viewedSafes.filter((item) => item !== safeAddress)\r\n      const newState = {\r\n        ...state,\r\n        viewedSafes: [safeAddress].concat(viewedSafes).slice(0, MAX_VIEWED_SAFES),\r\n      }\r\n\r\n      saveCurrentSessionToStorage(newState)\r\n\r\n      return newState\r\n    },\r\n    [REMOVE_VIEWED_SAFE]: (state, action: Action<string>) => {\r\n      const safeAddress = action.payload\r\n      const newState = {\r\n        ...state,\r\n        viewedSafes: state.viewedSafes.filter((item) => item !== safeAddress),\r\n      }\r\n\r\n      saveCurrentSessionToStorage(newState)\r\n\r\n      return newState\r\n    },\r\n    [CLEAR_CURRENT_SESSION]: () => {\r\n      return initialState\r\n    },\r\n  },\r\n  initialState,\r\n)\r\n\r\nexport default currentSessionReducer\r\n","import { loadFromStorage, saveToStorage } from 'src/utils/storage'\r\nimport { CurrentSessionState } from 'src/logic/currentSession/store/reducer/currentSession'\r\n\r\nconst CURRENT_SESSION_STORAGE_KEY = 'CURRENT_SESSION'\r\n\r\nexport const getCurrentSessionFromStorage = (): CurrentSessionState | undefined =>\r\n  loadFromStorage(CURRENT_SESSION_STORAGE_KEY)\r\n\r\nexport const saveCurrentSessionToStorage = (currentSession: CurrentSessionState): void => {\r\n  saveToStorage(CURRENT_SESSION_STORAGE_KEY, currentSession)\r\n}\r\n","import { Map } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\nimport { CLOSE_SNACKBAR } from '../actions/closeSnackbar'\r\nimport { ENQUEUE_SNACKBAR } from '../actions/enqueueSnackbar'\r\nimport { REMOVE_SNACKBAR } from '../actions/removeSnackbar'\r\n\r\nexport const NOTIFICATIONS_REDUCER_ID = 'notifications'\r\n\r\ntype NotificationsState = Map<string, Notification>\r\n\r\ntype CloseSnackBarPayload = { key: string; dismissAll: boolean }\r\ntype Payloads = Notification | CloseSnackBarPayload | string\r\n\r\nconst notificationsReducer = handleActions<NotificationsState, Payloads>(\r\n  {\r\n    [ENQUEUE_SNACKBAR]: (state, action: Action<Notification>) => {\r\n      const notification = action.payload\r\n\r\n      if (!notification.key) {\r\n        return state\r\n      }\r\n\r\n      return state.set(notification.key, notification)\r\n    },\r\n    [CLOSE_SNACKBAR]: (state, action: Action<CloseSnackBarPayload>) => {\r\n      const { dismissAll, key } = action.payload\r\n\r\n      if (key && state.get(key)) {\r\n        return state.update(key, (notification: Notification) => {\r\n          if (notification) {\r\n            return {\r\n              ...notification,\r\n              dismissed: true,\r\n            }\r\n          }\r\n\r\n          return notification\r\n        })\r\n      }\r\n\r\n      if (dismissAll) {\r\n        return state.withMutations((map) => {\r\n          map.forEach((notification, notificationKey) => {\r\n            map.set(notificationKey, { ...notification, dismissed: true })\r\n          })\r\n        })\r\n      }\r\n\r\n      return state\r\n    },\r\n    [REMOVE_SNACKBAR]: (state, action: Action<string>) => {\r\n      const key = action.payload\r\n\r\n      return state.delete(key)\r\n    },\r\n  },\r\n  Map<string, Notification>(),\r\n)\r\n\r\nexport default notificationsReducer\r\n","import { TransactionStatus } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { Action, handleActions } from 'redux-actions'\r\nimport { _getChainId } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { UPDATE_TRANSACTION_STATUS } from 'src/logic/safe/store/actions/updateTransactionStatus'\r\nimport session from 'src/utils/storage/session'\r\nimport { LOCAL_TRANSACTIONS_STATUSES_KEY } from '../middleware/localTransactionsMiddleware'\r\n\r\nexport type TransactionStatusPayload = {\r\n  safeTxHash: string\r\n  status: TransactionStatus\r\n}\r\n\r\nexport type LocalStatusesState = Record<ChainId, Record<string, TransactionStatus>>\r\n\r\nexport const LOCAL_TRANSACTIONS_ID = 'localTxStatuses'\r\n\r\nexport const localTransactionsReducer = handleActions<LocalStatusesState, TransactionStatusPayload>(\r\n  {\r\n    [UPDATE_TRANSACTION_STATUS]: (state, action: Action<TransactionStatusPayload>) => {\r\n      const { safeTxHash, status } = action.payload\r\n      const chainId = _getChainId()\r\n      return {\r\n        ...state,\r\n        [chainId]: {\r\n          ...state[chainId],\r\n          [safeTxHash]: status,\r\n        },\r\n      }\r\n    },\r\n  },\r\n  session.getItem(LOCAL_TRANSACTIONS_STATUSES_KEY) || {},\r\n)\r\n\r\nexport default localTransactionsReducer\r\n","import { List, Map } from 'immutable'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport { ADD_TOKENS } from 'src/logic/tokens/store/actions/addTokens'\r\nimport { Token } from 'src/logic/tokens/store/model/token'\r\n\r\nexport const TOKEN_REDUCER_ID = 'tokens'\r\n\r\nexport type TokenState = Map<string, Token>\r\n\r\ntype TokensPayload = { tokens: List<Token> }\r\ntype TokenPayload = { token: Token }\r\ntype Payloads = TokensPayload | TokenPayload\r\n\r\nconst tokensReducer = handleActions<TokenState, Payloads>(\r\n  {\r\n    [ADD_TOKENS]: (state, action: Action<TokensPayload>) => {\r\n      const { tokens } = action.payload\r\n\r\n      return state.withMutations((map) => {\r\n        tokens.forEach((token: Token) => {\r\n          map.set(token.address, token)\r\n        })\r\n      })\r\n    },\r\n  },\r\n  Map(),\r\n)\r\n\r\nexport default tokensReducer\r\n","export const sortObject = (obj: Record<string, unknown>, order = 'asc'): any => {\r\n  return Object.keys(obj)\r\n    .sort((a: string, b: string) => Number(order === 'desc' ? b : a) - Number(order === 'desc' ? a : b))\r\n    .reduce(\r\n      (acc, key) => ({\r\n        ...acc,\r\n        [key]: obj[key],\r\n      }),\r\n      {},\r\n    )\r\n}\r\n","import { TransactionSummary } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport get from 'lodash/get'\r\nimport cloneDeep from 'lodash/cloneDeep'\r\nimport { Action, handleActions } from 'redux-actions'\r\n\r\nimport {\r\n  ADD_HISTORY_TRANSACTIONS,\r\n  ADD_QUEUED_TRANSACTIONS,\r\n} from 'src/logic/safe/store/actions/transactions/gatewayTransactions'\r\nimport {\r\n  HistoryGatewayResponse,\r\n  isConflictHeader,\r\n  isDateLabel,\r\n  isLabel,\r\n  isMultisigExecutionInfo,\r\n  isTransactionSummary,\r\n  QueuedGatewayResponse,\r\n  StoreStructure,\r\n  Transaction,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { UPDATE_TRANSACTION_DETAILS } from 'src/logic/safe/store/actions/fetchTransactionDetails'\r\n\r\nimport { getLocalStartOfDate } from 'src/utils/date'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { sortObject } from 'src/utils/objects'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\nexport const GATEWAY_TRANSACTIONS_ID = 'gatewayTransactions'\r\n\r\nexport type GatewayTransactionsState = Record<ChainId, Record<string, StoreStructure>>\r\n\r\ntype BasePayload = { chainId: string; safeAddress: string; isTail?: boolean }\r\n\r\nexport type HistoryPayload = BasePayload & { values: HistoryGatewayResponse['results'] }\r\n\r\nexport type QueuedPayload = BasePayload & { values: QueuedGatewayResponse['results'] }\r\n\r\nexport type TransactionDetailsPayload = {\r\n  chainId: string\r\n  safeAddress: string\r\n  transactionId: string\r\n  value: Transaction['txDetails']\r\n}\r\n\r\ntype Payload = HistoryPayload | QueuedPayload | TransactionDetailsPayload\r\n\r\nexport const gatewayTransactionsReducer = handleActions<GatewayTransactionsState, Payload>(\r\n  {\r\n    [ADD_HISTORY_TRANSACTIONS]: (state, action: Action<HistoryPayload>) => {\r\n      const { chainId, safeAddress, values, isTail = false } = action.payload\r\n      const newHistory: StoreStructure['history'] = cloneDeep(state[chainId]?.[safeAddress]?.history || {})\r\n\r\n      values.forEach((value) => {\r\n        if (isDateLabel(value)) {\r\n          // DATE_LABEL is discarded as it's not needed for the current implementation\r\n          return\r\n        }\r\n\r\n        if (isTransactionSummary(value)) {\r\n          const transaction = (value as any).transaction as TransactionSummary\r\n          const startOfDate = getLocalStartOfDate(transaction.timestamp)\r\n\r\n          if (typeof newHistory[startOfDate] === 'undefined') {\r\n            newHistory[startOfDate] = []\r\n          }\r\n\r\n          const txExist = newHistory[startOfDate].some(({ id }) => sameString(id, transaction.id))\r\n\r\n          if (!txExist) {\r\n            newHistory[startOfDate].push(transaction)\r\n            // pushing a newer transaction to the existing list messes the transactions order\r\n            // this happens when most recent transactions are added to the existing txs in the store\r\n            newHistory[startOfDate] = newHistory[startOfDate].sort((a, b) => b.timestamp - a.timestamp)\r\n          }\r\n          return\r\n        }\r\n      })\r\n\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        // current safe\r\n        [chainId]: {\r\n          [safeAddress]: {\r\n            // keep queued list\r\n            ...state[chainId]?.[safeAddress],\r\n            // extend history list\r\n            history: isTail ? newHistory : sortObject(newHistory, 'desc'),\r\n          },\r\n        },\r\n      }\r\n    },\r\n    [ADD_QUEUED_TRANSACTIONS]: (state, action: Action<QueuedPayload>) => {\r\n      const { chainId, safeAddress, values } = action.payload\r\n      let newNext = {}\r\n      let newQueued = {}\r\n\r\n      let label: 'next' | 'queued' | undefined\r\n\r\n      values.forEach((value) => {\r\n        if (isLabel(value)) {\r\n          // we're assuming that the first page will always provide `next` and `queued` labels\r\n          label = value.label.toLowerCase() as 'next' | 'queued'\r\n          return\r\n        }\r\n\r\n        if (\r\n          // Conflict headers are not needed in the current implementation\r\n          isConflictHeader(value) ||\r\n          !isMultisigExecutionInfo(value.transaction.executionInfo)\r\n        ) {\r\n          return\r\n        }\r\n\r\n        const txNonce = value.transaction.executionInfo?.nonce\r\n\r\n        if (txNonce === undefined) {\r\n          console.warn('A transaction without nonce was provided by client-gateway:', JSON.stringify(value))\r\n          return\r\n        }\r\n\r\n        if (!label) {\r\n          const oldNext = state[chainId]?.[safeAddress]?.queued?.next\r\n          label = oldNext?.[txNonce] ? 'next' : 'queued'\r\n        }\r\n\r\n        const newTx = value.transaction\r\n        if (label === 'queued') {\r\n          if (newQueued?.[txNonce]) {\r\n            newQueued[txNonce] = [...newQueued[txNonce], newTx]\r\n          } else {\r\n            newQueued = { ...newQueued, [txNonce]: [newTx] }\r\n          }\r\n        } else {\r\n          if (newNext?.[txNonce]) {\r\n            newNext[txNonce] = [...newNext[txNonce], newTx]\r\n          } else {\r\n            newNext = { [txNonce]: [newTx] }\r\n          }\r\n        }\r\n      })\r\n\r\n      // No new txs, empty queue list, cleanup\r\n      if (!values.length && !Object.keys(newQueued).length && Object.keys(newNext).length === 1) {\r\n        newNext = {}\r\n      }\r\n\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        [chainId]: {\r\n          // current safe\r\n          [safeAddress]: {\r\n            // keep history list\r\n            ...state[chainId]?.[safeAddress],\r\n            // overwrites queued lists\r\n            queued: {\r\n              next: newNext,\r\n              queued: newQueued,\r\n            },\r\n          },\r\n        },\r\n      }\r\n    },\r\n    [UPDATE_TRANSACTION_DETAILS]: (state, action: Action<TransactionDetailsPayload>) => {\r\n      const { chainId, safeAddress, transactionId, value } = action.payload\r\n      const clonedStoredTxs = cloneDeep(state[chainId]?.[safeAddress])\r\n      const { queued: newQueued, history: newHistory } = clonedStoredTxs\r\n\r\n      // get the tx group (it will be `queued.next`, `queued.queued` or `history`)\r\n      txLocationLoop: for (const txLocation of ['queued.next', 'queued.queued', 'history']) {\r\n        const txGroup: StoreStructure['queued']['next' | 'queued'] | StoreStructure['history'] = get(\r\n          clonedStoredTxs,\r\n          txLocation,\r\n        )\r\n\r\n        if (!txGroup) {\r\n          continue\r\n        }\r\n\r\n        for (const [timestamp, transactions] of Object.entries(txGroup)) {\r\n          const txIndex = transactions.findIndex(({ id }) => sameString(id, transactionId))\r\n\r\n          if (txIndex !== -1) {\r\n            txGroup[timestamp][txIndex]['txDetails'] = value\r\n            break txLocationLoop\r\n          }\r\n        }\r\n      }\r\n\r\n      // update state\r\n      return {\r\n        // all the safes with their respective states\r\n        ...state,\r\n        [chainId]: {\r\n          // current safe\r\n          [safeAddress]: {\r\n            history: newHistory,\r\n            queued: newQueued,\r\n          },\r\n        },\r\n      }\r\n    },\r\n  },\r\n  {},\r\n)\r\n\r\nexport default gatewayTransactionsReducer\r\n","import { Button, Icon, Loader, theme, Title as TitleSRC } from '@gnosis.pm/safe-react-components'\r\nimport { ButtonProps as ButtonPropsMUI, Modal as ModalMUI } from '@material-ui/core'\r\nimport cn from 'classnames'\r\nimport { ReactElement, ReactNode, ReactNodeArray } from 'react'\r\nimport styled from 'styled-components'\r\n\r\ntype Theme = typeof theme\r\n\r\nconst ModalStyled = styled(ModalMUI)`\r\n  & {\r\n    align-items: center;\r\n    flex-direction: column;\r\n    display: flex;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .overlay {\r\n    background-color: rgba(232, 231, 230, 0.75) !important;\r\n  }\r\n\r\n  .paper {\r\n    position: relative;\r\n    top: 68px;\r\n    width: 500px;\r\n    border-radius: 8px;\r\n    background-color: #ffffff;\r\n    box-shadow: 1px 2px 10px 0 rgba(40, 54, 61, 0.18);\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n\r\n    // TODO: replace class-based styles by params\r\n    &.receive-modal {\r\n      height: auto;\r\n      max-width: calc(100% - 130px);\r\n      min-height: 544px;\r\n      overflow: hidden;\r\n    }\r\n\r\n    &.bigger-modal-window {\r\n      width: 775px;\r\n      height: auto;\r\n    }\r\n\r\n    &.smaller-modal-window {\r\n      height: auto;\r\n    }\r\n\r\n    &.modal {\r\n      height: auto;\r\n      max-width: calc(100% - 130px);\r\n    }\r\n  }\r\n`\r\n\r\ninterface GnoModalProps {\r\n  children: ReactNode\r\n  description: string\r\n  // type copied from Material-UI Modal's `close` prop\r\n  handleClose?: (event: Record<string, unknown>, reason: 'backdropClick' | 'escapeKeyDown') => void\r\n  open: boolean\r\n  paperClassName?: string\r\n  title: string\r\n}\r\n\r\nconst GnoModal = ({ children, description, handleClose, open, paperClassName, title }: GnoModalProps): ReactElement => {\r\n  return (\r\n    <ModalStyled\r\n      BackdropProps={{ className: 'overlay' }}\r\n      aria-describedby={description}\r\n      aria-labelledby={title}\r\n      onClose={handleClose}\r\n      open={open}\r\n    >\r\n      <div className={cn('paper', paperClassName)}>{children}</div>\r\n    </ModalStyled>\r\n  )\r\n}\r\n\r\nexport default GnoModal\r\n\r\n/*****************/\r\n/* Generic Modal */\r\n/*****************/\r\n\r\n/*** Header ***/\r\nconst HeaderSection = styled.div`\r\n  display: flex;\r\n  padding: 24px 18px 24px 24px;\r\n  border-bottom: 2px solid ${({ theme }) => theme.colors.separator};\r\n\r\n  h5 {\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n\r\n  .close-button {\r\n    align-self: flex-end;\r\n    background: none;\r\n    border: none;\r\n    padding: 5px;\r\n    width: 26px;\r\n    height: 26px;\r\n\r\n    span {\r\n      margin-right: 0;\r\n    }\r\n\r\n    :hover {\r\n      background: ${({ theme }) => theme.colors.separator};\r\n      border-radius: 16px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`\r\n\r\nconst TitleStyled = styled(TitleSRC)`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-basis: 100%;\r\n\r\n  .image,\r\n  img {\r\n    width: 20px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .note,\r\n  span {\r\n    margin-left: 12px;\r\n  }\r\n`\r\n\r\ninterface TitleProps {\r\n  children: string | ReactNode\r\n  size?: keyof Theme['title']['size']\r\n  withoutMargin?: boolean\r\n  strong?: boolean\r\n}\r\n\r\nconst Title = ({ children, ...props }: TitleProps): ReactElement => (\r\n  <TitleStyled size=\"xs\" withoutMargin {...props}>\r\n    {children}\r\n  </TitleStyled>\r\n)\r\n\r\ninterface HeaderProps {\r\n  children?: ReactNode\r\n  onClose?: (event: any) => void\r\n}\r\n\r\nconst Header = ({ children, onClose }: HeaderProps): ReactElement => {\r\n  return (\r\n    <HeaderSection className=\"modal-header\">\r\n      {children}\r\n\r\n      {onClose && (\r\n        <button className=\"close-button\" onClick={onClose}>\r\n          <Icon size=\"sm\" type=\"cross\" />\r\n        </button>\r\n      )}\r\n    </HeaderSection>\r\n  )\r\n}\r\n\r\nHeader.Title = Title\r\n\r\n/*** Body ***/\r\nconst BodySection = styled.div<{ withoutPadding: BodyProps['withoutPadding'] }>`\r\n  padding: ${({ withoutPadding }) => (withoutPadding ? 0 : '24px')};\r\n  min-height: 200px;\r\n`\r\n\r\ninterface BodyProps {\r\n  children: ReactNode | ReactNodeArray\r\n  withoutPadding?: boolean\r\n}\r\n\r\nconst Body = ({ children, withoutPadding = false }: BodyProps): ReactElement => (\r\n  <BodySection className=\"modal-body\" withoutPadding={withoutPadding}>\r\n    {children}\r\n  </BodySection>\r\n)\r\n\r\n/*** Footer ***/\r\nconst FooterSection = styled.div<{ withoutBorder: boolean }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-top: ${({ withoutBorder }) => (withoutBorder ? '0' : '2px')} solid ${({ theme }) => theme.colors.separator};\r\n  height: 84px;\r\n  gap: 16px;\r\n`\r\n\r\nconst LoaderText = styled.span`\r\n  margin-left: 10px;\r\n`\r\n\r\nexport enum ButtonStatus {\r\n  ERROR = -1,\r\n  DISABLED,\r\n  READY,\r\n  LOADING,\r\n}\r\n\r\ntype CustomButtonMUIProps = Omit<ButtonPropsMUI, 'size' | 'color' | 'variant'> & {\r\n  to?: string\r\n  component?: ReactNode\r\n}\r\n\r\nexport interface ButtonProps extends CustomButtonMUIProps {\r\n  text?: string\r\n  status?: ButtonStatus\r\n  size?: keyof Theme['buttons']['size']\r\n  color?: 'primary' | 'secondary' | 'error'\r\n  variant?: 'bordered' | 'contained' | 'outlined'\r\n  testId?: string\r\n}\r\n\r\ninterface ButtonsProps {\r\n  cancelButtonProps?: ButtonProps\r\n  confirmButtonProps?: ButtonProps\r\n}\r\n\r\nconst Buttons = ({ cancelButtonProps = {}, confirmButtonProps = {} }: ButtonsProps): ReactElement => {\r\n  const {\r\n    disabled: cancelDisabled,\r\n    status: cancelStatus = ButtonStatus.READY,\r\n    text: cancelText = ButtonStatus.LOADING === cancelStatus ? 'Cancelling' : 'Cancel',\r\n    testId: cancelTestId = '',\r\n    ...cancelProps\r\n  } = cancelButtonProps\r\n  const {\r\n    disabled: confirmDisabled,\r\n    status: confirmStatus = ButtonStatus.READY,\r\n    text: confirmText = ButtonStatus.LOADING === confirmStatus ? 'Submitting' : 'Submit',\r\n    testId: confirmTestId = '',\r\n    ...confirmProps\r\n  } = confirmButtonProps\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        size=\"md\"\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        type={cancelProps?.onClick ? 'button' : 'submit'}\r\n        disabled={cancelDisabled || [ButtonStatus.DISABLED, ButtonStatus.LOADING].includes(cancelStatus)}\r\n        data-testid={cancelTestId}\r\n        {...cancelProps}\r\n      >\r\n        {ButtonStatus.LOADING === cancelStatus ? (\r\n          <>\r\n            <Loader size=\"xs\" color=\"secondaryLight\" />\r\n            <LoaderText>{cancelText}</LoaderText>\r\n          </>\r\n        ) : (\r\n          cancelText\r\n        )}\r\n      </Button>\r\n      <Button\r\n        size=\"md\"\r\n        type={confirmProps?.onClick ? 'button' : 'submit'}\r\n        disabled={confirmDisabled || [ButtonStatus.DISABLED, ButtonStatus.LOADING].includes(confirmStatus)}\r\n        data-testid={confirmTestId}\r\n        {...confirmProps}\r\n      >\r\n        {ButtonStatus.LOADING === confirmStatus ? (\r\n          <>\r\n            <Loader size=\"xs\" color=\"secondaryLight\" />\r\n            <LoaderText>{confirmText}</LoaderText>\r\n          </>\r\n        ) : (\r\n          confirmText\r\n        )}\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n\r\ninterface FooterProps {\r\n  children: ReactNode | ReactNodeArray\r\n  withoutBorder?: boolean\r\n}\r\n\r\nconst Footer = ({ children, withoutBorder = false }: FooterProps): ReactElement => (\r\n  <FooterSection className=\"modal-footer\" withoutBorder={withoutBorder}>\r\n    {children}\r\n  </FooterSection>\r\n)\r\n\r\nFooter.Buttons = Buttons\r\n\r\ninterface ModalProps {\r\n  children: ReactNode\r\n  description?: string\r\n  handleClose: () => void\r\n  open?: boolean\r\n  title?: string\r\n}\r\n\r\nexport const Modal = ({ children, description = '', open = true, title = '', ...props }: ModalProps): ReactElement => {\r\n  return (\r\n    <GnoModal {...props} description={description} open={open} title={title} paperClassName=\"modal\">\r\n      {children}\r\n    </GnoModal>\r\n  )\r\n}\r\n\r\nModal.Header = Header\r\nModal.Body = Body\r\nModal.Footer = Footer\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { ADDRESS_BOOK_DEFAULT_NAME, AddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Overwrite } from 'src/types/helpers'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { isValidAddress } from 'src/utils/isValidAddress'\r\n\r\nexport const addressBookState = (state: AppReduxState): AppReduxState['addressBook'] => state['addressBook']\r\n\r\nexport const addressBookAddresses = createSelector([addressBookState], (addressBook): string[] => {\r\n  return addressBook.map(({ address }) => address)\r\n})\r\n\r\nexport type AddressBookMap = {\r\n  [address: string]: AddressBookEntry\r\n}\r\n\r\ntype AddressBookMapByChain = {\r\n  [chainId: string]: AddressBookMap\r\n}\r\n\r\nexport const addressBookAsMap = createSelector([addressBookState], (addressBook): AddressBookMapByChain => {\r\n  const addressBookMap = {}\r\n\r\n  addressBook.forEach((entry) => {\r\n    const { address, chainId } = entry\r\n    if (!addressBookMap[chainId]) {\r\n      addressBookMap[chainId] = { [address]: entry }\r\n    } else {\r\n      addressBookMap[chainId][address] = entry\r\n    }\r\n  })\r\n\r\n  return addressBookMap\r\n})\r\n\r\nconst getNameByAddress = (addressBook, address: string, chainId: ChainId): string => {\r\n  if (!isValidAddress(address)) {\r\n    return ''\r\n  }\r\n  return addressBook?.[chainId]?.[checksumAddress(address)]?.name || ''\r\n}\r\n\r\ntype GetNameParams = Overwrite<Partial<AddressBookEntry>, { address: string }>\r\n\r\nexport const addressBookEntryName = createSelector(\r\n  [\r\n    addressBookAsMap,\r\n    currentChainId,\r\n    (_, { address, chainId }: GetNameParams): { address: string; chainId?: ChainId } => ({\r\n      address,\r\n      chainId,\r\n    }),\r\n  ],\r\n  (addressBook, curChainId, { address, chainId }) => {\r\n    return getNameByAddress(addressBook, address, chainId || curChainId) || ADDRESS_BOOK_DEFAULT_NAME\r\n  },\r\n)\r\n\r\nexport const addressBookName = createSelector(\r\n  [\r\n    addressBookAsMap,\r\n    currentChainId,\r\n    (_, { address, chainId }: GetNameParams): { address: string; chainId?: ChainId } => ({\r\n      address,\r\n      chainId,\r\n    }),\r\n  ],\r\n  (addressBook, curChainId, { address, chainId }) => {\r\n    return getNameByAddress(addressBook, address, chainId || curChainId)\r\n  },\r\n)\r\n\r\n/*********************/\r\n/* Connected Network */\r\n/*********************/\r\n\r\nexport const currentNetworkAddressBook = createSelector(\r\n  [addressBookState, currentChainId],\r\n  (addressBook, curChainId): AppReduxState['addressBook'] => {\r\n    return addressBook.filter(({ chainId }) => chainId.toString() === curChainId)\r\n  },\r\n)\r\n\r\nexport const currentNetworkAddressBookAddresses = createSelector(\r\n  [currentNetworkAddressBook],\r\n  (addressBook): string[] => {\r\n    return addressBook.map(({ address }) => address)\r\n  },\r\n)\r\n\r\nexport const currentNetworkAddressBookAsMap = createSelector(\r\n  [currentNetworkAddressBook],\r\n  (addressBook): AddressBookMap => {\r\n    const addressBookMap = {}\r\n\r\n    addressBook.forEach((entry) => {\r\n      addressBookMap[entry.address] = entry\r\n    })\r\n\r\n    return addressBookMap\r\n  },\r\n)\r\n","import {\r\n  AddressEx,\r\n  TransactionInfo,\r\n  Transfer,\r\n  TokenType,\r\n  TransactionDetails,\r\n  MultisigExecutionDetails,\r\n  MultisigExecutionInfo,\r\n} from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { matchPath } from 'react-router-dom'\r\nimport { getNativeCurrency } from 'src/config'\r\nimport { getNativeCurrencyAddress } from 'src/config/utils'\r\n\r\nimport {\r\n  isCustomTxInfo,\r\n  isModuleExecutionInfo,\r\n  isMultiSigExecutionDetails,\r\n  isTransferTxInfo,\r\n  isTxQueued,\r\n  LocalTransactionStatus,\r\n  Transaction,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { formatAmount } from 'src/logic/tokens/utils/formatAmount'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { SAFE_ROUTES, TRANSACTION_ID_SLUG, history } from 'src/routes/routes'\r\n\r\nexport const NOT_AVAILABLE = 'n/a'\r\ninterface AmountData {\r\n  decimals?: number | string\r\n  symbol?: string\r\n  value: number | string\r\n}\r\n\r\nconst getAmountWithSymbol = (\r\n  { decimals = 0, symbol = NOT_AVAILABLE, value }: AmountData,\r\n  formatted = false,\r\n): string => {\r\n  const nonFormattedValue = new BigNumber(value).times(`1e-${decimals}`).toFixed()\r\n  const finalValue = formatted ? formatAmount(nonFormattedValue).toString() : nonFormattedValue\r\n  const txAmount = finalValue === 'NaN' ? NOT_AVAILABLE : finalValue\r\n\r\n  return `${txAmount} ${symbol}`\r\n}\r\n\r\nexport const getTxAmount = (txInfo?: TransactionInfo, formatted = true): string => {\r\n  if (!txInfo || !isTransferTxInfo(txInfo)) {\r\n    return NOT_AVAILABLE\r\n  }\r\n\r\n  switch (txInfo.transferInfo.type) {\r\n    case TokenType.ERC20:\r\n      return getAmountWithSymbol(\r\n        {\r\n          decimals: `${txInfo.transferInfo.decimals ?? 0}`,\r\n          symbol: `${txInfo.transferInfo.tokenSymbol ?? NOT_AVAILABLE}`,\r\n          value: txInfo.transferInfo.value,\r\n        },\r\n        formatted,\r\n      )\r\n    case TokenType.ERC721:\r\n      // simple workaround to avoid displaying unexpected values for incoming NFT transfer\r\n      return `1 ${txInfo.transferInfo.tokenSymbol}`\r\n    case TokenType.NATIVE_COIN: {\r\n      const nativeCurrency = getNativeCurrency()\r\n      return getAmountWithSymbol(\r\n        {\r\n          decimals: nativeCurrency.decimals,\r\n          symbol: nativeCurrency.symbol,\r\n          value: txInfo.transferInfo.value,\r\n        },\r\n        formatted,\r\n      )\r\n    }\r\n    default:\r\n      return NOT_AVAILABLE\r\n  }\r\n}\r\n\r\ntype txTokenData = {\r\n  address: string\r\n  value: string\r\n  decimals: number | null\r\n}\r\n\r\nexport const getTxTokenData = (txInfo: Transfer): txTokenData => {\r\n  const nativeCurrency = getNativeCurrency()\r\n  switch (txInfo.transferInfo.type) {\r\n    case TokenType.ERC20:\r\n      return {\r\n        address: txInfo.transferInfo.tokenAddress,\r\n        value: txInfo.transferInfo.value,\r\n        decimals: txInfo.transferInfo.decimals,\r\n      }\r\n    case TokenType.ERC721:\r\n      return { address: txInfo.transferInfo.tokenAddress, value: '1', decimals: 0 }\r\n    default:\r\n      return {\r\n        address: getNativeCurrencyAddress(),\r\n        value: txInfo.transferInfo.value,\r\n        decimals: nativeCurrency.decimals,\r\n      }\r\n  }\r\n}\r\n\r\nexport const isCancelTxDetails = (txInfo: Transaction['txInfo']): boolean =>\r\n  // custom transaction\r\n  isCustomTxInfo(txInfo) &&\r\n  // flag-based identification\r\n  txInfo.isCancellation\r\n\r\nexport const addressInList =\r\n  (list: AddressEx[] = []) =>\r\n  (address: string): boolean =>\r\n    list.some((ownerAddress) => sameAddress(ownerAddress.value, address))\r\n\r\nexport const getTxTo = ({ txInfo }: Pick<Transaction, 'txInfo'>): AddressEx | undefined => {\r\n  switch (txInfo.type) {\r\n    case 'Transfer': {\r\n      return txInfo.recipient\r\n    }\r\n    case 'SettingsChange': {\r\n      return undefined\r\n    }\r\n    case 'Custom': {\r\n      return txInfo.to\r\n    }\r\n    case 'Creation': {\r\n      return txInfo.factory || undefined\r\n    }\r\n  }\r\n}\r\n\r\n// Our store does not match the details returned from the endpoint\r\nexport const makeTxFromDetails = (txDetails: TransactionDetails): Transaction => {\r\n  const getMissingSigners = ({\r\n    signers,\r\n    confirmations,\r\n  }: MultisigExecutionDetails): MultisigExecutionInfo['missingSigners'] => {\r\n    const missingSigners = signers.filter(({ value }) => {\r\n      const hasConfirmed = confirmations?.some(({ signer }) => signer?.value === value)\r\n      return !hasConfirmed\r\n    })\r\n\r\n    return missingSigners.length ? missingSigners : null\r\n  }\r\n\r\n  const getMultisigExecutionInfo = ({\r\n    detailedExecutionInfo,\r\n  }: TransactionDetails): MultisigExecutionInfo | undefined => {\r\n    if (!isMultiSigExecutionDetails(detailedExecutionInfo)) return undefined\r\n\r\n    return {\r\n      type: detailedExecutionInfo.type,\r\n      nonce: detailedExecutionInfo.nonce,\r\n      confirmationsRequired: detailedExecutionInfo.confirmationsRequired,\r\n      confirmationsSubmitted: detailedExecutionInfo.confirmations?.length || 0,\r\n      missingSigners: getMissingSigners(detailedExecutionInfo),\r\n    }\r\n  }\r\n\r\n  const executionInfo: Transaction['executionInfo'] = isModuleExecutionInfo(txDetails.detailedExecutionInfo)\r\n    ? txDetails.detailedExecutionInfo\r\n    : getMultisigExecutionInfo(txDetails)\r\n\r\n  // Will only be used as a fallback whilst waiting on backend tx creation cache\r\n  const now = Date.now()\r\n  const timestamp = isTxQueued(txDetails.txStatus)\r\n    ? isMultiSigExecutionDetails(txDetails.detailedExecutionInfo)\r\n      ? txDetails.detailedExecutionInfo.submittedAt\r\n      : now\r\n    : txDetails.executedAt || now\r\n\r\n  const tx: Transaction = {\r\n    id: txDetails.txId,\r\n    timestamp,\r\n    txStatus: txDetails.txStatus,\r\n    txInfo: txDetails.txInfo,\r\n    executionInfo,\r\n    safeAppInfo: txDetails?.safeAppInfo || undefined,\r\n    txDetails,\r\n  }\r\n\r\n  return tx\r\n}\r\n\r\nexport const isDeeplinkedTx = (): boolean => {\r\n  const txMatch = matchPath(history.location.pathname, {\r\n    path: [SAFE_ROUTES.TRANSACTIONS_HISTORY, SAFE_ROUTES.TRANSACTIONS_QUEUE],\r\n  })\r\n\r\n  const deeplinkMatch = matchPath(history.location.pathname, {\r\n    path: SAFE_ROUTES.TRANSACTIONS_SINGULAR,\r\n  })\r\n\r\n  return !txMatch && !!deeplinkMatch?.params?.[TRANSACTION_ID_SLUG]\r\n}\r\n\r\nexport const isAwaitingExecution = (\r\n  txStatus: typeof LocalTransactionStatus[keyof typeof LocalTransactionStatus],\r\n): boolean => [LocalTransactionStatus.AWAITING_EXECUTION, LocalTransactionStatus.PENDING_FAILED].includes(txStatus)\r\n","import { ChainId } from 'src/config/chain.d'\r\n\r\nexport const ADDRESS_BOOK_DEFAULT_NAME = 'UNKNOWN'\r\n\r\nexport type AddressBookEntry = {\r\n  address: string // the contact address\r\n  name: string // human-readable name\r\n  chainId: ChainId // see https://chainid.network\r\n}\r\n\r\nexport const makeAddressBookEntry = ({\r\n  address,\r\n  name,\r\n  chainId,\r\n}: {\r\n  address: string\r\n  name: string\r\n  chainId: ChainId\r\n}): AddressBookEntry => ({\r\n  address,\r\n  name,\r\n  chainId,\r\n})\r\n\r\nexport type AddressBookState = AddressBookEntry[]\r\n","import hash from 'object-hash'\r\nimport isEqual from 'lodash/isEqual'\r\nimport memoize from 'lodash/memoize'\r\nimport { createSelectorCreator, defaultMemoize } from 'reselect'\r\n\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const createIsEqualSelector = createSelectorCreator(defaultMemoize, isEqual)\r\n\r\nconst hashFn = (gatewayTransactions: AppReduxState['gatewayTransactions'], safeAddress: string): string =>\r\n  hash(gatewayTransactions[safeAddress] ?? {})\r\n\r\nexport const createHashBasedSelector = createSelectorCreator(memoize as any, hashFn)\r\n","import flatten from 'lodash/flatten'\r\nimport get from 'lodash/get'\r\nimport { createSelector } from 'reselect'\r\n\r\nimport {\r\n  isMultisigExecutionInfo,\r\n  StoreStructure,\r\n  Transaction,\r\n  TxLocation,\r\n} from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { GATEWAY_TRANSACTIONS_ID } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { createHashBasedSelector } from 'src/logic/safe/store/selectors/utils'\r\nimport { AppReduxState } from 'src/store'\r\nimport { extractSafeAddress } from 'src/routes/routes'\r\n\r\nexport const gatewayTransactions = (state: AppReduxState): AppReduxState['gatewayTransactions'] => {\r\n  return state[GATEWAY_TRANSACTIONS_ID]\r\n}\r\n\r\nexport const historyTransactions = createHashBasedSelector(\r\n  gatewayTransactions,\r\n  currentChainId,\r\n  (gatewayTransactions, chainId): StoreStructure['history'] | undefined => {\r\n    const safeAddress = extractSafeAddress()\r\n    return chainId && safeAddress ? gatewayTransactions[chainId]?.[safeAddress]?.history : undefined\r\n  },\r\n)\r\n\r\nexport const pendingTransactions = createSelector(\r\n  gatewayTransactions,\r\n  currentChainId,\r\n  (gatewayTransactions, chainId): StoreStructure['queued'] | undefined => {\r\n    const safeAddress = extractSafeAddress()\r\n    return chainId && safeAddress ? gatewayTransactions[chainId]?.[safeAddress]?.queued : undefined\r\n  },\r\n)\r\n\r\nexport const nextTransactions = createSelector(\r\n  pendingTransactions,\r\n  (pendingTransactions): StoreStructure['queued']['next'] | undefined => {\r\n    return pendingTransactions?.next\r\n  },\r\n)\r\n\r\nexport const queuedTransactions = createSelector(\r\n  pendingTransactions,\r\n  (pendingTransactions): StoreStructure['queued']['queued'] | undefined => {\r\n    return pendingTransactions?.queued\r\n  },\r\n)\r\n\r\nconst txLocations: TxLocation[] = ['queued.next', 'queued.queued', 'history']\r\n\r\nexport const getTransactionWithLocationByAttribute = createSelector(\r\n  gatewayTransactions,\r\n  currentChainId,\r\n  extractSafeAddress,\r\n  (\r\n    _: AppReduxState,\r\n    attrDetails: { attributeName: keyof Transaction; attributeValue: Transaction[keyof Transaction] },\r\n  ) => attrDetails,\r\n  (gatewayTransactions, chainId, safeAddress, attrDetails) => {\r\n    const { attributeName, attributeValue } = attrDetails\r\n    for (const txLocation of txLocations) {\r\n      const storedTxs: StoreStructure['history'] | StoreStructure['queued']['queued' | 'next'] | undefined = get(\r\n        gatewayTransactions?.[chainId]?.[safeAddress],\r\n        txLocation,\r\n      )\r\n\r\n      if (!storedTxs) {\r\n        continue\r\n      }\r\n\r\n      for (const txs of Object.values(storedTxs)) {\r\n        // If we want a deep comparison, we should use a lodash get/isEqual to deep compare keys/values\r\n        const foundTx = txs.find((transaction) => transaction[attributeName] === attributeValue)\r\n\r\n        if (foundTx) {\r\n          return { transaction: foundTx, txLocation }\r\n        }\r\n      }\r\n    }\r\n  },\r\n)\r\n\r\nexport const getTransactionByAttribute = createSelector(\r\n  gatewayTransactions,\r\n  currentChainId,\r\n  extractSafeAddress,\r\n  getTransactionWithLocationByAttribute,\r\n  (_gatewayTransactions, _chainId, _safeAddress, txWithLocation) => {\r\n    return txWithLocation?.transaction\r\n  },\r\n)\r\n\r\nexport const getTransactionsByNonce = createSelector(\r\n  gatewayTransactions,\r\n  currentChainId,\r\n  extractSafeAddress,\r\n  (_: AppReduxState, nonce: number) => nonce,\r\n  (gatewayTransactions, chainId, safeAddress, nonce): Transaction[] => {\r\n    let txsByNonce: Transaction[] = []\r\n\r\n    for (const txLocation of txLocations) {\r\n      const storedTxs: StoreStructure['history'] | StoreStructure['queued']['queued' | 'next'] | undefined = get(\r\n        gatewayTransactions?.[chainId]?.[safeAddress],\r\n        txLocation,\r\n      )\r\n\r\n      if (!storedTxs) {\r\n        continue\r\n      }\r\n\r\n      for (const txs of Object.values(storedTxs)) {\r\n        const txFoundByNonce = txs.filter(\r\n          (tx) => isMultisigExecutionInfo(tx?.executionInfo) && tx.executionInfo?.nonce === nonce,\r\n        )\r\n\r\n        if (!txFoundByNonce.length) {\r\n          continue\r\n        }\r\n\r\n        txsByNonce = [...txsByNonce, ...txFoundByNonce]\r\n      }\r\n    }\r\n\r\n    return txsByNonce\r\n  },\r\n)\r\n\r\nexport const getLastTransaction = createSelector(\r\n  nextTransactions,\r\n  queuedTransactions,\r\n  historyTransactions,\r\n  (nextTxs, queuedTxs, historyTxs) => {\r\n    if (queuedTxs && Object.keys(queuedTxs).length > 0) {\r\n      const queuedNonces = Object.keys(queuedTxs)\r\n      const highestQueuedNonce = Number(queuedNonces.sort()[queuedNonces.length - 1])\r\n      const lastQueuedTx = Object.values(queuedTxs[highestQueuedNonce])[0]\r\n      return lastQueuedTx\r\n    }\r\n\r\n    if (nextTxs && Object.keys(nextTxs).length > 0) {\r\n      const nextTx = Object.values(nextTxs)[0][0]\r\n      return nextTx\r\n    }\r\n\r\n    if (historyTxs) {\r\n      // History Txs are ordered by timestamp so no need to sort them.\r\n      const lastHistoryTx = flatten(Object.values(historyTxs)).find((tx) => tx.executionInfo != undefined) || null\r\n      return lastHistoryTx\r\n    }\r\n\r\n    return null\r\n  },\r\n)\r\n\r\nexport const getLastTxNonce = createSelector(getLastTransaction, (lastTx) => {\r\n  return isMultisigExecutionInfo(lastTx?.executionInfo) ? lastTx?.executionInfo.nonce : undefined\r\n})\r\n","import { ReactElement } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst UnStyledButton = styled.button`\r\n  background: none;\r\n  color: inherit;\r\n  border: none;\r\n  padding: 0;\r\n  font: inherit;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  transition: background-color 0.2s ease-in-out;\r\n  outline-color: transparent;\r\n  height: 24px;\r\n  width: 24px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.colors.separator};\r\n  }\r\n`\r\ntype Props = {\r\n  onClick?: () => void\r\n  children: ReactElement\r\n  dataTestId?: string\r\n}\r\n\r\nconst ButtonHelper = ({ onClick = () => undefined, children, dataTestId }: Props): React.ReactElement => {\r\n  return (\r\n    <UnStyledButton onClick={onClick} type={'button'} data-testid={dataTestId}>\r\n      {children}\r\n    </UnStyledButton>\r\n  )\r\n}\r\n\r\nexport default ButtonHelper\r\n","import * as React from 'react'\r\nimport Dot from '@material-ui/icons/FiberManualRecord'\r\nimport { getChainById } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\ntype Props = {\r\n  networkId: ChainId\r\n  className?: string\r\n}\r\n\r\nexport const CircleDot = (props: Props): React.ReactElement => {\r\n  const { theme } = getChainById(props.networkId)\r\n\r\n  return <Dot htmlColor={theme?.backgroundColor || '#FF685E'} className={props.className} />\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport { CircleDot } from 'src/components/AppLayout/Header/components/CircleDot'\r\nimport { getChainById } from 'src/config'\r\nimport { ChainId } from 'src/config/chain.d'\r\n\r\ninterface Props {\r\n  chainId: ChainId\r\n  noLabel?: boolean\r\n}\r\n\r\nconst Wrapper = styled.span`\r\n  & > svg {\r\n    font-size: 1.08em;\r\n    vertical-align: text-bottom;\r\n    margin-right: 0.15em;\r\n  }\r\n}\r\n`\r\n\r\nconst ChainIndicator = ({ chainId, noLabel }: Props): React.ReactElement => {\r\n  return (\r\n    <Wrapper>\r\n      <CircleDot networkId={chainId} />\r\n      {!noLabel && getChainById(chainId).chainName}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default ChainIndicator\r\n","export enum FETCH_STATUS {\r\n  NOT_ASKED = 'NOT_ASKED',\r\n  LOADING = 'LOADING',\r\n  SUCCESS = 'SUCCESS',\r\n  ERROR = 'ERROR',\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const LoadingContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n","import {\r\n  postSafeGasEstimation,\r\n  SafeTransactionEstimationRequest,\r\n  SafeTransactionEstimation,\r\n  Operation,\r\n} from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { _getChainId } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\ntype FetchSafeTxGasEstimationProps = {\r\n  safeAddress: string\r\n} & SafeTransactionEstimationRequest\r\n\r\nexport const fetchSafeTxGasEstimation = async ({\r\n  safeAddress,\r\n  ...body\r\n}: FetchSafeTxGasEstimationProps): Promise<SafeTransactionEstimation> => {\r\n  return postSafeGasEstimation(GATEWAY_URL, _getChainId(), checksumAddress(safeAddress), body)\r\n}\r\n\r\nexport const getRecommendedNonce = async (safeAddress: string): Promise<number> => {\r\n  const { recommendedNonce } = await fetchSafeTxGasEstimation({\r\n    safeAddress,\r\n    value: '0',\r\n    operation: Operation.CALL,\r\n    // Workaround: use a cancellation transaction to fetch only the recommendedNonce\r\n    to: safeAddress,\r\n    data: '0x',\r\n  })\r\n  return recommendedNonce\r\n}\r\n","import { List } from 'immutable'\r\nimport { getNativeCurrency } from 'src/config'\r\nimport { getNativeCurrencyAddress } from 'src/config/utils'\r\n\r\nimport { makeToken, Token } from 'src/logic/tokens/store/model/token'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\n\r\nexport const getEthAsToken = (balance: string | number): Token =>\r\n  makeToken({\r\n    ...getNativeCurrency(),\r\n    address: getNativeCurrencyAddress(),\r\n    balance: {\r\n      tokenBalance: balance.toString(),\r\n    },\r\n  })\r\n\r\nexport type GetTokenByAddress = {\r\n  tokenAddress: string\r\n  tokens: List<Token>\r\n}\r\n\r\ntype TokenFound = {\r\n  balance: string | number\r\n  decimals: string | number\r\n}\r\n\r\n/**\r\n * Finds and returns a Token object by the provided address\r\n * @param {string} tokenAddress\r\n * @param {List<Token>} tokens\r\n * @returns Token | undefined\r\n */\r\nexport const getBalanceAndDecimalsFromToken = ({ tokenAddress, tokens }: GetTokenByAddress): TokenFound | undefined => {\r\n  const token = tokens?.find(({ address }) => sameAddress(address, tokenAddress))\r\n\r\n  if (!token) {\r\n    return\r\n  }\r\n\r\n  return {\r\n    balance: token.balance.tokenBalance ?? 0,\r\n    decimals: token.decimals ?? 0,\r\n  }\r\n}\r\n","import { getCollectibles, SafeCollectibleResponse } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { _getChainId } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nexport const fetchSafeCollectibles = async (safeAddress: string): Promise<SafeCollectibleResponse[]> => {\r\n  return getCollectibles(GATEWAY_URL, _getChainId(), checksumAddress(safeAddress))\r\n}\r\n","import { SafeCollectibleResponse, TokenType } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { Collectibles, NFTAsset, NFTAssets, NFTTokens } from 'src/logic/collectibles/sources/collectibles.d'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport NFTIcon from 'src/routes/safe/components/Balances/assets/nft_icon.png'\r\nimport { fetchSafeCollectibles } from 'src/logic/tokens/api/fetchSafeCollectibles'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\n\r\ntype TokenResult = {\r\n  address: string\r\n  decimals?: number\r\n  logoUri: string\r\n  name: string\r\n  symbol: string\r\n  type: TokenType\r\n}\r\n\r\ntype FetchResult = {\r\n  erc721Assets: TokenResult[]\r\n  erc721Tokens: SafeCollectibleResponse[]\r\n}\r\nclass Gnosis {\r\n  _getAssetsFromTokens = (tokens: SafeCollectibleResponse[]): TokenResult[] => {\r\n    const assets: TokenResult[] = tokens.map(({ address, logoUri, tokenName, tokenSymbol }) => ({\r\n      address,\r\n      decimals: undefined,\r\n      logoUri,\r\n      name: tokenName,\r\n      symbol: tokenSymbol,\r\n      type: TokenType.ERC721,\r\n    }))\r\n\r\n    return assets\r\n  }\r\n\r\n  _fetch = async (safeAddress: string): Promise<FetchResult> => {\r\n    const collectibles: FetchResult = {\r\n      erc721Assets: [],\r\n      erc721Tokens: [],\r\n    }\r\n\r\n    try {\r\n      const tokens = await fetchSafeCollectibles(safeAddress)\r\n      collectibles.erc721Assets = this._getAssetsFromTokens(tokens)\r\n      collectibles.erc721Tokens = tokens || []\r\n    } catch (error) {\r\n      logError(Errors._604, error.message)\r\n    }\r\n\r\n    return collectibles\r\n  }\r\n\r\n  static extractNFTAsset = (asset: TokenResult, nftTokens: NFTTokens): NFTAsset => {\r\n    const mainAssetAddress = asset.address\r\n    const numberOfTokens = nftTokens.filter(({ assetAddress }) => sameAddress(assetAddress, mainAssetAddress)).length\r\n\r\n    return {\r\n      address: mainAssetAddress,\r\n      description: asset.name,\r\n      image: asset.logoUri || NFTIcon,\r\n      name: asset.name,\r\n      numberOfTokens,\r\n      slug: `${mainAssetAddress}_${asset.name}`,\r\n      symbol: asset.symbol,\r\n    }\r\n  }\r\n\r\n  static extractAssets(assets: TokenResult[], nftTokens: NFTTokens): NFTAssets {\r\n    const extractedAssets = {}\r\n\r\n    assets.forEach((asset) => {\r\n      const address = asset.address\r\n\r\n      if (extractedAssets[address] === undefined) {\r\n        extractedAssets[address] = Gnosis.extractNFTAsset(asset, nftTokens)\r\n      }\r\n    })\r\n\r\n    return extractedAssets\r\n  }\r\n\r\n  static extractTokens(tokens: SafeCollectibleResponse[]): NFTTokens {\r\n    return tokens.map((token) => ({\r\n      assetAddress: token.address,\r\n      color: 'red',\r\n      description: token.description || '',\r\n      image: token.imageUri || NFTIcon,\r\n      name: token.name || '',\r\n      tokenId: token.id,\r\n    }))\r\n  }\r\n\r\n  /**\r\n   * Fetches from OpenSea the list of collectibles, grouped by category,\r\n   * for the provided Safe Address in the specified Network\r\n   * @param {string} safeAddress\r\n   * @returns {Promise<Collectibles>}\r\n   */\r\n  async fetchCollectibles(safeAddress: string): Promise<Collectibles> {\r\n    const { erc721Assets, erc721Tokens } = await this._fetch(safeAddress)\r\n\r\n    const nftTokens = Gnosis.extractTokens(erc721Tokens)\r\n    const nftAssets = Gnosis.extractAssets(erc721Assets, nftTokens)\r\n\r\n    return { nftTokens, nftAssets }\r\n  }\r\n}\r\n\r\nexport default Gnosis\r\n","import Gnosis from 'src/logic/collectibles/sources/Gnosis'\r\nimport { COLLECTIBLES_SOURCE } from 'src/utils/constants'\r\n\r\nconst SOURCES = {\r\n  gnosis: new Gnosis(),\r\n}\r\n\r\ntype Sources = typeof SOURCES\r\n\r\nexport const getConfiguredSource = (): Sources['gnosis'] => SOURCES[COLLECTIBLES_SOURCE.toLowerCase()]\r\n","import { Dispatch } from 'redux'\r\n\r\nimport { getConfiguredSource } from 'src/logic/collectibles/sources'\r\nimport { addNftAssets, addNftTokens } from 'src/logic/collectibles/store/actions/addCollectibles'\r\n\r\nexport const fetchCollectibles =\r\n  (safeAddress: string) =>\r\n  async (dispatch: Dispatch): Promise<void> => {\r\n    try {\r\n      const source = getConfiguredSource()\r\n      const collectibles = await source.fetchCollectibles(safeAddress)\r\n\r\n      dispatch(addNftAssets(collectibles.nftAssets))\r\n      dispatch(addNftTokens(collectibles.nftTokens))\r\n    } catch (error) {\r\n      console.log('Error fetching collectibles:', error)\r\n    }\r\n  }\r\n","import { Dispatch } from 'redux'\r\nimport { Action } from 'redux-actions'\r\n\r\nimport { updateSafe } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { getLocalSafe } from 'src/logic/safe/utils'\r\nimport { getSafeInfo } from 'src/logic/safe/utils/safeInformation'\r\nimport { SafeInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { buildSafeOwners, extractRemoteSafeInfo } from './utils'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { store } from 'src/store'\r\nimport { currentSafeWithNames } from '../selectors'\r\nimport fetchTransactions from './transactions/fetchTransactions'\r\nimport { fetchCollectibles } from 'src/logic/collectibles/store/actions/fetchCollectibles'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\n\r\n/**\r\n * Builds a Safe Record that will be added to the app's store\r\n * It recovers, and merges information from client-gateway and localStore\r\n *\r\n * @note It's being used by \"Load Existing Safe\" and \"Create New Safe\" flows\r\n *\r\n * @param {string} safeAddress\r\n * @returns Promise<SafeRecordProps>\r\n */\r\nexport const buildSafe = async (safeAddress: string): Promise<SafeRecordProps> => {\r\n  const address = checksumAddress(safeAddress)\r\n  // setting `loadedViaUrl` to false, as `buildSafe` is called on safe Load or Open flows\r\n  const safeInfo: Partial<SafeRecordProps> = { address, loadedViaUrl: false }\r\n\r\n  const local = getLocalSafe(safeAddress)\r\n  const remote = await getSafeInfo(safeAddress).catch((err) => {\r\n    err.log()\r\n    return null\r\n  })\r\n\r\n  // remote (client-gateway)\r\n  const remoteSafeInfo = remote ? await extractRemoteSafeInfo(remote) : {}\r\n  // local\r\n  const localSafeInfo = local || ({} as Partial<SafeRecordProps>)\r\n\r\n  // update owner's information\r\n  const owners = buildSafeOwners(remote?.owners, localSafeInfo.owners)\r\n\r\n  return { ...localSafeInfo, ...safeInfo, ...remoteSafeInfo, owners } as SafeRecordProps\r\n}\r\n\r\n/**\r\n * Updates the app's store with Safe Record built from data provided by client-gateway\r\n *\r\n * @note It's being used by the app when it loads for the first time and for the Safe's data polling\r\n *\r\n * @param {string} safeAddress\r\n */\r\nexport const fetchSafe =\r\n  (safeAddress: string, isInitialLoad = false) =>\r\n  async (dispatch: Dispatch<any>): Promise<Action<Partial<SafeRecordProps>> | void> => {\r\n    let address = ''\r\n    try {\r\n      address = checksumAddress(safeAddress)\r\n    } catch (err) {\r\n      logError(Errors._102, safeAddress)\r\n      return\r\n    }\r\n\r\n    let safeInfo: Partial<SafeRecordProps> = {}\r\n    let remoteSafeInfo: SafeInfo | null = null\r\n\r\n    try {\r\n      remoteSafeInfo = await getSafeInfo(address)\r\n    } catch (err) {\r\n      err.log()\r\n    }\r\n\r\n    const state = store.getState()\r\n    const chainId = currentChainId(state)\r\n\r\n    // If the network has changed while the safe was being loaded,\r\n    // ignore the result\r\n    if (remoteSafeInfo?.chainId !== chainId) {\r\n      return\r\n    }\r\n\r\n    // remote (client-gateway)\r\n    if (remoteSafeInfo) {\r\n      safeInfo = await extractRemoteSafeInfo(remoteSafeInfo)\r\n\r\n      // If these polling timestamps have changed, fetch again\r\n      const { collectiblesTag, txQueuedTag, txHistoryTag } = currentSafeWithNames(state)\r\n\r\n      const shouldUpdateCollectibles = collectiblesTag !== safeInfo.collectiblesTag\r\n      const shouldUpdateTxHistory = txHistoryTag !== safeInfo.txHistoryTag\r\n      const shouldUpdateTxQueued = txQueuedTag !== safeInfo.txQueuedTag\r\n\r\n      if (shouldUpdateCollectibles || isInitialLoad) {\r\n        dispatch(fetchCollectibles(safeAddress))\r\n      }\r\n\r\n      if (shouldUpdateTxHistory || shouldUpdateTxQueued || isInitialLoad) {\r\n        dispatch(fetchTransactions(chainId, safeAddress))\r\n      }\r\n    }\r\n\r\n    const owners = buildSafeOwners(remoteSafeInfo?.owners)\r\n\r\n    return dispatch(updateSafe({ address, ...safeInfo, owners }))\r\n  }\r\n","import { ReactElement } from 'react'\r\nimport Button from 'src/components/layout/Button'\r\nimport { _getChainId } from 'src/config'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport onboard from 'src/logic/wallets/onboard'\r\nimport { shouldSwitchNetwork, switchNetwork } from 'src/logic/wallets/utils/network'\r\n\r\nconst checkWallet = async (): Promise<boolean> => {\r\n  if (shouldSwitchNetwork()) {\r\n    switchNetwork(onboard().getState().wallet, _getChainId()).catch((e) => e.log())\r\n  }\r\n\r\n  return await onboard().walletCheck()\r\n}\r\n\r\nexport const onboardUser = async (): Promise<boolean> => {\r\n  // before calling walletSelect you want to check if web3 has been instantiated\r\n  // which indicates that a wallet has already been selected\r\n  // and web3 has been instantiated with that provider\r\n  const web3 = getWeb3()\r\n  const walletSelected = web3 ? true : await onboard().walletSelect()\r\n  return walletSelected && checkWallet()\r\n}\r\n\r\nexport const onConnectButtonClick = async (): Promise<void> => {\r\n  const walletSelected = await onboard().walletSelect()\r\n\r\n  // perform wallet checks only if user selected a wallet\r\n  if (walletSelected) {\r\n    await checkWallet()\r\n  }\r\n}\r\n\r\nconst ConnectButton = (props: { 'data-testid': string }): ReactElement => (\r\n  <Button color=\"primary\" minWidth={240} onClick={onConnectButtonClick} variant=\"contained\" {...props}>\r\n    Connect\r\n  </Button>\r\n)\r\n\r\nexport default ConnectButton\r\n","import { TokenType } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { Record, RecordOf } from 'immutable'\r\n\r\nimport { BalanceRecord } from 'src/logic/tokens/store/actions/fetchSafeTokens'\r\n\r\nexport type TokenProps = {\r\n  address: string\r\n  name: string\r\n  symbol: string\r\n  decimals: number | string\r\n  logoUri: string | null\r\n  balance: BalanceRecord\r\n  type?: TokenType\r\n}\r\n\r\nexport const makeToken = Record<TokenProps>({\r\n  address: '',\r\n  name: '',\r\n  symbol: '',\r\n  decimals: 0,\r\n  logoUri: '',\r\n  balance: {\r\n    fiatBalance: '0',\r\n    tokenBalance: '0',\r\n  },\r\n})\r\n// balance is only set in extendedSafeTokensSelector when we display user's token balances\r\n\r\nexport type Token = RecordOf<TokenProps>\r\n","import { AppReduxState } from 'src/store'\r\nimport { CURRENCY_REDUCER_ID, CurrencyValuesState } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const currencyValuesSelector = (state: AppReduxState): CurrencyValuesState => state[CURRENCY_REDUCER_ID]\r\n\r\nexport const currentCurrencySelector = (state: AppReduxState): string => {\r\n  return state[CURRENCY_REDUCER_ID].selectedCurrency\r\n}\r\n\r\nexport const availableCurrenciesSelector = (state: AppReduxState): string[] => {\r\n  return state[CURRENCY_REDUCER_ID].availableCurrencies\r\n}\r\n","import { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { AbstractProvider } from 'web3-core/types'\r\nimport { adjustV } from './utils'\r\n\r\nconst ETH_SIGN_NOT_SUPPORTED_ERROR_MSG = 'ETH_SIGN_NOT_SUPPORTED'\r\n\r\nexport type EthSignerArgs = {\r\n  safeTxHash: string\r\n  sender: string\r\n}\r\n\r\nexport const ethSigner = async ({ safeTxHash, sender }: EthSignerArgs): Promise<string> => {\r\n  const web3 = getWeb3()\r\n\r\n  return new Promise(function (resolve, reject) {\r\n    const provider = web3.currentProvider as AbstractProvider\r\n    provider.sendAsync(\r\n      {\r\n        jsonrpc: '2.0',\r\n        method: 'eth_sign',\r\n        params: [sender, safeTxHash],\r\n        id: new Date().getTime(),\r\n      },\r\n      async function (err, signature) {\r\n        if (err) {\r\n          return reject(err)\r\n        }\r\n\r\n        if (signature?.result == null) {\r\n          reject(new Error(ETH_SIGN_NOT_SUPPORTED_ERROR_MSG))\r\n          return\r\n        }\r\n\r\n        const sig = adjustV('eth_sign', signature.result, safeTxHash, sender)\r\n\r\n        resolve(sig.replace(EMPTY_DATA, ''))\r\n      },\r\n    )\r\n  })\r\n}\r\n","import semverSatisfies from 'semver/functions/satisfies'\r\n\r\nimport { isKeystoneError, METAMASK_REJECT_CONFIRM_TX_ERROR_CODE } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { getEIP712Signer, SigningTxArgs } from './EIP712Signer'\r\nimport { ethSigner, EthSignerArgs } from './ethSigner'\r\n\r\n// 1. we try to sign via EIP-712 if user's wallet supports it\r\n// 2. If not, try to use eth_sign (Safe version has to be >1.1.1)\r\n// If eth_sign, doesn't work continue with the regular flow (on-chain signatures, more in createTransaction.ts)\r\n\r\nconst SIGNERS = {\r\n  EIP712_V3: getEIP712Signer('v3'),\r\n  EIP712_V4: getEIP712Signer('v4'),\r\n  EIP712: getEIP712Signer(),\r\n  ETH_SIGN: ethSigner,\r\n}\r\n\r\nexport const SAFE_VERSION_FOR_OFF_CHAIN_SIGNATURES = '>=1.0.0'\r\n\r\n// hardware wallets support eth_sign only\r\n// eth_sign is only supported by safes >= 1.1.0\r\nconst getSupportedSigners = (isHW: boolean, safeVersion: string) => {\r\n  const safeSupportsEthSigner = semverSatisfies(safeVersion, '>=1.1.0')\r\n\r\n  const signers: typeof SIGNERS[keyof typeof SIGNERS][] = isHW\r\n    ? []\r\n    : [SIGNERS.EIP712_V3, SIGNERS.EIP712_V4, SIGNERS.EIP712]\r\n\r\n  if (safeSupportsEthSigner) {\r\n    signers.push(SIGNERS.ETH_SIGN)\r\n  }\r\n\r\n  return signers\r\n}\r\n\r\nexport const tryOffChainSigning = async (\r\n  safeTxHash: string,\r\n  txArgs: Omit<SigningTxArgs & EthSignerArgs, 'safeVersion' | 'safeTxHash'>,\r\n  isHW: boolean,\r\n  safeVersion: string,\r\n): Promise<string | undefined> => {\r\n  let signature\r\n\r\n  const signerByWallet = getSupportedSigners(isHW, safeVersion)\r\n  for (const signingFunc of signerByWallet) {\r\n    try {\r\n      signature = await signingFunc({ ...txArgs, safeTxHash, safeVersion })\r\n\r\n      break\r\n    } catch (err) {\r\n      if (err.code === METAMASK_REJECT_CONFIRM_TX_ERROR_CODE) {\r\n        throw err\r\n      }\r\n      if (isKeystoneError(err)) {\r\n        throw err\r\n      }\r\n    }\r\n  }\r\n\r\n  return signature\r\n}\r\n","import { TransactionListItem, Transaction, MultisigExecutionInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { getNotificationsFromTxType } from 'src/logic/notifications'\r\nimport { isTransactionSummary, LocalTransactionStatus } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { HistoryPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { SafesMap } from 'src/logic/safe/store/reducer/types/safe'\r\nimport { Notification } from 'src/logic/notifications/notificationTypes'\r\n\r\nlet nonce: number | undefined\r\n\r\nexport const setNonce = (newNonce: typeof nonce): void => {\r\n  nonce = newNonce\r\n}\r\n\r\nexport const getNotification = (\r\n  { safeAddress, values }: HistoryPayload,\r\n  userAddress: string,\r\n  safes: SafesMap,\r\n): undefined | Notification => {\r\n  const currentSafe = safes.get(safeAddress)\r\n\r\n  // no notification if not in the current safe or not connected\r\n  if (!currentSafe || !userAddress) {\r\n    return\r\n  }\r\n\r\n  // if we have a nonce, then we have a tx that is about to be executed\r\n  if (nonce !== undefined) {\r\n    const executedTx = values\r\n      .filter(isTransactionSummary)\r\n      .map((item: TransactionListItem) => (item as Transaction).transaction)\r\n      .find((transaction) => (transaction.executionInfo as MultisigExecutionInfo)?.nonce === nonce)\r\n\r\n    // transaction that was pending, was moved into history\r\n    // that is: it was executed\r\n    if (executedTx !== undefined) {\r\n      const notificationsQueue = getNotificationsFromTxType(TX_NOTIFICATION_TYPES.STANDARD_TX)\r\n      const notification =\r\n        executedTx.txStatus === LocalTransactionStatus.FAILED\r\n          ? notificationsQueue.afterExecutionError\r\n          : notificationsQueue.afterExecution.noMoreConfirmationsNeeded\r\n\r\n      // reset nonce value\r\n      setNonce(undefined)\r\n\r\n      return notification\r\n    }\r\n  }\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const REMOVE_SAFE = 'REMOVE_SAFE'\r\n\r\nconst removeSafe = createAction(REMOVE_SAFE)\r\n\r\nexport default removeSafe\r\n","import BigNumber from 'bignumber.js'\r\nimport { Dispatch } from 'redux'\r\n\r\nimport { fetchTokenCurrenciesBalances, TokenBalance } from 'src/logic/safe/api/fetchTokenCurrenciesBalances'\r\nimport { addTokens } from 'src/logic/tokens/store/actions/addTokens'\r\nimport { makeToken, Token } from 'src/logic/tokens/store/model/token'\r\nimport { updateSafe } from 'src/logic/safe/store/actions/updateSafe'\r\nimport { AppReduxState } from 'src/store'\r\nimport { humanReadableValue } from 'src/logic/tokens/utils/humanReadableValue'\r\nimport { currentSafe } from 'src/logic/safe/store/selectors'\r\nimport { currentCurrencySelector } from 'src/logic/currencyValues/store/selectors'\r\nimport { ZERO_ADDRESS, sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { SafeBalanceResponse } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nexport type BalanceRecord = {\r\n  tokenAddress?: string\r\n  tokenBalance: string\r\n  fiatBalance?: string\r\n}\r\n\r\ninterface ExtractedData {\r\n  balances: Array<BalanceRecord>\r\n  ethBalance: string\r\n  tokens: Array<Token>\r\n}\r\n\r\nconst extractDataFromResult = (\r\n  acc: ExtractedData,\r\n  { balance, fiatBalance, tokenInfo }: TokenBalance,\r\n): ExtractedData => {\r\n  const { address, decimals } = tokenInfo\r\n\r\n  acc.balances.push({\r\n    tokenAddress: address,\r\n    fiatBalance,\r\n    tokenBalance: humanReadableValue(balance, Number(decimals)),\r\n  })\r\n\r\n  // Extract network token balance from backend balances\r\n  if (sameAddress(address, ZERO_ADDRESS)) {\r\n    acc.ethBalance = humanReadableValue(balance, Number(decimals))\r\n  } else {\r\n    acc.tokens.push(makeToken({ ...tokenInfo }))\r\n  }\r\n\r\n  return acc\r\n}\r\n\r\nexport const fetchSafeTokens =\r\n  (safeAddress: string, currency?: string) =>\r\n  async (dispatch: Dispatch, getState: () => AppReduxState): Promise<void> => {\r\n    const state = getState()\r\n    const safe = currentSafe(state)\r\n\r\n    if (!safe) {\r\n      return\r\n    }\r\n    const selectedCurrency = currency ?? currentCurrencySelector(state)\r\n\r\n    let tokenCurrenciesBalances: SafeBalanceResponse\r\n    try {\r\n      tokenCurrenciesBalances = await fetchTokenCurrenciesBalances({\r\n        safeAddress,\r\n        selectedCurrency,\r\n      })\r\n    } catch (e) {\r\n      logError(Errors._601, e.message)\r\n      return\r\n    }\r\n\r\n    const { balances, ethBalance, tokens } = tokenCurrenciesBalances.items.reduce<ExtractedData>(\r\n      extractDataFromResult,\r\n      {\r\n        balances: [],\r\n        ethBalance: '0',\r\n        tokens: [],\r\n      },\r\n    )\r\n\r\n    dispatch(\r\n      updateSafe({\r\n        address: safeAddress,\r\n        balances,\r\n        ethBalance,\r\n        totalFiatBalance: new BigNumber(tokenCurrenciesBalances.fiatTotal).toFixed(2),\r\n      }),\r\n    )\r\n    dispatch(addTokens(tokens))\r\n  }\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const SET_LATEST_MASTER_CONTRACT_VERSION = 'SET_LATEST_MASTER_CONTRACT_VERSION'\r\n\r\nconst setLatestMasterContractVersion = createAction(SET_LATEST_MASTER_CONTRACT_VERSION)\r\n\r\nexport default setLatestMasterContractVersion\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const CLEAR_SAFE_LIST = 'CLEAR_SAFE_LIST'\r\n\r\nexport const clearSafeList = createAction(CLEAR_SAFE_LIST)\r\n","import { sameString } from 'src/utils/strings'\r\nimport { bufferToHex, ecrecover, pubToAddress } from 'ethereumjs-util'\r\n\r\nexport const isTxHashSignedWithPrefix = (txHash: string, signature: string, ownerAddress: string): boolean => {\r\n  let hasPrefix\r\n  try {\r\n    const rsvSig = {\r\n      r: Buffer.from(signature.slice(2, 66), 'hex'),\r\n      s: Buffer.from(signature.slice(66, 130), 'hex'),\r\n      v: parseInt(signature.slice(130, 132), 16),\r\n    }\r\n    const recoveredData = ecrecover(Buffer.from(txHash.slice(2), 'hex'), rsvSig.v, rsvSig.r, rsvSig.s)\r\n    const recoveredAddress = bufferToHex(pubToAddress(recoveredData))\r\n    hasPrefix = !sameString(recoveredAddress, ownerAddress)\r\n  } catch (e) {\r\n    hasPrefix = true\r\n  }\r\n  return hasPrefix\r\n}\r\n\r\ntype AdjustVOverload = {\r\n  (signingMethod: 'eth_signTypedData', signature: string): string\r\n  (signingMethod: 'eth_sign', signature: string, safeTxHash: string, sender: string): string\r\n}\r\n\r\nexport const adjustV: AdjustVOverload = (\r\n  signingMethod: 'eth_sign' | 'eth_signTypedData',\r\n  signature: string,\r\n  safeTxHash?: string,\r\n  sender?: string,\r\n): string => {\r\n  const MIN_VALID_V_VALUE = 27\r\n  let sigV = parseInt(signature.slice(-2), 16)\r\n\r\n  if (signingMethod === 'eth_sign') {\r\n    /* \r\n      Usually returned V (last 1 byte) is 27 or 28 (valid ethereum value)\r\n      Metamask with ledger returns v = 01, this is not valid for ethereum\r\n      In case V = 0 or 1 we add it to 27 or 28\r\n      Adding 4 is required if signed message was prefixed with \"\\x19Ethereum Signed Message:\\n32\"\r\n      Some wallets do that, some wallets don't, V > 30 is used by contracts to differentiate between prefixed and non-prefixed messages\r\n      https://github.com/gnosis/safe-contracts/blob/main/contracts/GnosisSafe.sol#L292\r\n    */\r\n    if (sigV < MIN_VALID_V_VALUE) {\r\n      sigV += MIN_VALID_V_VALUE\r\n    }\r\n    const adjusted = signature.slice(0, -2) + sigV.toString(16)\r\n    const signatureHasPrefix = isTxHashSignedWithPrefix(safeTxHash as string, adjusted, sender as string)\r\n    if (signatureHasPrefix) {\r\n      sigV += 4\r\n    }\r\n  }\r\n\r\n  if (signingMethod === 'eth_signTypedData') {\r\n    // Metamask with ledger returns V=0/1 here too, we need to adjust it to be ethereum's valid value (27 or 28)\r\n    if (sigV < MIN_VALID_V_VALUE) {\r\n      sigV += MIN_VALID_V_VALUE\r\n    }\r\n  }\r\n\r\n  return signature.slice(0, -2) + sigV.toString(16)\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const LOAD_CURRENT_SESSION = 'LOAD_CURRENT_SESSION'\r\n\r\nconst loadCurrentSession = createAction(LOAD_CURRENT_SESSION)\r\n\r\nexport default loadCurrentSession\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const UPDATE_VIEWED_SAFES = 'UPDATE_VIEWED_SAFES'\r\n\r\nconst updateViewedSafes = createAction(UPDATE_VIEWED_SAFES)\r\n\r\nexport default updateViewedSafes\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const CLEAR_CURRENT_SESSION = 'CLEAR_CURRENT_SESSION'\r\n\r\nexport const clearCurrentSession = createAction(CLEAR_CURRENT_SESSION)\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const REMOVE_SNACKBAR = 'REMOVE_SNACKBAR'\r\n\r\nconst removeSnackbar = createAction(REMOVE_SNACKBAR)\r\n\r\nexport default removeSnackbar\r\n","import { Action } from 'redux'\r\n\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types'\r\nimport { store as reduxStore } from 'src/store'\r\nimport session from 'src/utils/storage/session'\r\nimport { UPDATE_TRANSACTION_STATUS } from '../actions/updateTransactionStatus'\r\nimport { localStatuses } from '../selectors/txStatus'\r\n\r\n// Save 'local statuses' to sessionStorage\r\nexport const LOCAL_TRANSACTIONS_STATUSES_KEY = 'localTxStatuses'\r\nexport const localTransactionsMiddleware =\r\n  ({ getState }: typeof reduxStore) =>\r\n  (next: Dispatch) =>\r\n  async (action: Action<typeof UPDATE_TRANSACTION_STATUS>): Promise<Action<'UPDATE_TRANSACTION_STATUS'>> => {\r\n    const handledAction = next(action)\r\n\r\n    switch (action.type) {\r\n      case UPDATE_TRANSACTION_STATUS: {\r\n        const state = getState()\r\n        const localTxStatuses = localStatuses(state)\r\n        session.setItem(LOCAL_TRANSACTIONS_STATUSES_KEY, localTxStatuses)\r\n        break\r\n      }\r\n      default:\r\n        break\r\n    }\r\n\r\n    return handledAction\r\n  }\r\n","import { createAction } from 'redux-actions'\r\n\r\nexport const ADD_TOKENS = 'ADD_TOKENS'\r\n\r\nexport const addTokens = createAction(ADD_TOKENS, (tokens) => ({\r\n  tokens,\r\n}))\r\n","import closeSnackbar from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { getProviderInfo, getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { fetchProvider } from 'src/logic/wallets/store/actions'\r\nimport { ADD_PROVIDER } from 'src/logic/wallets/store/actions/addProvider'\r\nimport { REMOVE_PROVIDER } from 'src/logic/wallets/store/actions/removeProvider'\r\n\r\nimport { loadFromStorage, removeFromStorage, saveToStorage } from 'src/utils/storage'\r\n\r\nconst watchedActions = [ADD_PROVIDER, REMOVE_PROVIDER]\r\n\r\nconst LAST_USED_PROVIDER_KEY = 'LAST_USED_PROVIDER'\r\n\r\nexport const loadLastUsedProvider = async (): Promise<string | undefined> => {\r\n  const lastUsedProvider = await loadFromStorage<string>(LAST_USED_PROVIDER_KEY)\r\n\r\n  return lastUsedProvider\r\n}\r\n\r\nlet watcherInterval\r\nconst providerWatcherMware = (store) => (next) => async (action) => {\r\n  const handledAction = next(action)\r\n\r\n  if (watchedActions.includes(action.type)) {\r\n    switch (action.type) {\r\n      case ADD_PROVIDER: {\r\n        const currentProviderProps = action.payload.toJS()\r\n\r\n        if (watcherInterval) {\r\n          clearInterval(watcherInterval)\r\n        }\r\n\r\n        saveToStorage(LAST_USED_PROVIDER_KEY, currentProviderProps.name)\r\n\r\n        watcherInterval = setInterval(async () => {\r\n          const web3 = getWeb3()\r\n          const providerInfo = await getProviderInfo(web3)\r\n\r\n          const networkChanged = currentProviderProps.network !== providerInfo.network\r\n\r\n          if (networkChanged) {\r\n            store.dispatch(closeSnackbar({ dismissAll: true }))\r\n          }\r\n\r\n          if (currentProviderProps.account !== providerInfo.account || networkChanged) {\r\n            store.dispatch(fetchProvider(currentProviderProps.name))\r\n          }\r\n        }, 2000)\r\n\r\n        break\r\n      }\r\n      case REMOVE_PROVIDER:\r\n        clearInterval(watcherInterval)\r\n        if (!action.payload?.keepStorageKey) {\r\n          removeFromStorage(LAST_USED_PROVIDER_KEY)\r\n        }\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  return handledAction\r\n}\r\n\r\nexport default providerWatcherMware\r\n","import { createAction } from 'redux-actions'\r\nimport { AvailableCurrenciesPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const SET_AVAILABLE_CURRENCIES = 'SET_AVAILABLE_CURRENCIES'\r\n\r\nexport const setAvailableCurrencies = createAction<AvailableCurrenciesPayload>(SET_AVAILABLE_CURRENCIES)\r\n","import { Dispatch } from 'redux'\r\n\r\nimport loadCurrentSession from 'src/logic/currentSession/store/actions/loadCurrentSession'\r\nimport { getCurrentSessionFromStorage } from 'src/logic/currentSession/utils'\r\n\r\nconst loadCurrentSessionFromStorage =\r\n  () =>\r\n  (dispatch: Dispatch): void => {\r\n    const currentSession = getCurrentSessionFromStorage()\r\n\r\n    dispatch(loadCurrentSession(currentSession))\r\n  }\r\n\r\nexport default loadCurrentSessionFromStorage\r\n","import { Dispatch } from 'redux'\r\nimport { getLocalSafes } from 'src/logic/safe/utils'\r\nimport { buildSafe } from 'src/logic/safe/store/reducer/safe'\r\nimport { addOrUpdateSafe } from './addOrUpdateSafe'\r\n\r\nconst loadSafesFromStorage =\r\n  () =>\r\n  (dispatch: Dispatch): void => {\r\n    const safes = getLocalSafes()\r\n\r\n    if (safes) {\r\n      safes.forEach((safeProps) => {\r\n        dispatch(addOrUpdateSafe(buildSafe(safeProps)))\r\n      })\r\n    }\r\n  }\r\n\r\nexport default loadSafesFromStorage\r\n","import { List } from 'immutable'\r\nimport { SafeRecord } from 'src/logic/safe/store/models/safe'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\r\n\r\nexport const sameAddress = (firstAddress: string | undefined, secondAddress: string | undefined): boolean => {\r\n  return sameString(firstAddress, secondAddress)\r\n}\r\n\r\nexport const isEmptyAddress = (address: string | undefined): boolean => {\r\n  if (!address) return true\r\n  return sameAddress(address, EMPTY_DATA) || sameAddress(address, ZERO_ADDRESS)\r\n}\r\n\r\nexport const shortVersionOf = (value: string, cut: number): string => {\r\n  if (!value) {\r\n    return 'Unknown'\r\n  }\r\n\r\n  const final = value.length - cut\r\n  if (value.length <= cut) {\r\n    return value\r\n  }\r\n\r\n  return `${value.substring(0, cut)}...${value.substring(final)}`\r\n}\r\n\r\nexport const isUserAnOwner = (safe: SafeRecord, userAccount: string): boolean => {\r\n  if (!safe) {\r\n    return false\r\n  }\r\n\r\n  if (!userAccount) {\r\n    return false\r\n  }\r\n\r\n  const { owners } = safe\r\n  if (!owners) {\r\n    return false\r\n  }\r\n\r\n  return owners.find((address) => sameAddress(address, userAccount)) !== undefined\r\n}\r\n\r\nexport const isUserAnOwnerOfAnySafe = (safes: List<SafeRecord> | SafeRecord[], userAccount: string): boolean =>\r\n  safes.some((safe: SafeRecord) => isUserAnOwner(safe, userAccount))\r\n\r\nexport const isValidEnsName = (name: string): boolean => /^([\\w-]+\\.)+(eth|test|xyz|luxe|ewc)$/.test(name)\r\n\r\nexport const isValidCryptoDomainName = (name: string): boolean => /^([\\w-]+\\.)+(crypto)$/.test(name)\r\n","import { TypedDataUtils } from 'eth-sig-util'\r\n\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { getEip712MessageTypes, generateTypedDataFrom } from 'src/logic/safe/transactions/offchainSigner/EIP712Signer'\r\n\r\nexport const generateSafeTxHash = async (safeAddress: string, safeVersion: string, txArgs: TxArgs): Promise<string> => {\r\n  const typedData = await generateTypedDataFrom({ safeAddress, safeVersion, ...txArgs })\r\n\r\n  const messageTypes = getEip712MessageTypes(safeVersion)\r\n\r\n  return `0x${TypedDataUtils.sign<typeof messageTypes>(typedData).toString('hex')}`\r\n}\r\n","import { Operation, TransactionDetails } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { AnyAction } from 'redux'\r\nimport { ThunkAction } from 'redux-thunk'\r\n\r\nimport { onboardUser } from 'src/components/ConnectButton'\r\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\r\nimport { getNotificationsFromTxType, NOTIFICATIONS } from 'src/logic/notifications'\r\nimport {\r\n  getApprovalTransaction,\r\n  getExecutionTransaction,\r\n  saveTxToHistory,\r\n  tryOffChainSigning,\r\n} from 'src/logic/safe/transactions'\r\nimport { estimateSafeTxGas, getGasParam } from 'src/logic/safe/transactions/gas'\r\nimport * as aboutToExecuteTx from 'src/logic/safe/utils/aboutToExecuteTx'\r\nimport { currentSafeCurrentVersion } from 'src/logic/safe/store/selectors'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { EMPTY_DATA } from 'src/logic/wallets/ethTransactions'\r\nimport { providerSelector } from 'src/logic/wallets/store/selectors'\r\nimport enqueueSnackbar from 'src/logic/notifications/store/actions/enqueueSnackbar'\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { generateSafeTxHash } from 'src/logic/safe/store/actions/transactions/utils/transactionHelpers'\r\nimport { shouldExecuteTransaction } from 'src/logic/safe/store/actions/utils'\r\nimport fetchTransactions from './transactions/fetchTransactions'\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { PayableTx } from 'src/types/contracts/types.d'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Dispatch, DispatchReturn } from './types'\r\nimport { checkIfOffChainSignatureIsPossible, getPreValidatedSignatures } from 'src/logic/safe/safeTxSigner'\r\nimport { TxParameters } from 'src/routes/safe/container/hooks/useTransactionParameters'\r\nimport { isTxPendingError } from 'src/logic/wallets/getWeb3'\r\nimport { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { extractShortChainName, history, SAFE_ROUTES } from 'src/routes/routes'\r\nimport { getPrefixedSafeAddressSlug, SAFE_ADDRESS_SLUG, TRANSACTION_ID_SLUG } from 'src/routes/routes'\r\nimport { generatePath } from 'react-router-dom'\r\nimport { getContractErrorMessage } from 'src/logic/contracts/safeContractErrors'\r\nimport { getLastTransaction } from '../selectors/gatewayTransactions'\r\nimport { getRecommendedNonce } from '../../api/fetchSafeTxGasEstimation'\r\nimport { isMultiSigExecutionDetails, LocalTransactionStatus } from '../models/types/gateway.d'\r\nimport { updateTransactionStatus } from './updateTransactionStatus'\r\n\r\nexport interface CreateTransactionArgs {\r\n  navigateToTransactionsTab?: boolean\r\n  notifiedTransaction: string\r\n  operation?: number\r\n  origin?: string | null\r\n  safeAddress: string\r\n  to: string\r\n  txData?: string\r\n  txNonce?: number | string\r\n  valueInWei: string\r\n  safeTxGas?: string\r\n  ethParameters?: Pick<TxParameters, 'ethNonce' | 'ethGasLimit' | 'ethGasPriceInGWei'>\r\n  delayExecution?: boolean\r\n}\r\n\r\ntype CreateTransactionAction = ThunkAction<Promise<void | string>, AppReduxState, DispatchReturn, AnyAction>\r\ntype ConfirmEventHandler = (safeTxHash: string) => void\r\ntype ErrorEventHandler = () => void\r\n\r\nexport const METAMASK_REJECT_CONFIRM_TX_ERROR_CODE = 4001\r\n\r\nexport const isKeystoneError = (err: Error): boolean => {\r\n  return err.message.startsWith('#ktek_error')\r\n}\r\n\r\nconst navigateToTx = (safeAddress: string, txDetails: TransactionDetails) => {\r\n  if (!isMultiSigExecutionDetails(txDetails.detailedExecutionInfo)) {\r\n    return\r\n  }\r\n  const prefixedSafeAddress = getPrefixedSafeAddressSlug({ shortName: extractShortChainName(), safeAddress })\r\n  const txRoute = generatePath(SAFE_ROUTES.TRANSACTIONS_SINGULAR, {\r\n    [SAFE_ADDRESS_SLUG]: prefixedSafeAddress,\r\n    [TRANSACTION_ID_SLUG]: txDetails.detailedExecutionInfo.safeTxHash,\r\n  })\r\n\r\n  history.push(txRoute)\r\n}\r\n\r\nexport const createTransaction =\r\n  (\r\n    {\r\n      safeAddress,\r\n      to,\r\n      valueInWei,\r\n      txData = EMPTY_DATA,\r\n      notifiedTransaction,\r\n      txNonce,\r\n      operation = Operation.CALL,\r\n      navigateToTransactionsTab = true,\r\n      origin = null,\r\n      safeTxGas: safeTxGasArg,\r\n      ethParameters,\r\n      delayExecution = false,\r\n    }: CreateTransactionArgs,\r\n    onUserConfirm?: ConfirmEventHandler,\r\n    onError?: ErrorEventHandler,\r\n  ): CreateTransactionAction =>\r\n  async (dispatch: Dispatch, getState: () => AppReduxState): Promise<DispatchReturn> => {\r\n    const state = getState()\r\n\r\n    const ready = await onboardUser()\r\n    if (!ready) return\r\n\r\n    const { account: from, hardwareWallet, smartContractWallet } = providerSelector(state)\r\n    const safeVersion = currentSafeCurrentVersion(state) as string\r\n    const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n    const chainId = currentChainId(state)\r\n\r\n    const lastTx = getLastTransaction(state)\r\n    let nextNonce: string\r\n    try {\r\n      nextNonce = (await getRecommendedNonce(safeAddress)).toString()\r\n    } catch (e) {\r\n      logError(Errors._616, e.message)\r\n      nextNonce = await safeInstance.methods.nonce().call()\r\n    }\r\n    const nonce = txNonce !== undefined ? txNonce.toString() : nextNonce\r\n\r\n    const isExecution = !delayExecution && (await shouldExecuteTransaction(safeInstance, nonce, lastTx))\r\n    let safeTxGas = safeTxGasArg || '0'\r\n    try {\r\n      if (safeTxGasArg === undefined) {\r\n        safeTxGas = await estimateSafeTxGas(\r\n          { safeAddress, txData, txRecipient: to, txAmount: valueInWei, operation },\r\n          safeVersion,\r\n        )\r\n      }\r\n    } catch (error) {\r\n      safeTxGas = safeTxGasArg || '0'\r\n    }\r\n\r\n    const sigs = getPreValidatedSignatures(from)\r\n    const notificationsQueue = getNotificationsFromTxType(notifiedTransaction, origin)\r\n    const beforeExecutionKey = dispatch(enqueueSnackbar(notificationsQueue.beforeExecution))\r\n\r\n    let txHash = ''\r\n    const txArgs: TxArgs & { sender: string } = {\r\n      safeInstance,\r\n      to,\r\n      valueInWei,\r\n      data: txData,\r\n      operation,\r\n      nonce: Number.parseInt(nonce),\r\n      safeTxGas,\r\n      baseGas: '0',\r\n      gasPrice: '0',\r\n      gasToken: ZERO_ADDRESS,\r\n      refundReceiver: ZERO_ADDRESS,\r\n      sender: from,\r\n      sigs,\r\n    }\r\n\r\n    let safeTxHash = ''\r\n\r\n    try {\r\n      safeTxHash = await generateSafeTxHash(safeAddress, safeVersion, txArgs)\r\n\r\n      if (isExecution) {\r\n        dispatch(updateTransactionStatus({ safeTxHash, status: LocalTransactionStatus.PENDING }))\r\n      }\r\n\r\n      if (checkIfOffChainSignatureIsPossible(isExecution, smartContractWallet, safeVersion)) {\r\n        const signature = await tryOffChainSigning(safeTxHash, { ...txArgs, safeAddress }, hardwareWallet, safeVersion)\r\n\r\n        if (signature) {\r\n          dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n          const txDetails = await saveTxToHistory({ ...txArgs, signature, origin })\r\n\r\n          dispatch(fetchTransactions(chainId, safeAddress))\r\n          if (navigateToTransactionsTab) {\r\n            navigateToTx(safeAddress, txDetails)\r\n          }\r\n          onUserConfirm?.(safeTxHash)\r\n          return\r\n        }\r\n      }\r\n\r\n      const tx = isExecution ? getExecutionTransaction(txArgs) : getApprovalTransaction(safeInstance, safeTxHash)\r\n      const sendParams: PayableTx = {\r\n        from,\r\n        value: 0,\r\n        gas: ethParameters?.ethGasLimit,\r\n        [getGasParam()]: ethParameters?.ethGasPriceInGWei,\r\n        nonce: ethParameters?.ethNonce,\r\n      }\r\n\r\n      await tx\r\n        .send(sendParams)\r\n        .once('transactionHash', async (hash) => {\r\n          onUserConfirm?.(safeTxHash)\r\n\r\n          txHash = hash\r\n          dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n\r\n          try {\r\n            const txDetails = await saveTxToHistory({ ...txArgs, origin })\r\n\r\n            if (navigateToTransactionsTab) {\r\n              navigateToTx(safeAddress, txDetails)\r\n            }\r\n          } catch (err) {\r\n            logError(Errors._803, err.message)\r\n\r\n            // If we're just signing but not executing the tx, it's crucial that the request above succeeds\r\n            if (!isExecution) {\r\n              return\r\n            }\r\n          }\r\n\r\n          // store the pending transaction's nonce\r\n          isExecution && aboutToExecuteTx.setNonce(txArgs.nonce)\r\n\r\n          dispatch(fetchTransactions(chainId, safeAddress))\r\n        })\r\n        .then(async (receipt) => {\r\n          dispatch(fetchTransactions(chainId, safeAddress))\r\n          return receipt.transactionHash\r\n        })\r\n    } catch (err) {\r\n      logError(Errors._803, err.message)\r\n      onError?.()\r\n\r\n      dispatch(closeSnackbarAction({ key: beforeExecutionKey }))\r\n\r\n      if (isExecution && safeTxHash) {\r\n        dispatch(updateTransactionStatus({ safeTxHash, status: LocalTransactionStatus.PENDING_FAILED }))\r\n      }\r\n\r\n      const executeDataUsedSignatures = safeInstance.methods\r\n        .execTransaction(to, valueInWei, txData, operation, 0, 0, 0, ZERO_ADDRESS, ZERO_ADDRESS, sigs)\r\n        .encodeABI()\r\n\r\n      const contractErrorMessage = await getContractErrorMessage({\r\n        safeInstance,\r\n        from,\r\n        data: executeDataUsedSignatures,\r\n      })\r\n\r\n      if (contractErrorMessage) {\r\n        logError(Errors._803, contractErrorMessage)\r\n      }\r\n\r\n      const notification = isTxPendingError(err)\r\n        ? NOTIFICATIONS.TX_PENDING_MSG\r\n        : {\r\n            ...notificationsQueue.afterExecutionError,\r\n            ...(contractErrorMessage && {\r\n              message: `${notificationsQueue.afterExecutionError.message} - ${contractErrorMessage}`,\r\n            }),\r\n          }\r\n\r\n      dispatch(enqueueSnackbar({ key: err.code, ...notification }))\r\n    }\r\n\r\n    return txHash\r\n  }\r\n","export default __webpack_public_path__ + \"static/media/nft_icon.85f106fa.png\";","import { List } from 'immutable'\r\n\r\nimport { getGnosisSafeInstanceAt } from 'src/logic/contracts/safeContracts'\r\nimport { calculateGasOf } from 'src/logic/wallets/ethTransactions'\r\nimport { ZERO_ADDRESS } from 'src/logic/wallets/ethAddresses'\r\nimport { generateSignaturesFromTxConfirmations } from 'src/logic/safe/safeTxSigner'\r\nimport { fetchSafeTxGasEstimation } from 'src/logic/safe/api/fetchSafeTxGasEstimation'\r\nimport { Confirmation } from 'src/logic/safe/store/models/types/confirmation'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { hasFeature } from '../utils/safeVersion'\r\nimport { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\ntype SafeTxGasEstimationProps = {\r\n  safeAddress: string\r\n  txData: string\r\n  txRecipient: string\r\n  txAmount: string\r\n  operation: number\r\n}\r\n\r\nexport const estimateSafeTxGas = async (\r\n  { safeAddress, txData, txRecipient, txAmount, operation }: SafeTxGasEstimationProps,\r\n  safeVersion: string,\r\n): Promise<string> => {\r\n  if (hasFeature(FEATURES.SAFE_TX_GAS_OPTIONAL, safeVersion)) {\r\n    return '0'\r\n  }\r\n\r\n  try {\r\n    const { safeTxGas } = await fetchSafeTxGasEstimation({\r\n      safeAddress,\r\n      to: checksumAddress(txRecipient),\r\n      value: txAmount,\r\n      data: txData,\r\n      operation,\r\n    })\r\n\r\n    return safeTxGas\r\n  } catch (error) {\r\n    console.info('Error calculating tx gas estimation', error.message)\r\n    throw error\r\n  }\r\n}\r\n\r\ntype TransactionEstimationProps = {\r\n  txData: string\r\n  safeAddress: string\r\n  safeVersion: string\r\n  txRecipient: string\r\n  txConfirmations?: List<Confirmation>\r\n  txAmount: string\r\n  operation: number\r\n  gasPrice?: string\r\n  gasToken?: string\r\n  refundReceiver?: string // Address of receiver of gas payment (or 0 if tx.origin).\r\n  safeTxGas?: string\r\n  from?: string\r\n  isExecution: boolean\r\n  isOffChainSignature?: boolean\r\n  approvalAndExecution?: boolean\r\n}\r\n\r\nexport const estimateTransactionGasLimit = async ({\r\n  txData,\r\n  safeAddress,\r\n  safeVersion,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  operation,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  from,\r\n  isExecution,\r\n  isOffChainSignature = false,\r\n  approvalAndExecution,\r\n}: TransactionEstimationProps): Promise<number> => {\r\n  if (!from) {\r\n    throw new Error('No from provided for approving or execute transaction')\r\n  }\r\n\r\n  if (isExecution) {\r\n    return estimateGasForTransactionExecution({\r\n      safeAddress,\r\n      safeVersion,\r\n      txRecipient,\r\n      txConfirmations,\r\n      txAmount,\r\n      txData,\r\n      operation,\r\n      from,\r\n      gasPrice: gasPrice || '0',\r\n      gasToken: gasToken || ZERO_ADDRESS,\r\n      refundReceiver: refundReceiver || ZERO_ADDRESS,\r\n      safeTxGas: safeTxGas || '0',\r\n      approvalAndExecution,\r\n    })\r\n  }\r\n\r\n  return estimateGasForTransactionApproval({\r\n    safeAddress,\r\n    safeVersion,\r\n    operation,\r\n    txData,\r\n    txAmount,\r\n    txRecipient,\r\n    from,\r\n    isOffChainSignature,\r\n  })\r\n}\r\n\r\ntype TransactionExecutionEstimationProps = {\r\n  txData: string\r\n  safeAddress: string\r\n  safeVersion: string\r\n  txRecipient: string\r\n  txConfirmations?: List<Confirmation>\r\n  txAmount: string\r\n  operation: number\r\n  gasPrice: string\r\n  gasToken: string\r\n  gasLimit?: string\r\n  refundReceiver: string // Address of receiver of gas payment (or 0 if tx.origin).\r\n  safeTxGas: string\r\n  from: string\r\n  approvalAndExecution?: boolean\r\n}\r\n\r\nconst estimateGasForTransactionExecution = async ({\r\n  safeAddress,\r\n  safeVersion,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  approvalAndExecution,\r\n}: TransactionExecutionEstimationProps): Promise<number> => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n  // If it's approvalAndExecution we have to add a preapproved signature else we have all signatures\r\n  const sigs = generateSignaturesFromTxConfirmations(txConfirmations, approvalAndExecution ? from : undefined)\r\n\r\n  const estimationData = safeInstance.methods\r\n    .execTransaction(txRecipient, txAmount, txData, operation, safeTxGas, 0, gasPrice, gasToken, refundReceiver, sigs)\r\n    .encodeABI()\r\n\r\n  return calculateGasOf({\r\n    data: estimationData,\r\n    from,\r\n    to: safeAddress,\r\n  })\r\n}\r\n\r\nexport const checkTransactionExecution = async ({\r\n  safeAddress,\r\n  safeVersion,\r\n  txRecipient,\r\n  txConfirmations,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  gasPrice,\r\n  gasToken,\r\n  gasLimit,\r\n  refundReceiver,\r\n  safeTxGas,\r\n  approvalAndExecution,\r\n}: TransactionExecutionEstimationProps): Promise<boolean> => {\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n  // If it's approvalAndExecution we have to add a preapproved signature else we have all signatures\r\n  const sigs = generateSignaturesFromTxConfirmations(txConfirmations, approvalAndExecution ? from : undefined)\r\n\r\n  return safeInstance.methods\r\n    .execTransaction(txRecipient, txAmount, txData, operation, safeTxGas, 0, gasPrice, gasToken, refundReceiver, sigs)\r\n    .call({\r\n      from,\r\n      gas: gasLimit,\r\n    })\r\n    .catch(() => false)\r\n}\r\n\r\ntype TransactionApprovalEstimationProps = {\r\n  safeAddress: string\r\n  safeVersion: string\r\n  txRecipient: string\r\n  txAmount: string\r\n  txData: string\r\n  operation: number\r\n  from: string\r\n  isOffChainSignature: boolean\r\n}\r\n\r\nexport const estimateGasForTransactionApproval = async ({\r\n  safeAddress,\r\n  safeVersion,\r\n  txRecipient,\r\n  txAmount,\r\n  txData,\r\n  operation,\r\n  from,\r\n  isOffChainSignature,\r\n}: TransactionApprovalEstimationProps): Promise<number> => {\r\n  if (isOffChainSignature) {\r\n    return 0\r\n  }\r\n\r\n  const safeInstance = getGnosisSafeInstanceAt(safeAddress, safeVersion)\r\n\r\n  const nonce = await safeInstance.methods.nonce().call()\r\n  const txHash = await safeInstance.methods\r\n    .getTransactionHash(txRecipient, txAmount, txData, operation, 0, 0, 0, ZERO_ADDRESS, ZERO_ADDRESS, nonce)\r\n    .call({\r\n      from,\r\n    })\r\n  const approveTransactionTxData = safeInstance.methods.approveHash(txHash).encodeABI()\r\n  return calculateGasOf({\r\n    data: approveTransactionTxData,\r\n    from,\r\n    to: safeAddress,\r\n  })\r\n}\r\n\r\nexport const getGasParam = (): string => {\r\n  return hasFeature(FEATURES.EIP1559) ? 'maxFeePerGas' : 'gasPrice'\r\n}\r\n","import { getTransactionHistory, getTransactionQueue } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { _getChainId } from 'src/config'\r\nimport { HistoryGatewayResponse, QueuedGatewayResponse } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { Errors, CodedException } from 'src/logic/exceptions/CodedException'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\n/*************/\r\n/*  HISTORY  */\r\n/*************/\r\nconst historyPointers: { [chainId: string]: { [safeAddress: string]: { next?: string; previous?: string } } } = {}\r\n\r\n/**\r\n * Fetch next page if there is a next pointer for the safeAddress.\r\n * If the fetch was success, updates the pointers.\r\n * @param {string} safeAddress\r\n */\r\nexport const loadPagedHistoryTransactions = async (\r\n  safeAddress: string,\r\n): Promise<{ values: HistoryGatewayResponse['results']; next?: string } | undefined> => {\r\n  const chainId = _getChainId()\r\n  // if `historyPointers[safeAddress] is `undefined` it means `loadHistoryTransactions` wasn't called\r\n  // if `historyPointers[safeAddress].next is `null`, it means it reached the last page in gateway-client\r\n  if (!historyPointers[chainId][safeAddress]?.next) {\r\n    throw new CodedException(Errors._608)\r\n  }\r\n\r\n  try {\r\n    const { results, next, previous } = await getTransactionHistory(\r\n      GATEWAY_URL,\r\n      chainId,\r\n      checksumAddress(safeAddress),\r\n      historyPointers[chainId][safeAddress].next,\r\n    )\r\n\r\n    historyPointers[chainId][safeAddress] = { next, previous }\r\n\r\n    return { values: results, next: historyPointers[chainId][safeAddress].next }\r\n  } catch (e) {\r\n    throw new CodedException(Errors._602, e.message)\r\n  }\r\n}\r\n\r\nexport const loadHistoryTransactions = async (safeAddress: string): Promise<HistoryGatewayResponse['results']> => {\r\n  const chainId = _getChainId()\r\n  try {\r\n    const { results, next, previous } = await getTransactionHistory(GATEWAY_URL, chainId, checksumAddress(safeAddress))\r\n\r\n    if (!historyPointers[chainId]) {\r\n      historyPointers[chainId] = {}\r\n    }\r\n\r\n    if (!historyPointers[chainId][safeAddress]) {\r\n      historyPointers[chainId][safeAddress] = { next, previous }\r\n    }\r\n\r\n    return results\r\n  } catch (e) {\r\n    throw new CodedException(Errors._602, e.message)\r\n  }\r\n}\r\n\r\n/************/\r\n/*  QUEUED  */\r\n/************/\r\nconst queuedPointers: { [chainId: string]: { [safeAddress: string]: { next?: string; previous?: string } } } = {}\r\n\r\n/**\r\n * Fetch next page if there is a next pointer for the safeAddress.\r\n * If the fetch was success, updates the pointers.\r\n * @param {string} safeAddress\r\n */\r\nexport const loadPagedQueuedTransactions = async (\r\n  safeAddress: string,\r\n): Promise<{ values: QueuedGatewayResponse['results']; next?: string } | undefined> => {\r\n  const chainId = _getChainId()\r\n  // if `queuedPointers[safeAddress] is `undefined` it means `loadHistoryTransactions` wasn't called\r\n  // if `queuedPointers[safeAddress].next is `null`, it means it reached the last page in gateway-client\r\n  if (!queuedPointers[safeAddress]?.next) {\r\n    throw new CodedException(Errors._608)\r\n  }\r\n\r\n  try {\r\n    const { results, next, previous } = await getTransactionQueue(\r\n      GATEWAY_URL,\r\n      chainId,\r\n      checksumAddress(safeAddress),\r\n      queuedPointers[chainId][safeAddress].next,\r\n    )\r\n\r\n    queuedPointers[chainId][safeAddress] = { next, previous }\r\n\r\n    return { values: results, next: queuedPointers[chainId][safeAddress].next }\r\n  } catch (e) {\r\n    throw new CodedException(Errors._603, e.message)\r\n  }\r\n}\r\n\r\nexport const loadQueuedTransactions = async (safeAddress: string): Promise<QueuedGatewayResponse['results']> => {\r\n  const chainId = _getChainId()\r\n  try {\r\n    const { results, next, previous } = await getTransactionQueue(GATEWAY_URL, chainId, checksumAddress(safeAddress))\r\n\r\n    if (!queuedPointers[chainId]) {\r\n      queuedPointers[chainId] = {}\r\n    }\r\n\r\n    if (!queuedPointers[chainId][safeAddress] || queuedPointers[chainId][safeAddress].next === null) {\r\n      queuedPointers[chainId][safeAddress] = { next, previous }\r\n    }\r\n\r\n    return results\r\n  } catch (e) {\r\n    throw new CodedException(Errors._603, e.message)\r\n  }\r\n}\r\n","import { createSelector } from 'reselect'\r\n\r\nimport { AppReduxState } from 'src/store'\r\nimport { ChainId } from 'src/config/chain.d'\r\nimport { CONFIG_REDUCER_ID } from '../reducer'\r\nimport { ConfigState } from '../reducer/reducer.d'\r\n\r\nexport const configState = (state: AppReduxState): ConfigState => state[CONFIG_REDUCER_ID]\r\n\r\nexport const currentChainId = createSelector([configState], (config): ChainId => {\r\n  return config.chainId\r\n})\r\n","/**\r\n * When creating a new error type, please try to group them semantically\r\n * with the existing errors in the same hundred. For example, if it's\r\n * related to fetching data from the backend, add it to the 6xx errors.\r\n * This is not a hard requirement, just a useful convention.\r\n */\r\nenum ErrorCodes {\r\n  ___0 = '0: No such error code',\r\n  _100 = '100: Invalid input in the address field',\r\n  _101 = '101: Failed to resolve the address',\r\n  _102 = '102: Error getting an address checksum',\r\n  _200 = '200: Failed migrating to the address book v2',\r\n  _300 = '300: Error switching the wallet network',\r\n  _301 = '301: Error adding a new wallet network',\r\n  _600 = '600: Error fetching token list',\r\n  _601 = '601: Error fetching balances',\r\n  _602 = '602: Error fetching history txs',\r\n  _603 = '603: Error fetching queued txs',\r\n  _604 = '604: Error fetching collectibles',\r\n  _605 = '605: Safe not found',\r\n  _606 = '605: Error fetching safe version',\r\n  _607 = '607: Error fetching available currencies',\r\n  _608 = '608: No next page',\r\n  _609 = '609: Failed to retrieve SpendingLimits module information',\r\n  _610 = '610: Error fetching safes by owner',\r\n  _611 = '611: Error fetching gasPrice',\r\n  _612 = '612: Error estimating gas',\r\n  _613 = '613: Error fetching safe info',\r\n  _614 = '614: Error fetching transaction by id',\r\n  _615 = '615: Failed to retrieve last transaction from server',\r\n  _616 = '616: Failed to retrieve recommended nonce',\r\n  _700 = '700: Failed to read from local/session storage',\r\n  _701 = '701: Failed to write to local/session storage',\r\n  _702 = '702: Failed to remove from local/session storage',\r\n  _703 = '703: Error migrating localStorage',\r\n  _800 = '800: Safe creation tx failed',\r\n  _801 = '801: Failed to send a tx with a spending limit',\r\n  _802 = '802: Error submitting a transaction, safeAddress not found',\r\n  _803 = '803: Error creating a transaction',\r\n  _804 = '804: Error processing a transaction',\r\n  _805 = '805: TX monitor error',\r\n  _806 = '806: Failed to remove module',\r\n  _807 = '807: Failed to remove guard',\r\n  _808 = '808: Error adding a Safe owner',\r\n  _809 = '809: Error removing a Safe owner',\r\n  _810 = '810: Error replacing a Safe owner',\r\n  _811 = '811: Error calculating ERC721 transfer data for adding a Safe owner',\r\n  _812 = '812: Error calculating ERC721 transfer data for removing a Safe owner',\r\n  _813 = '813: Error calculating ERC721 transfer data for replacing a Safe owner',\r\n  _900 = '900: Error loading Safe App',\r\n  _901 = '901: Error processing Safe Apps SDK request',\r\n  _902 = '902: Error loading Safe Apps list',\r\n  _903 = '903: Error loading Safe App manifest',\r\n  _904 = '904: Error loading chains',\r\n}\r\n\r\nexport default ErrorCodes\r\n","import { useState, useCallback } from 'react'\r\n\r\nexport type ReturnValue = {\r\n  open: boolean\r\n  toggle: (e?: Event) => void\r\n  clickAway: () => void\r\n}\r\n\r\nexport const useStateHandler = (openInitialValue = false): ReturnValue => {\r\n  const [open, setOpen] = useState(openInitialValue)\r\n  const toggle = useCallback((e?: Event) => {\r\n    e?.stopPropagation()\r\n\r\n    setOpen((prevOpen) => !prevOpen)\r\n  }, [])\r\n  const clickAway = useCallback(() => setOpen(false), [])\r\n\r\n  return {\r\n    open,\r\n    toggle,\r\n    clickAway,\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"Paragraph_paragraph__uRRtN\",\"soft\":\"Paragraph_soft__2SqvC\",\"medium\":\"Paragraph_medium__19fuB\",\"dark\":\"Paragraph_dark__1VOI3\",\"fancy\":\"Paragraph_fancy__3pax4\",\"warning\":\"Paragraph_warning__9ZEmS\",\"primary\":\"Paragraph_primary__3av25\",\"secondary\":\"Paragraph_secondary__39vSx\",\"disabled\":\"Paragraph_disabled__3lL9Z\",\"error\":\"Paragraph_error__La4ha\",\"white\":\"Paragraph_white__vyls-\",\"capitalize\":\"Paragraph_capitalize__2xeVg\",\"lowercase\":\"Paragraph_lowercase__2X9p-\",\"uppercase\":\"Paragraph_uppercase__3UqJ_\",\"noMargin\":\"Paragraph_noMargin__2PK9B\",\"center\":\"Paragraph_center__sDlKJ\",\"left\":\"Paragraph_left__SU4qi\",\"right\":\"Paragraph_right__jQXOp\",\"xs\":\"Paragraph_xs__qEhwF\",\"sm\":\"Paragraph_sm__3zzcB\",\"md\":\"Paragraph_md__3_3Rm\",\"lg\":\"Paragraph_lg__2rrCw\",\"xl\":\"Paragraph_xl__nLMGb\",\"xxl\":\"Paragraph_xxl__2-xq0\",\"light\":\"Paragraph_light__snck7\",\"regular\":\"Paragraph_regular__Rmtcv\",\"bolder\":\"Paragraph_bolder__Rvcuq\",\"bold\":\"Paragraph_bold__2w54j\",\"dot\":\"Paragraph_dot__29anS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Img_img__1s_Th\",\"bordered\":\"Img_bordered__8E-Jr\",\"fullwidth\":\"Img_fullwidth__wwpEx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Row_row__2Sl2r\",\"grow\":\"Row_grow__2R9QM\",\"marginXs\":\"Row_marginXs__1DQIs\",\"marginSm\":\"Row_marginSm__1Dxbg\",\"marginMd\":\"Row_marginMd__38Y_K\",\"marginLg\":\"Row_marginLg__1ciej\",\"marginXl\":\"Row_marginXl__3YfAc\",\"alignStart\":\"Row_alignStart__3qXjS\",\"alignEnd\":\"Row_alignEnd__1G5zy\",\"alignCenter\":\"Row_alignCenter__1j-E-\"};","// https://github.com/gnosis/safe-contracts/blob/main/docs/error_codes.md\r\nexport enum CONTRACT_ERRORS {\r\n  // General init related\r\n  GS000 = 'Could not finish initialization',\r\n  GS001 = 'Threshold needs to be defined',\r\n\r\n  // General gas/ execution related\r\n  GS010 = 'Not enough gas to execute Safe transaction',\r\n  GS011 = 'Could not pay gas costs with ether',\r\n  GS012 = 'Could not pay gas costs with token',\r\n  GS013 = 'Safe transaction failed when gasPrice and safeTxGas were 0',\r\n\r\n  // General signature validation related\r\n  GS020 = 'Signatures data too short',\r\n  GS021 = 'Invalid contract signature location = inside static part',\r\n  GS022 = 'Invalid contract signature location = length not present',\r\n  GS023 = 'Invalid contract signature location = data not complete',\r\n  GS024 = 'Invalid contract signature provided',\r\n  GS025 = 'Hash has not been approved',\r\n  GS026 = 'Invalid owner provided',\r\n\r\n  // General auth related\r\n  GS030 = 'Only owners can approve a hash',\r\n  GS031 = 'Method can only be called from this contract',\r\n\r\n  // Module management related\r\n  GS100 = 'Modules have already been initialized',\r\n  GS101 = 'Invalid module address provided',\r\n  GS102 = 'Module has already been added',\r\n  GS103 = 'Invalid prevModule, module pair provided',\r\n  GS104 = 'Method can only be called from an enabled module',\r\n\r\n  // Owner management related\r\n  GS200 = 'Owners have already been setup',\r\n  GS201 = 'Threshold cannot exceed owner count',\r\n  GS202 = 'Threshold needs to be greater than 0',\r\n  GS203 = 'Invalid owner address provided',\r\n  GS204 = 'Address is already an owner',\r\n  GS205 = 'Invalid prevOwner, owner pair provided',\r\n\r\n  // Guard management related\r\n  GS300 = 'Guard does not implement IERC165',\r\n}\r\n\r\nexport const CONTRACT_ERROR_CODES = Object.keys(CONTRACT_ERRORS)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnLink\":\"ButtonLink_btnLink__2WnOR\",\"sm\":\"ButtonLink_sm__3pMwk\",\"md\":\"ButtonLink_md__3l1Xn\",\"lg\":\"ButtonLink_lg__PGdTe\",\"xl\":\"ButtonLink_xl__2OFno\",\"xxl\":\"ButtonLink_xxl__3Xtl9\",\"light\":\"ButtonLink_light__fNMD7\",\"regular\":\"ButtonLink_regular__35btj\",\"bolder\":\"ButtonLink_bolder__1f4bW\",\"bold\":\"ButtonLink_bold__2aGVi\",\"soft\":\"ButtonLink_soft__3bQsC\",\"medium\":\"ButtonLink_medium__1tMcN\",\"dark\":\"ButtonLink_dark__j9hrX\",\"fancy\":\"ButtonLink_fancy__2bx0p\",\"warning\":\"ButtonLink_warning__1Nawf\",\"primary\":\"ButtonLink_primary__czyv1\",\"secondary\":\"ButtonLink_secondary__hXr_u\",\"disabled\":\"ButtonLink_disabled__2fhMq\",\"error\":\"ButtonLink_error__HyiSr\",\"white\":\"ButtonLink_white__3dNz4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Link_link__2uQaF\",\"regular\":\"Link_regular__29hzt\",\"white\":\"Link_white__2TabU\",\"paddingXs\":\"Link_paddingXs__1JSjf\",\"paddingSm\":\"Link_paddingSm__33FCW\",\"paddingMd\":\"Link_paddingMd__3lOmk\"};","import memoize from 'lodash/memoize'\r\n\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { getShortName } from 'src/config'\r\nimport { isValidAddress } from 'src/utils/isValidAddress'\r\nimport { ADDRESS_BOOK_INVALID_NAMES, isValidAddressBookName } from 'src/logic/addressBook/utils'\r\nimport { FEATURES } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { isValidPrefix, parsePrefixedAddress } from 'src/utils/prefixedAddress'\r\nimport { hasFeature } from 'src/logic/safe/utils/safeVersion'\r\n\r\ntype ValidatorReturnType = string | undefined\r\nexport type GenericValidatorType = (...args: unknown[]) => ValidatorReturnType\r\ntype AsyncValidator = (...args: unknown[]) => Promise<ValidatorReturnType>\r\nexport type Validator = GenericValidatorType | AsyncValidator\r\n\r\nexport const required = (value?: string): ValidatorReturnType => {\r\n  const required = 'Required'\r\n\r\n  if (!value) {\r\n    return required\r\n  }\r\n\r\n  if (typeof value === 'string' && !value.trim().length) {\r\n    return required\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nexport const mustBeInteger = (value: string): ValidatorReturnType =>\r\n  !Number.isInteger(Number(value)) || value.includes('.') ? 'Must be an integer' : undefined\r\n\r\nexport const mustBeFloat = (value: string): ValidatorReturnType =>\r\n  value && Number.isNaN(Number(value)) ? 'Must be a number' : undefined\r\n\r\nconst regexQuery =\r\n  /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\r\nconst url = new RegExp(regexQuery)\r\nexport const mustBeUrl = (value: string): ValidatorReturnType => {\r\n  if (url.test(value)) {\r\n    return undefined\r\n  }\r\n\r\n  return 'Please, provide a valid url'\r\n}\r\n\r\nexport const minValue =\r\n  (min: number | string, inclusive = true) =>\r\n  (value: string): ValidatorReturnType => {\r\n    if (!value) {\r\n      return undefined\r\n    }\r\n\r\n    if (Number.parseFloat(value) > Number(min) || (inclusive && Number.parseFloat(value) >= Number(min))) {\r\n      return undefined\r\n    }\r\n\r\n    return `Should be greater than ${inclusive ? 'or equal to ' : ''}${min}`\r\n  }\r\n\r\nexport const maxValue =\r\n  (max: number | string) =>\r\n  (value: string): ValidatorReturnType => {\r\n    if (!max || parseFloat(value) <= parseFloat(max.toString())) {\r\n      return undefined\r\n    }\r\n\r\n    return `Maximum value is ${max}`\r\n  }\r\n\r\nexport const ok = (): undefined => undefined\r\n\r\nexport const mustBeHexData = (data: string): ValidatorReturnType => {\r\n  const isData = getWeb3().utils.isHexStrict(data)\r\n\r\n  if (!isData) {\r\n    return 'Has to be a valid strict hex data (it must start with 0x)'\r\n  }\r\n}\r\n\r\nexport const mustBeAddressHash = memoize((address: string): ValidatorReturnType => {\r\n  const errorMessage = 'Must be a valid address'\r\n  return isValidAddress(address) ? undefined : errorMessage\r\n})\r\n\r\nconst mustHaveValidPrefix = (prefix: string): ValidatorReturnType => {\r\n  if (!isValidPrefix(prefix)) {\r\n    return 'Wrong chain prefix'\r\n  }\r\n\r\n  if (prefix !== getShortName()) {\r\n    return 'The chain prefix must match the current network'\r\n  }\r\n}\r\n\r\nexport const mustBeEthereumAddress = (fullAddress: string): ValidatorReturnType => {\r\n  const errorMessage = 'Must be a valid address, ENS or Unstoppable domain'\r\n  const { address, prefix } = parsePrefixedAddress(fullAddress)\r\n\r\n  const prefixError = mustHaveValidPrefix(prefix)\r\n  if (prefixError) return prefixError\r\n\r\n  const result = mustBeAddressHash(address)\r\n  if (result !== undefined && hasFeature(FEATURES.DOMAIN_LOOKUP)) {\r\n    return errorMessage\r\n  }\r\n  return result\r\n}\r\n\r\nexport const mustBeEthereumContractAddress = memoize(async (fullAddress: string): Promise<ValidatorReturnType> => {\r\n  const { address } = parsePrefixedAddress(fullAddress)\r\n\r\n  const contractCode = await getWeb3().eth.getCode(address)\r\n\r\n  const errorMessage = `Must resolve to a valid smart contract address.`\r\n\r\n  return !contractCode || contractCode.replace('0x', '').replace(/0/g, '') === '' ? errorMessage : undefined\r\n})\r\n\r\nexport const minMaxLength =\r\n  (minLen: number, maxLen: number) =>\r\n  (value: string): ValidatorReturnType => {\r\n    const testValue = value || ''\r\n    return testValue.length >= +minLen && testValue.length <= +maxLen\r\n      ? undefined\r\n      : `Should be ${minLen} to ${maxLen} symbols`\r\n  }\r\n\r\nexport const minMaxDecimalsLength =\r\n  (minLen: number, maxLen: number) =>\r\n  (value: string): ValidatorReturnType => {\r\n    const decimals = value.split('.')[1] || '0'\r\n    const minMaxLengthErrMsg = minMaxLength(minLen, maxLen)(decimals)\r\n    return minMaxLengthErrMsg ? `Should be ${minLen} to ${maxLen} decimals` : undefined\r\n  }\r\n\r\nexport const ADDRESS_REPEATED_ERROR = 'Address already introduced'\r\nexport const OWNER_ADDRESS_IS_SAFE_ADDRESS_ERROR = 'Cannot use Safe itself as owner.'\r\nexport const THRESHOLD_ERROR = 'You cannot set more confirmations than owners'\r\n\r\nexport const uniqueAddress =\r\n  (addresses: string[] = []) =>\r\n  (address?: string): string | undefined => {\r\n    const addressExists = addresses.some((addressFromList) => sameAddress(addressFromList, address))\r\n    return addressExists ? ADDRESS_REPEATED_ERROR : undefined\r\n  }\r\n\r\nexport const addressIsNotCurrentSafe =\r\n  (safeAddress: string) =>\r\n  (address?: string): string | undefined =>\r\n    sameAddress(safeAddress, address) ? OWNER_ADDRESS_IS_SAFE_ADDRESS_ERROR : undefined\r\n\r\nexport const composeValidators =\r\n  (...validators: Validator[]) =>\r\n  (value: unknown): ValidatorReturnType =>\r\n    validators.reduce(\r\n      (error: string | undefined, validator: GenericValidatorType): ValidatorReturnType => error || validator(value),\r\n      undefined,\r\n    )\r\n\r\nexport const differentFrom =\r\n  (diffValue: number | string) =>\r\n  (value: string): ValidatorReturnType => {\r\n    if (value === diffValue.toString()) {\r\n      return `Value should be different than ${diffValue}`\r\n    }\r\n\r\n    return undefined\r\n  }\r\n\r\nexport const noErrorsOn = (name: string, errors: Record<string, unknown>): boolean => errors[name] === undefined\r\n\r\nexport const validAddressBookName = (name: string): string | undefined => {\r\n  const lengthError = minMaxLength(1, 50)(name)\r\n\r\n  if (lengthError === undefined) {\r\n    return isValidAddressBookName(name)\r\n      ? undefined\r\n      : `Name should not include: ${ADDRESS_BOOK_INVALID_NAMES.join(', ')}`\r\n  }\r\n\r\n  return lengthError\r\n}\r\n","import axios from 'axios'\r\nimport memoize from 'lodash/memoize'\r\n\r\nimport { getContentFromENS } from 'src/logic/wallets/getWeb3'\r\nimport appsIconSvg from 'src/assets/icons/apps.svg'\r\nimport { FETCH_STATUS } from 'src/utils/requests'\r\n\r\nimport { SafeApp } from './types'\r\n\r\nexport interface AppManifest {\r\n  name: string\r\n  iconPath: string\r\n  description: string\r\n  providedBy: string\r\n}\r\n\r\nexport const APPS_STORAGE_KEY = 'APPS_STORAGE_KEY'\r\nexport const PINNED_SAFE_APP_IDS = 'PINNED_SAFE_APP_IDS'\r\n\r\nconst removeLastTrailingSlash = (url: string): string => {\r\n  return url.replace(/\\/+$/, '')\r\n}\r\n\r\nexport const getAppInfoFromOrigin = (origin: string): { url: string; name: string } | null => {\r\n  try {\r\n    return JSON.parse(origin)\r\n  } catch (error) {\r\n    console.error(`Impossible to parse TX from origin: ${origin}`)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const isAppManifestValid = (appInfo: AppManifest): boolean =>\r\n  // `appInfo` exists and `name` exists\r\n  !!appInfo?.name &&\r\n  // if `name` exists is not 'unknown'\r\n  appInfo.name !== 'unknown' &&\r\n  // `description` exists\r\n  !!appInfo.description\r\n\r\nexport const getEmptySafeApp = (url = ''): SafeApp => {\r\n  return {\r\n    id: Math.random().toString(),\r\n    url,\r\n    name: 'unknown',\r\n    iconUrl: appsIconSvg,\r\n    description: '',\r\n    fetchStatus: FETCH_STATUS.LOADING,\r\n    chainIds: [],\r\n  }\r\n}\r\n\r\nexport const getAppInfoFromUrl = memoize(async (appUrl: string): Promise<SafeApp> => {\r\n  let res = {\r\n    ...getEmptySafeApp(),\r\n    error: true,\r\n    loadingStatus: FETCH_STATUS.ERROR,\r\n  }\r\n\r\n  if (!appUrl?.length) {\r\n    return res\r\n  }\r\n\r\n  res.url = appUrl.trim()\r\n  const noTrailingSlashUrl = removeLastTrailingSlash(res.url)\r\n\r\n  let appInfo: AppManifest | undefined\r\n  try {\r\n    const response = await axios.get<AppManifest>(`${noTrailingSlashUrl}/manifest.json`, { timeout: 5_000 })\r\n    appInfo = response.data\r\n  } catch (error) {\r\n    throw Error('Failed to fetch app manifest')\r\n  }\r\n\r\n  // verify imported app fulfil safe requirements\r\n  if (!appInfo || !isAppManifestValid(appInfo)) {\r\n    throw Error('App manifest does not fulfil the required structure.')\r\n  }\r\n\r\n  // the DB origin field has a limit of 100 characters\r\n  const originFieldSize = 200\r\n  const jsonDataLength = 20\r\n  const remainingSpace = originFieldSize - res.url.length - jsonDataLength\r\n\r\n  const appInfoData = {\r\n    name: appInfo.name,\r\n    iconPath: appInfo.iconPath,\r\n    description: appInfo.description,\r\n    providedBy: appInfo.providedBy,\r\n  }\r\n\r\n  res = {\r\n    ...res,\r\n    ...appInfoData,\r\n    id: JSON.stringify({ url: res.url, name: appInfo.name.substring(0, remainingSpace) }),\r\n    error: false,\r\n    loadingStatus: FETCH_STATUS.SUCCESS,\r\n  }\r\n\r\n  const concatenatedImgPath = `${noTrailingSlashUrl}/${appInfo.iconPath}`\r\n  if (await canLoadAppImage(concatenatedImgPath)) {\r\n    res.iconUrl = concatenatedImgPath\r\n  }\r\n\r\n  return res\r\n})\r\n\r\nexport const getIpfsLinkFromEns = memoize(async (name: string): Promise<string | undefined> => {\r\n  try {\r\n    const content = await getContentFromENS(name)\r\n    if (content && content.protocolType === 'ipfs') {\r\n      return `${process.env.REACT_APP_IPFS_GATEWAY}/${content.decoded}/`\r\n    }\r\n  } catch (error) {\r\n    console.error(error)\r\n    return\r\n  }\r\n})\r\n\r\nexport const uniqueApp =\r\n  (appList: SafeApp[]) =>\r\n  (url: string): string | undefined => {\r\n    const newUrl = new URL(url)\r\n    const exists = appList.some((a) => {\r\n      try {\r\n        const currentUrl = new URL(a.url)\r\n        return currentUrl.href === newUrl.href\r\n      } catch (error) {\r\n        console.error('There was a problem trying to validate the URL existence.', error.message)\r\n        return false\r\n      }\r\n    })\r\n    return exists ? 'This app is already registered.' : undefined\r\n  }\r\n\r\nconst canLoadAppImage = (path: string, timeout = 10000) =>\r\n  new Promise(function (resolve) {\r\n    try {\r\n      const image = new Image()\r\n      image.src = path\r\n      image.addEventListener('load', () => resolve(true))\r\n      image.addEventListener('error', () => resolve(false))\r\n\r\n      setTimeout(() => resolve(false), timeout)\r\n    } catch (err) {\r\n      console.error(err)\r\n      resolve(false)\r\n    }\r\n  })\r\n","import format from 'date-fns/format'\r\nimport formatRelative from 'date-fns/formatRelative'\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\r\n\r\nexport const relativeTime = (baseTimeMin: string, resetTimeMin: string): string => {\r\n  if (resetTimeMin === '0') {\r\n    return 'One-time'\r\n  }\r\n\r\n  const baseTimeSeconds = +baseTimeMin * 60\r\n  const resetTimeSeconds = +resetTimeMin * 60\r\n  const nextResetTimeMilliseconds = (baseTimeSeconds + resetTimeSeconds) * 1000\r\n\r\n  return formatRelative(nextResetTimeMilliseconds, Date.now())\r\n}\r\n\r\nexport const getUTCStartOfDate = (timestamp: number): number => {\r\n  const date = new Date(timestamp)\r\n\r\n  return Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0, 0)\r\n}\r\n\r\nexport const getLocalStartOfDate = (timestamp: number): number => {\r\n  const date = new Date(timestamp)\r\n\r\n  return date.setHours(0, 0, 0, 0)\r\n}\r\n\r\nexport const formatWithSchema = (timestamp: number, schema: string): string => format(timestamp, schema)\r\n\r\nexport const formatTime = (timestamp: number): string => formatWithSchema(timestamp, 'h:mm a')\r\n\r\nexport const formatDateTime = (timestamp: number): string => formatWithSchema(timestamp, 'MMM d, yyyy - h:mm:ss a')\r\n\r\nexport const formatTimeInWords = (timestamp: number): string => formatDistanceToNow(timestamp, { addSuffix: true })\r\n","import cn from 'classnames/bind'\r\nimport { ReactElement } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = cn.bind(styles)\r\n\r\nconst GnoButtonLink = ({\r\n  className = '',\r\n  color = 'secondary',\r\n  size = 'md',\r\n  testId = '',\r\n  type = 'button',\r\n  weight = 'regular',\r\n  ...props\r\n}: any): ReactElement => (\r\n  <button className={cx(styles.btnLink, size, color, weight, className)} data-testid={testId} type={type} {...props} />\r\n)\r\n\r\nexport default GnoButtonLink\r\n","import { Loader } from '@gnosis.pm/safe-react-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Suspense, useEffect, useState, lazy } from 'react'\r\n\r\nimport Modal from 'src/components/Modal'\r\nimport { CollectibleTx } from './screens/ReviewCollectible'\r\nimport { ReviewCustomTxProps } from './screens/ContractInteraction/ReviewCustomTx'\r\nimport { ContractInteractionTx } from './screens/ContractInteraction'\r\nimport { CustomTxProps } from './screens/ContractInteraction/SendCustomTx'\r\nimport { ReviewTxProp } from './screens/ReviewSendFundsTx'\r\nimport { NFTToken } from 'src/logic/collectibles/sources/collectibles.d'\r\nimport { SendCollectibleTxInfo } from './screens/SendCollectible'\r\nimport { Erc721Transfer } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nconst ChooseTxType = lazy(() => import('./screens/ChooseTxType'))\r\n\r\nconst SendFunds = lazy(() => import('./screens/SendFunds'))\r\n\r\nconst SendCollectible = lazy(() => import('./screens/SendCollectible'))\r\n\r\nconst ReviewCollectible = lazy(() => import('./screens/ReviewCollectible'))\r\n\r\nconst ReviewSendFundsTx = lazy(() => import('./screens/ReviewSendFundsTx'))\r\n\r\nconst ContractInteraction = lazy(() => import('./screens/ContractInteraction'))\r\n\r\nconst ContractInteractionReview: any = lazy(() => import('./screens/ContractInteraction/Review'))\r\n\r\nconst SendCustomTx = lazy(() => import('./screens/ContractInteraction/SendCustomTx'))\r\n\r\nconst ReviewCustomTx = lazy(() => import('./screens/ContractInteraction/ReviewCustomTx'))\r\n\r\nconst useStyles = makeStyles({\r\n  loaderStyle: {\r\n    height: '500px',\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n})\r\n\r\nexport type TxType =\r\n  | 'chooseTxType'\r\n  | 'sendFunds'\r\n  | 'sendFundsReviewTx'\r\n  | 'contractInteraction'\r\n  | 'contractInteractionReview'\r\n  | 'reviewCustomTx'\r\n  | 'sendCollectible'\r\n  | 'reviewCollectible'\r\n  | ''\r\n\r\ntype Props = {\r\n  activeScreenType: TxType\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  recipientAddress?: string\r\n  recipientName?: string\r\n  selectedToken?: string | NFTToken | Erc721Transfer\r\n  tokenAmount?: string\r\n}\r\n\r\nconst SendModal = ({\r\n  activeScreenType,\r\n  isOpen,\r\n  onClose,\r\n  recipientAddress,\r\n  recipientName,\r\n  selectedToken,\r\n  tokenAmount,\r\n}: Props): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const [activeScreen, setActiveScreen] = useState<TxType>(activeScreenType || 'chooseTxType')\r\n  const [tx, setTx] = useState<unknown>({})\r\n  const [isABI, setIsABI] = useState(true)\r\n\r\n  const [recipient, setRecipient] = useState<string | undefined>(recipientAddress)\r\n\r\n  useEffect(() => {\r\n    setActiveScreen(activeScreenType || 'chooseTxType')\r\n    setIsABI(true)\r\n    setTx({})\r\n    setRecipient(recipientAddress)\r\n  }, [activeScreenType, isOpen, recipientAddress])\r\n\r\n  const handleTxCreation = (txInfo: SendCollectibleTxInfo) => {\r\n    setActiveScreen('sendFundsReviewTx')\r\n    setTx(txInfo)\r\n  }\r\n\r\n  const handleContractInteractionCreation = (contractInteractionInfo: any, submit: boolean): void => {\r\n    setTx(contractInteractionInfo)\r\n    if (submit) setActiveScreen('contractInteractionReview')\r\n  }\r\n\r\n  const handleCustomTxCreation = (customTxInfo: any, submit: boolean): void => {\r\n    setTx(customTxInfo)\r\n    if (submit) setActiveScreen('reviewCustomTx')\r\n  }\r\n\r\n  const handleSendCollectible = (txInfo) => {\r\n    setActiveScreen('reviewCollectible')\r\n    setTx(txInfo)\r\n  }\r\n\r\n  const handleSwitchMethod = (): void => {\r\n    setIsABI(!isABI)\r\n  }\r\n\r\n  const handleOnPrev = (screen: TxType) => {\r\n    setRecipient((tx as ReviewTxProp).recipientAddress)\r\n    setActiveScreen(screen)\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      description=\"Send Tokens Form\"\r\n      handleClose={onClose}\r\n      open={isOpen}\r\n      paperClassName=\"smaller-modal-window\"\r\n      title=\"Send Tokens\"\r\n    >\r\n      <Suspense\r\n        fallback={\r\n          <div className={classes.loaderStyle}>\r\n            <Loader size=\"md\" />\r\n          </div>\r\n        }\r\n      >\r\n        {activeScreen === 'chooseTxType' && (\r\n          <ChooseTxType\r\n            onClose={onClose}\r\n            recipientName={recipientName}\r\n            recipientAddress={recipient}\r\n            setActiveScreen={setActiveScreen}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'sendFunds' && (\r\n          <SendFunds\r\n            initialValues={tx as ReviewTxProp}\r\n            onClose={onClose}\r\n            onReview={handleTxCreation}\r\n            recipientAddress={recipient}\r\n            selectedToken={selectedToken as string}\r\n            amount={tokenAmount}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'sendFundsReviewTx' && (\r\n          <ReviewSendFundsTx\r\n            onClose={onClose}\r\n            onPrev={() => {\r\n              handleOnPrev('sendFunds')\r\n            }}\r\n            tx={tx as ReviewTxProp}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteraction' && isABI && (\r\n          <ContractInteraction\r\n            contractAddress={recipient}\r\n            initialValues={tx as ContractInteractionTx}\r\n            isABI={isABI}\r\n            onClose={onClose}\r\n            onNext={handleContractInteractionCreation}\r\n            switchMethod={handleSwitchMethod}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteractionReview' && isABI && tx && (\r\n          <ContractInteractionReview onClose={onClose} onPrev={() => handleOnPrev('contractInteraction')} tx={tx} />\r\n        )}\r\n\r\n        {activeScreen === 'contractInteraction' && !isABI && (\r\n          <SendCustomTx\r\n            initialValues={tx as CustomTxProps}\r\n            isABI={isABI}\r\n            onClose={onClose}\r\n            onNext={handleCustomTxCreation}\r\n            switchMethod={handleSwitchMethod}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'reviewCustomTx' && (\r\n          <ReviewCustomTx\r\n            onClose={onClose}\r\n            onPrev={() => handleOnPrev('contractInteraction')}\r\n            tx={tx as ReviewCustomTxProps}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'sendCollectible' && (\r\n          <SendCollectible\r\n            initialValues={tx}\r\n            onClose={onClose}\r\n            onNext={handleSendCollectible}\r\n            recipientAddress={recipient}\r\n            selectedToken={selectedToken as NFTToken | undefined}\r\n          />\r\n        )}\r\n\r\n        {activeScreen === 'reviewCollectible' && (\r\n          <ReviewCollectible\r\n            onClose={onClose}\r\n            onPrev={() => handleOnPrev('sendCollectible')}\r\n            tx={tx as CollectibleTx}\r\n          />\r\n        )}\r\n      </Suspense>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SendModal\r\n","import { getWeb3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { BatchRequest } from 'web3-core'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\n/**\r\n * Generates a batch request for grouping RPC calls\r\n * @param {object} args\r\n * @param {object} args.abi - contract ABI\r\n * @param {string} args.address - contract address\r\n * @param {object|undefined} args.batch - not required. If set, batch must be initialized outside (web3.BatchRequest)\r\n * @param {object|undefined} args.context - not required. Can be any object, to be added to the batch response\r\n * @param {array<{ args: [any], method: string, type: 'eth'|undefined } | string>} args.methods - methods to be called\r\n * @returns {Promise<[*]>}\r\n */\r\ntype MethodsArgsType = Array<string | number>\r\n\r\ninterface Props {\r\n  abi: AbiItem[]\r\n  address: string\r\n  batch?: BatchRequest\r\n  context?: unknown\r\n  methods: Array<string | { method: string; type?: string; args: MethodsArgsType }>\r\n}\r\n\r\nconst generateBatchRequests = <ReturnValues>({\r\n  abi,\r\n  address,\r\n  batch,\r\n  context,\r\n  methods,\r\n}: Props): Promise<ReturnValues> => {\r\n  const web3 = getWeb3ReadOnly()\r\n  const contractInstance = new web3.eth.Contract(abi, address)\r\n  const localBatch = new web3.BatchRequest()\r\n\r\n  const values = methods.map((methodObject) => {\r\n    let method,\r\n      type,\r\n      args: MethodsArgsType = []\r\n\r\n    if (typeof methodObject === 'string') {\r\n      method = methodObject\r\n    } else {\r\n      ;({ method, type, args } = methodObject)\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      const resolver = (error, result) => {\r\n        if (error) {\r\n          resolve(undefined)\r\n        } else {\r\n          resolve(result)\r\n        }\r\n      }\r\n\r\n      try {\r\n        let request\r\n        if (type !== undefined) {\r\n          request = web3[type][method].request(...args, resolver)\r\n        } else {\r\n          if (address === null) {\r\n            resolve(undefined)\r\n            return\r\n          }\r\n          request = contractInstance.methods[method](...args).call.request(resolver)\r\n        }\r\n\r\n        // If batch was provided add to external batch\r\n        batch ? batch.add(request) : localBatch.add(request)\r\n      } catch (e) {\r\n        console.warn('There was an error trying to batch request from web3.', e)\r\n        resolve(undefined)\r\n      }\r\n    })\r\n  })\r\n\r\n  // TODO fix this so all batch.execute() are handled here\r\n  // If batch was created locally we can already execute it\r\n  // If batch was provided we should execute once we finish to generate the batch,\r\n  // in the outside function where the batch object is created.\r\n  !batch && localBatch.execute()\r\n\r\n  // @ts-ignore\r\n  return Promise.all([context, ...values])\r\n}\r\n\r\nexport default generateBatchRequests\r\n","import { Operation } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { AbiItem } from 'web3-utils'\r\n\r\nimport { CreateTransactionArgs } from 'src/logic/safe/store/actions/createTransaction'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { enableModuleTx, isModuleEnabled } from 'src/logic/safe/utils/modules'\r\nimport SpendingLimitModule from 'src/logic/contracts/artifacts/AllowanceModule.json'\r\nimport generateBatchRequests from 'src/logic/contracts/generateBatchRequests'\r\nimport { getMultisendContractAddress } from 'src/logic/contracts/safeContracts'\r\nimport { getSpendingLimitContract } from 'src/logic/contracts/spendingLimitContracts'\r\nimport { SpendingLimit } from 'src/logic/safe/store/models/safe'\r\nimport { sameAddress } from 'src/logic/wallets/ethAddresses'\r\nimport { getWeb3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { SPENDING_LIMIT_MODULE_ADDRESS } from 'src/utils/constants'\r\nimport { encodeMultiSendCall, MultiSendTx } from 'src/logic/safe/transactions/multisend'\r\nimport { fromTokenUnit } from 'src/logic/tokens/utils/humanReadableValue'\r\nimport { getBalanceAndDecimalsFromToken, GetTokenByAddress } from 'src/logic/tokens/utils/tokenHelpers'\r\nimport { sameString } from 'src/utils/strings'\r\nimport { Errors, CodedException } from 'src/logic/exceptions/CodedException'\r\n\r\nexport const currentMinutes = (): number => Math.floor(Date.now() / (1000 * 60))\r\n\r\nconst requestTokensByDelegate = async (\r\n  safeAddress: string,\r\n  delegates: string[],\r\n): Promise<[string, string[] | undefined][]> => {\r\n  const web3 = getWeb3ReadOnly()\r\n  const batch = new web3.BatchRequest()\r\n\r\n  const whenRequestValues = delegates.map((delegateAddress: string) =>\r\n    generateBatchRequests<[string, string[] | undefined]>({\r\n      abi: SpendingLimitModule.abi as AbiItem[],\r\n      address: SPENDING_LIMIT_MODULE_ADDRESS,\r\n      methods: [{ method: 'getTokens', args: [safeAddress, delegateAddress] }],\r\n      batch,\r\n      context: delegateAddress,\r\n    }),\r\n  )\r\n\r\n  batch.execute()\r\n\r\n  return Promise.all(whenRequestValues)\r\n}\r\n\r\nexport type SpendingLimitRow = {\r\n  delegate: string\r\n  token: string\r\n  amount: string\r\n  spent: string\r\n  resetTimeMin: string\r\n  lastResetMin: string\r\n  nonce: string\r\n}\r\n\r\nconst ZERO_VALUE = '0'\r\n\r\n/**\r\n * Deleted Allowance have their `amount` and `resetTime` set to `0` (zero)\r\n * @param {SpendingLimitRow} allowance\r\n * @returns boolean\r\n */\r\nconst discardZeroAllowance = ({ amount, resetTimeMin }: SpendingLimitRow): boolean =>\r\n  !(sameString(amount, ZERO_VALUE) && sameString(resetTimeMin, ZERO_VALUE))\r\n\r\ntype TokenSpendingLimit = [string, string, string, string, string]\r\n\r\ntype TokenSpendingLimitContext = {\r\n  delegate: string\r\n  token: string\r\n}\r\n\r\ntype TokenSpendingLimitRequest = [TokenSpendingLimitContext, TokenSpendingLimit | undefined]\r\n\r\nconst requestAllowancesByDelegatesAndTokens = async (\r\n  safeAddress: string,\r\n  tokensByDelegate: [string, string[] | undefined][],\r\n): Promise<SpendingLimitRow[]> => {\r\n  const web3 = getWeb3ReadOnly()\r\n  const batch = new web3.BatchRequest()\r\n\r\n  const whenRequestValues: Promise<TokenSpendingLimitRequest>[] = []\r\n\r\n  for (const [delegate, tokens] of tokensByDelegate) {\r\n    if (tokens) {\r\n      for (const token of tokens) {\r\n        whenRequestValues.push(\r\n          generateBatchRequests<[TokenSpendingLimitContext, TokenSpendingLimit]>({\r\n            abi: SpendingLimitModule.abi as AbiItem[],\r\n            address: SPENDING_LIMIT_MODULE_ADDRESS,\r\n            methods: [{ method: 'getTokenAllowance', args: [safeAddress, delegate, token] }],\r\n            batch,\r\n            context: { delegate, token },\r\n          }),\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  batch.execute()\r\n\r\n  return Promise.all(whenRequestValues).then((allowances) =>\r\n    allowances\r\n      // first, we filter out those records whose tokenSpendingLimit is undefined\r\n      .filter(([, tokenSpendingLimit]) => tokenSpendingLimit)\r\n      // then, we build the SpendingLimitRow object\r\n      .map(([{ delegate, token }, tokenSpendingLimit]) => {\r\n        const [amount, spent, resetTimeMin, lastResetMin, nonce] = tokenSpendingLimit as TokenSpendingLimit\r\n\r\n        return {\r\n          delegate,\r\n          token,\r\n          amount,\r\n          spent,\r\n          resetTimeMin,\r\n          lastResetMin,\r\n          nonce,\r\n        }\r\n      })\r\n      .filter(discardZeroAllowance),\r\n  )\r\n}\r\n\r\nexport const getSpendingLimits = async (modules: string[], safeAddress: string): Promise<SpendingLimit[] | null> => {\r\n  const isSpendingLimitEnabled = isModuleEnabled(modules, SPENDING_LIMIT_MODULE_ADDRESS)\r\n\r\n  if (!isSpendingLimitEnabled) return null\r\n\r\n  try {\r\n    const delegates = await getSpendingLimitContract().methods.getDelegates(safeAddress, 0, 100).call()\r\n    const tokensByDelegate = await requestTokensByDelegate(safeAddress, delegates.results)\r\n    const limits = await requestAllowancesByDelegatesAndTokens(safeAddress, tokensByDelegate)\r\n    return limits\r\n  } catch (error) {\r\n    throw new CodedException(Errors._609, error.message)\r\n  }\r\n}\r\n\r\ntype DeleteAllowanceParams = {\r\n  beneficiary: string\r\n  tokenAddress: string\r\n}\r\n\r\nexport const getDeleteAllowanceTxData = ({ beneficiary, tokenAddress }: DeleteAllowanceParams): string => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  return spendingLimitContract.methods.deleteAllowance(beneficiary, tokenAddress).encodeABI()\r\n}\r\n\r\nexport const enableSpendingLimitModuleMultiSendTx = (safeAddress: string, safeVersion: string): MultiSendTx => {\r\n  const multiSendTx = enableModuleTx({ moduleAddress: SPENDING_LIMIT_MODULE_ADDRESS, safeAddress, safeVersion })\r\n\r\n  return {\r\n    to: multiSendTx.to,\r\n    value: multiSendTx.valueInWei,\r\n    data: multiSendTx.txData as string,\r\n  }\r\n}\r\n\r\nexport const addSpendingLimitBeneficiaryMultiSendTx = (beneficiary: string): MultiSendTx => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  return {\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    value: '0',\r\n    data: spendingLimitContract.methods.addDelegate(beneficiary).encodeABI(),\r\n  }\r\n}\r\n\r\nexport const getResetSpendingLimitTx = (beneficiary: string, token: string): MultiSendTx => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  return {\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    value: '0',\r\n    data: spendingLimitContract.methods.resetAllowance(beneficiary, token).encodeABI(),\r\n  }\r\n}\r\n\r\ntype SpendingLimitTxParams = {\r\n  spendingLimitArgs: {\r\n    beneficiary: string\r\n    token: string\r\n    spendingLimitInWei: string\r\n    resetTimeMin: number\r\n    resetBaseMin: number\r\n  }\r\n  safeAddress: string\r\n}\r\n\r\nexport const setSpendingLimitTx = ({\r\n  spendingLimitArgs: { beneficiary, token, spendingLimitInWei, resetTimeMin, resetBaseMin },\r\n  safeAddress,\r\n}: SpendingLimitTxParams): CreateTransactionArgs => {\r\n  const spendingLimitContract = getSpendingLimitContract()\r\n\r\n  const txArgs: CreateTransactionArgs = {\r\n    safeAddress,\r\n    to: SPENDING_LIMIT_MODULE_ADDRESS,\r\n    valueInWei: ZERO_VALUE,\r\n    txData: spendingLimitContract.methods\r\n      .setAllowance(beneficiary, token, spendingLimitInWei, resetTimeMin, resetBaseMin)\r\n      .encodeABI(),\r\n    operation: Operation.CALL,\r\n    notifiedTransaction: TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX,\r\n  }\r\n\r\n  return txArgs\r\n}\r\n\r\nexport const setSpendingLimitMultiSendTx = (args: SpendingLimitTxParams): MultiSendTx => {\r\n  const tx = setSpendingLimitTx(args)\r\n\r\n  return {\r\n    to: tx.to,\r\n    value: tx.valueInWei,\r\n    data: tx.txData as string,\r\n  }\r\n}\r\n\r\ntype SpendingLimitMultiSendTx = {\r\n  transactions: Array<MultiSendTx>\r\n  safeAddress: string\r\n}\r\nexport const spendingLimitMultiSendTx = ({\r\n  transactions,\r\n  safeAddress,\r\n}: SpendingLimitMultiSendTx): CreateTransactionArgs => ({\r\n  safeAddress,\r\n  to: getMultisendContractAddress(),\r\n  valueInWei: ZERO_VALUE,\r\n  txData: encodeMultiSendCall(transactions),\r\n  notifiedTransaction: TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX,\r\n  operation: Operation.DELEGATE,\r\n})\r\n\r\ntype SpendingLimitAllowedBalance = GetTokenByAddress & {\r\n  tokenSpendingLimit: SpendingLimit\r\n}\r\n\r\n/**\r\n * Calculates the remaining amount available for a particular SpendingLimit\r\n * @param {string} tokenAddress\r\n * @param {SpendingLimit} tokenSpendingLimit\r\n * @param {List<Token>} tokens\r\n * returns string\r\n */\r\nexport const spendingLimitAllowedBalance = ({\r\n  tokenAddress,\r\n  tokenSpendingLimit,\r\n  tokens,\r\n}: SpendingLimitAllowedBalance): string | number => {\r\n  const token = getBalanceAndDecimalsFromToken({ tokenAddress, tokens })\r\n\r\n  if (!token) {\r\n    return 0\r\n  }\r\n\r\n  const { balance, decimals } = token\r\n  const diff = new BigNumber(tokenSpendingLimit.amount).minus(tokenSpendingLimit.spent).toString()\r\n  const diffInFPNotation = fromTokenUnit(diff, decimals)\r\n\r\n  return new BigNumber(balance).gt(diffInFPNotation) ? diffInFPNotation : balance\r\n}\r\n\r\ntype GetSpendingLimitByTokenAddress = {\r\n  spendingLimits?: SpendingLimit[] | null\r\n  tokenAddress?: string\r\n}\r\n\r\n/**\r\n * Returns the SpendingLimit info for the specified tokenAddress\r\n * @param {SpendingLimit[] | undefined | null} spendingLimits\r\n * @param {string | undefined} tokenAddress\r\n * @returns SpendingLimit | undefined\r\n */\r\nexport const getSpendingLimitByTokenAddress = ({\r\n  spendingLimits,\r\n  tokenAddress,\r\n}: GetSpendingLimitByTokenAddress): SpendingLimit | undefined => {\r\n  if (!tokenAddress || !spendingLimits) {\r\n    return\r\n  }\r\n\r\n  return spendingLimits.find(({ token }) => sameAddress(token, tokenAddress))\r\n}\r\n","import {\r\n  ConflictHeader,\r\n  Custom,\r\n  DateLabel,\r\n  Label,\r\n  ModuleExecutionDetails,\r\n  MultiSend,\r\n  MultisigExecutionDetails,\r\n  MultisigExecutionInfo,\r\n  TransactionSummary,\r\n  Transfer,\r\n  TransactionDetails as GWTransactionDetails,\r\n  Transaction as GWTransaction,\r\n  TransactionListItem,\r\n  TransactionListPage,\r\n  TransactionStatus,\r\n} from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\n/**\r\n * We can't use the enum values from the SDK directly when comparing to strings\r\n * Not sure if a bug or a feature \r\n */\r\nexport const LocalTransactionStatus: Record<string, TransactionStatus> = {\r\n  AWAITING_CONFIRMATIONS: 'AWAITING_CONFIRMATIONS',\r\n  AWAITING_EXECUTION: 'AWAITING_EXECUTION',\r\n  CANCELLED: 'CANCELLED',\r\n  FAILED: 'FAILED',\r\n  SUCCESS: 'SUCCESS',\r\n  PENDING: 'PENDING',\r\n  PENDING_FAILED: 'PENDING_FAILED',\r\n  WILL_BE_REPLACED: 'WILL_BE_REPLACED',\r\n}\r\n\r\nexport type Transaction = TransactionSummary & {\r\n  txDetails?: ExpandedTxDetails\r\n}\r\n\r\nexport type ExpandedTxDetails = GWTransactionDetails\r\n\r\ntype StoreStructure = {\r\n  queued: {\r\n    next: { [nonce: number]: Transaction[] } // 1 Transaction element\r\n    queued: { [nonce: number]: Transaction[] } // n Transaction elements\r\n  }\r\n  history: { [timestamp: number]: Transaction[] } // n Transaction elements\r\n}\r\n\r\ntype TxQueuedLocation = 'queued.next' | 'queued.queued'\r\n\r\ntype TxHistoryLocation = 'history'\r\n\r\nexport type TxLocation = TxHistoryLocation | TxQueuedLocation\r\n\r\ntype HistoryGatewayResult = TransactionListItem\r\n\r\ntype HistoryGatewayResponse = TransactionListPage\r\n\r\ntype QueuedGatewayResult = TransactionListItem\r\n\r\ntype QueuedGatewayResponse = TransactionListPage\r\n\r\nexport type TransactionDetails = {\r\n  count: number\r\n  transactions: Array<[nonce: string, transactions: Transaction[]]>\r\n}\r\n\r\n/**\r\n * Helper functions\r\n */\r\n\r\nexport const isDateLabel = (value: HistoryGatewayResult): value is DateLabel => {\r\n  return value.type === 'DATE_LABEL'\r\n}\r\n\r\nexport const isLabel = (value: QueuedGatewayResult): value is Label => {\r\n  return value.type === 'LABEL'\r\n}\r\n\r\nexport const isConflictHeader = (value: QueuedGatewayResult): value is ConflictHeader => {\r\n  return value.type === 'CONFLICT_HEADER'\r\n}\r\n\r\nexport const isTransactionSummary = (value: HistoryGatewayResult | QueuedGatewayResult): value is GWTransaction => {\r\n  return value.type === 'TRANSACTION'\r\n}\r\n\r\nexport const isTransferTxInfo = (value: TransactionInfo): value is Transfer => {\r\n  return value.type === 'Transfer'\r\n}\r\n\r\nexport const isSettingsChangeTxInfo = (value: TransactionInfo): value is SettingsChange => {\r\n  return value.type === 'SettingsChange'\r\n}\r\n\r\nexport const isCustomTxInfo = (value: TransactionInfo): value is Custom => {\r\n  return value.type === 'Custom'\r\n}\r\n\r\nexport const isMultiSendTxInfo = (value: TransactionInfo): value is MultiSend => {\r\n  return isCustomTxInfo(value) && value.methodName === 'multiSend'\r\n}\r\n\r\nexport const isCreationTxInfo = (value: TransactionInfo): value is Creation => {\r\n  return value.type === 'Creation'\r\n}\r\n\r\nexport const isMultiSigExecutionDetails = (\r\n  value: ExpandedTxDetails['detailedExecutionInfo'],\r\n): value is MultisigExecutionDetails => {\r\n  return value?.type === 'MULTISIG'\r\n}\r\n\r\nexport const isModuleExecutionInfo = (\r\n  value: ExpandedTxDetails['detailedExecutionInfo'],\r\n): value is ModuleExecutionDetails => {\r\n  return value?.type === 'MODULE'\r\n}\r\n\r\nexport const isMultisigExecutionInfo = (value: TransactionSummary['executionInfo']): value is MultisigExecutionInfo => {\r\n  return value?.type === 'MULTISIG'\r\n}\r\n\r\nexport const isTxQueued = (value: LocalTransactionStatus): boolean => {\r\n  return [\r\n    LocalTransactionStatus.PENDING,\r\n    LocalTransactionStatus.PENDING_FAILED,\r\n    LocalTransactionStatus.AWAITING_CONFIRMATIONS,\r\n    LocalTransactionStatus.AWAITING_EXECUTION,\r\n    LocalTransactionStatus.WILL_BE_REPLACED,\r\n  ].includes(value)\r\n}\r\n","import { Transaction } from '@gnosis.pm/safe-apps-sdk-v1'\r\n\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { getMultisendContract } from 'src/logic/contracts/safeContracts'\r\n\r\nexport interface MultiSendTx {\r\n  to: string\r\n  value: string\r\n  data: string\r\n}\r\n\r\nexport const encodeMultiSendCall = (txs: Transaction[]): string => {\r\n  const web3 = getWeb3()\r\n  const multiSend = getMultisendContract()\r\n\r\n  const joinedTxs = txs\r\n    .map((tx) =>\r\n      [\r\n        web3.eth.abi.encodeParameter('uint8', 0).slice(-2),\r\n        web3.eth.abi.encodeParameter('address', tx.to).slice(-40),\r\n        // if you pass wei as number, it will overflow\r\n        web3.eth.abi.encodeParameter('uint256', tx.value.toString()).slice(-64),\r\n        web3.eth.abi.encodeParameter('uint256', web3.utils.hexToBytes(tx.data).length).slice(-64),\r\n        tx.data.replace(/^0x/, ''),\r\n      ].join(''),\r\n    )\r\n    .join('')\r\n\r\n  const encodedMultiSendCallData = multiSend.methods.multiSend(`0x${joinedTxs}`).encodeABI()\r\n\r\n  return encodedMultiSendCallData\r\n}\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { Dispatch } from 'src/logic/safe/store/actions/types'\r\nimport { Transaction } from 'src/logic/safe/store/models/types/gateway.d'\r\nimport { TransactionDetailsPayload } from 'src/logic/safe/store/reducer/gatewayTransactions'\r\nimport { getTransactionByAttribute } from 'src/logic/safe/store/selectors/gatewayTransactions'\r\nimport { AppReduxState } from 'src/store'\r\nimport { fetchSafeTransaction } from 'src/logic/safe/transactions/api/fetchSafeTransaction'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { extractSafeAddress } from 'src/routes/routes'\r\n\r\nexport const UPDATE_TRANSACTION_DETAILS = 'UPDATE_TRANSACTION_DETAILS'\r\nconst updateTransactionDetails = createAction<TransactionDetailsPayload>(UPDATE_TRANSACTION_DETAILS)\r\n\r\nexport const fetchTransactionDetails =\r\n  ({ transactionId }: { transactionId: Transaction['id'] }) =>\r\n  async (dispatch: Dispatch, getState: () => AppReduxState): Promise<Transaction['txDetails']> => {\r\n    const transaction = getTransactionByAttribute(getState(), {\r\n      attributeValue: transactionId,\r\n      attributeName: 'id',\r\n    })\r\n    const safeAddress = extractSafeAddress()\r\n    const chainId = currentChainId(getState())\r\n\r\n    if (transaction?.txDetails || !safeAddress) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const transactionDetails = await fetchSafeTransaction(transactionId)\r\n\r\n      dispatch(updateTransactionDetails({ chainId, transactionId, safeAddress, value: transactionDetails }))\r\n    } catch (error) {\r\n      console.error(`Failed to retrieve transaction ${transactionId} details`, error.message)\r\n    }\r\n  }\r\n","import { getTransactionDetails, TransactionDetails } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nimport { _getChainId } from 'src/config'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\n/**\r\n * @param {string} clientGatewayTxId safeTxHash or transaction id from client-gateway\r\n */\r\nexport const fetchSafeTransaction = async (clientGatewayTxId: string): Promise<TransactionDetails> => {\r\n  return getTransactionDetails(GATEWAY_URL, _getChainId(), clientGatewayTxId)\r\n}\r\n","import { createTheme } from '@material-ui/core/styles'\r\nimport { alpha } from '@material-ui/core/styles/colorManipulator'\r\n\r\nimport {\r\n  boldFont,\r\n  bolderFont,\r\n  border,\r\n  buttonLargeFontSize,\r\n  disabled,\r\n  error,\r\n  extraSmallFontSize,\r\n  fontColor,\r\n  largeFontSize,\r\n  lg,\r\n  mainFontFamily,\r\n  md,\r\n  mediumFontSize,\r\n  primary,\r\n  regularFont,\r\n  secondary,\r\n  secondaryBackground,\r\n  secondaryFontFamily,\r\n  secondaryText,\r\n  sm,\r\n  smallFontSize,\r\n  xs,\r\n} from './variables'\r\n\r\nconst palette = {\r\n  primary: {\r\n    main: primary,\r\n  },\r\n  secondary: {\r\n    main: secondary,\r\n  },\r\n  error: {\r\n    main: error,\r\n  },\r\n  success: {\r\n    main: secondary,\r\n  },\r\n  contrastThreshold: 3,\r\n  tonalOffset: 0.2,\r\n}\r\n\r\n// see https://material-ui-next.com/customization/themes/\r\n// see https://github.com/mui-org/material-ui/blob/v1-beta/src/styles/createMuiTheme.js\r\nconst theme = createTheme({\r\n  typography: {\r\n    fontFamily: mainFontFamily,\r\n    useNextVariants: true,\r\n  },\r\n  overrides: {\r\n    MuiButton: {\r\n      label: {\r\n        lineHeight: '1',\r\n        fontSize: largeFontSize,\r\n        fontWeight: regularFont,\r\n      },\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n        letterSpacing: '0.9px',\r\n        '&$disabled': {\r\n          color: disabled,\r\n        },\r\n        color: disabled,\r\n        textTransform: 'none',\r\n        borderRadius: sm,\r\n      },\r\n      contained: {\r\n        boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n      },\r\n      containedPrimary: {\r\n        backgroundColor: secondary,\r\n      },\r\n      containedSecondary: {\r\n        backgroundColor: error,\r\n        '&:hover': {\r\n          backgroundColor: '#d4d5d3',\r\n        },\r\n      },\r\n      outlinedPrimary: {\r\n        border: `2px solid ${primary}`,\r\n        '&:hover': {\r\n          border: `2px solid ${primary}`,\r\n        },\r\n      },\r\n      sizeLarge: {\r\n        padding: `${md} ${lg}`,\r\n        minHeight: '52px',\r\n        fontSize: buttonLargeFontSize,\r\n      },\r\n      sizeSmall: {\r\n        minWidth: '130px',\r\n        fontSize: smallFontSize,\r\n      },\r\n      textSecondary: {\r\n        '&:hover': {\r\n          borderRadius: '3px',\r\n        },\r\n      },\r\n    },\r\n    MuiPaper: {\r\n      rounded: {\r\n        borderRadius: sm,\r\n      },\r\n    },\r\n    MuiStepper: {\r\n      root: {\r\n        padding: `${lg} 0 0 15px`,\r\n        background: 'transparent',\r\n      },\r\n    },\r\n    MuiIconButton: {\r\n      root: {\r\n        padding: '0',\r\n      },\r\n    },\r\n    MuiChip: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiStepIcon: {\r\n      root: {\r\n        fontSize: '22px',\r\n        color: `${secondaryText} !important`,\r\n      },\r\n      completed: {\r\n        color: `${secondary} !important`,\r\n      },\r\n      active: {\r\n        color: `${secondary} !important`,\r\n        fontWeight: boldFont,\r\n      },\r\n    },\r\n    MuiStepContent: {\r\n      root: {\r\n        borderLeft: `1px solid ${secondaryText}`,\r\n      },\r\n    },\r\n    MuiTypography: {\r\n      body1: {\r\n        fontFamily: secondaryFontFamily,\r\n        letterSpacing: '-0.5px',\r\n        fontSize: mediumFontSize,\r\n      },\r\n      body2: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiFormHelperText: {\r\n      root: {\r\n        color: secondary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: '12px',\r\n        marginTop: '0px',\r\n        order: '0',\r\n        padding: `0 0 0 ${md}`,\r\n        position: 'absolute',\r\n        top: '5px',\r\n        zIndex: 1, // for firefox\r\n      },\r\n    },\r\n    MuiInput: {\r\n      root: {\r\n        backgroundColor: secondaryBackground,\r\n        borderRadius: '5px',\r\n        color: primary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        lineHeight: '56px',\r\n        order: '1',\r\n        padding: `0 ${md}`,\r\n        '&:$disabled': {\r\n          color: '#0000ff',\r\n        },\r\n        '&:active': {\r\n          borderBottomLeftRadius: '0',\r\n          borderBottomRightRadius: '0',\r\n        },\r\n      },\r\n      input: {\r\n        color: primary,\r\n        display: 'flex',\r\n        height: 'auto',\r\n        letterSpacing: '0.5px',\r\n        padding: '0',\r\n        textOverflow: 'ellipsis',\r\n        '&::-webkit-input-placeholder': {\r\n          color: disabled,\r\n        },\r\n      },\r\n      underline: {\r\n        '&::before': {\r\n          visibility: 'hidden',\r\n          borderBottomColor: secondary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        // after pseudo element in the underline is used for the focus border\r\n        '&::after': {\r\n          borderBottomColor: secondary,\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&.isValid::before': {\r\n          visibility: 'visible',\r\n          borderBottomColor: `${secondary} !important`,\r\n        },\r\n        '&.isInvalid::after': {\r\n          borderBottomColor: `${error} !important`,\r\n        },\r\n        '&.isValid::after': {\r\n          display: 'none',\r\n        },\r\n        '&:focus': {\r\n          visibility: 'visible',\r\n        },\r\n        '&:hover': {\r\n          visibility: 'visible',\r\n        },\r\n      },\r\n      formControl: {\r\n        marginTop: '0 !important',\r\n      },\r\n    },\r\n    MuiFilledInput: {\r\n      underline: {\r\n        '&::before': {\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&::after': {\r\n          borderBottomStyle: 'solid',\r\n          borderBottomWidth: '2px !important',\r\n        },\r\n        '&.isValid::before': {\r\n          borderBottomColor: `${secondary} !important`,\r\n        },\r\n        '&.isInvalid::after': {\r\n          borderBottomColor: `${error} !important`,\r\n        },\r\n        '&.isValid::after': {\r\n          display: 'none',\r\n        },\r\n      },\r\n    },\r\n    MuiStepLabel: {\r\n      label: {\r\n        textAlign: 'left',\r\n        color: secondary,\r\n        '&$active': {\r\n          color: primary,\r\n        },\r\n      },\r\n    },\r\n    MuiSvgIcon: {\r\n      colorSecondary: {\r\n        color: secondaryText,\r\n      },\r\n    },\r\n    MuiSnackbar: {\r\n      root: {\r\n        maxWidth: '100%',\r\n        width: '340px',\r\n      },\r\n    },\r\n    MuiSnackbarContent: {\r\n      root: {\r\n        borderRadius: `${sm} !important`,\r\n        boxShadow: '0 0 10px 0 rgba(212, 212, 211, 0.59)',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'nowrap',\r\n        padding: '20px',\r\n        width: '100%',\r\n      },\r\n      message: {\r\n        color: fontColor,\r\n        flexGrow: '1',\r\n        fontFamily: 'Averta',\r\n        fontSize: '14px',\r\n        lineHeight: '1.43',\r\n        padding: '0 10px 0 0',\r\n        '& > span': {\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          alignItems: 'stretch',\r\n          overflowX: 'hidden',\r\n          overflowY: 'auto',\r\n          maxHeight: '160px',\r\n          wordBreak: 'break-word',\r\n          '& > img': {\r\n            display: 'block',\r\n            marginRight: '13px',\r\n          },\r\n        },\r\n      },\r\n      action: {\r\n        paddingLeft: '0',\r\n        '& > button': {\r\n          color: secondaryText,\r\n        },\r\n      },\r\n    },\r\n    MuiTab: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n        fontWeight: 'normal',\r\n        fontSize: extraSmallFontSize,\r\n        '&$selected': {\r\n          fontWeight: boldFont,\r\n        },\r\n        '@media (min-width: 960px)': {\r\n          fontSize: extraSmallFontSize, // override material-ui media query\r\n        },\r\n      },\r\n    },\r\n    MuiTableContainer: {\r\n      root: {\r\n        marginLeft: '-10px',\r\n        marginRight: '-10px',\r\n        marginTop: '-10px',\r\n        paddingLeft: '10px',\r\n        paddingRight: '10px',\r\n        paddingTop: '10px',\r\n      },\r\n    },\r\n    MuiTablePagination: {\r\n      toolbar: {\r\n        paddingRight: '15px',\r\n        '& > span:nth-child(2)': {\r\n          order: 1,\r\n        },\r\n      },\r\n      selectIcon: {\r\n        height: '100%',\r\n        top: '0px',\r\n      },\r\n      caption: {\r\n        color: disabled,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        order: '2',\r\n      },\r\n      input: {\r\n        color: disabled,\r\n        order: '2',\r\n        width: '60px',\r\n      },\r\n      select: {\r\n        minWidth: lg,\r\n        paddingRight: '30',\r\n      },\r\n      actions: {\r\n        color: disabled,\r\n        order: '4',\r\n      },\r\n    },\r\n    MuiTableSortLabel: {\r\n      root: {\r\n        fontSize: extraSmallFontSize,\r\n      },\r\n      active: {\r\n        fontWeight: boldFont,\r\n      },\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottomWidth: '2px',\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n      },\r\n      head: {\r\n        letterSpacing: '1px',\r\n        textTransform: 'uppercase',\r\n      },\r\n      body: {\r\n        color: primary,\r\n        fontWeight: 'normal',\r\n        letterSpacing: 'normal',\r\n        overflow: 'hidden',\r\n        paddingBottom: xs,\r\n        paddingTop: xs,\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        backdropFilter: 'blur(1px)',\r\n        backgroundColor: 'rgba(228, 232, 241, 0.75)',\r\n        top: '52px',\r\n      },\r\n    },\r\n    MuiMenuItem: {\r\n      root: {\r\n        fontFamily: secondaryFontFamily,\r\n      },\r\n    },\r\n    MuiListItemIcon: {\r\n      root: {\r\n        minWidth: 'auto',\r\n      },\r\n    },\r\n    MuiListItemText: {\r\n      primary: {\r\n        color: primary,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: mediumFontSize,\r\n        fontWeight: bolderFont,\r\n      },\r\n      secondary: {\r\n        color: disabled,\r\n        fontFamily: secondaryFontFamily,\r\n        fontSize: smallFontSize,\r\n      },\r\n    },\r\n    MuiCheckbox: {\r\n      colorSecondary: {\r\n        '&$disabled': {\r\n          color: alpha(secondary, 0.5),\r\n        },\r\n      },\r\n    },\r\n    MuiFormControlLabel: {\r\n      label: {\r\n        '&$disabled': {\r\n          color: primary,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  palette,\r\n} as any)\r\n\r\nexport default theme\r\n\r\nexport const DropdownListTheme = {\r\n  ...theme,\r\n  overrides: {\r\n    ...theme.overrides,\r\n    MuiPaper: {\r\n      root: {\r\n        marginTop: '10px',\r\n      },\r\n      elevation0: {\r\n        boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n      },\r\n      rounded: {\r\n        borderRadius: xs,\r\n      },\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        paddingBottom: '0',\r\n        paddingTop: '0',\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      root: {\r\n        borderBottom: `2px solid ${border}`,\r\n        '&:last-child': {\r\n          borderBottom: 'none',\r\n        },\r\n        boxSizing: 'border-box',\r\n      },\r\n      button: {\r\n        '&:hover': {\r\n          backgroundColor: '#f7f5f5',\r\n        },\r\n      },\r\n    },\r\n  },\r\n}\r\n","import { Suspense, SuspenseProps } from 'react'\r\n\r\nexport const wrapInSuspense = (\r\n  component: Required<SuspenseProps['children']>,\r\n  fallback: SuspenseProps['fallback'] = null,\r\n): React.ReactElement => <Suspense fallback={fallback}>{component}</Suspense>\r\n","import { ChainInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\ntype ChainName = ChainInfo['chainName']\r\nexport type ShortName = ChainInfo['shortName']\r\n\r\n// Remain agnostic and follow CGW by using the following\r\nexport type ChainId = ChainInfo['chainId']\r\n\r\n// Only use the following for edge cases\r\nexport const CHAIN_ID: Record<ChainName, ChainId> = {\r\n  UNKNOWN: '0',\r\n  ETHEREUM: '1',\r\n  MORDEN: '2',\r\n  ROPSTEN: '3',\r\n  RINKEBY: '4',\r\n  GOERLI: '5',\r\n  OPTIMISM: '10',\r\n  KOVAN: '42',\r\n  BSC: '56',\r\n  XDAI: '100',\r\n  POLYGON: '137',\r\n  ENERGY_WEB_CHAIN: '246',\r\n  LOCAL: '4447',\r\n  ARBITRUM: '42161',\r\n  AVALANCHE: '43114',\r\n  VOLTA: '73799',\r\n}\r\n\r\n// Values match that required of onboard and returned by CGW\r\nexport enum WALLETS {\r\n  METAMASK = 'metamask',\r\n  WALLET_CONNECT = 'walletConnect',\r\n  TREZOR = 'trezor',\r\n  LEDGER = 'ledger',\r\n  TRUST = 'trust',\r\n  FORTMATIC = 'fortmatic',\r\n  PORTIS = 'portis',\r\n  AUTHEREUM = 'authereum',\r\n  TORUS = 'torus',\r\n  COINBASE = 'coinbase',\r\n  WALLET_LINK = 'walletLink',\r\n  OPERA = 'opera',\r\n  OPERA_TOUCH = 'operaTouch',\r\n  LATTICE = 'lattice',\r\n  KEYSTONE = 'keystone',\r\n}\r\n","export default __webpack_public_path__ + \"static/media/info.a916d2dd.svg\";","import { NonPayableTransactionObject } from 'src/types/contracts/types.d'\r\nimport { TxArgs } from 'src/logic/safe/store/models/types/transaction'\r\nimport { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\n\r\nexport const getTransactionHash = async ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sender,\r\n  to,\r\n  valueInWei,\r\n}: TxArgs): Promise<string> => {\r\n  const txHash = await safeInstance.methods\r\n    .getTransactionHash(to, valueInWei, data, operation, safeTxGas, baseGas, gasPrice, gasToken, refundReceiver, nonce)\r\n    .call({\r\n      from: sender,\r\n    })\r\n\r\n  return txHash\r\n}\r\n\r\nexport const getApprovalTransaction = (safeInstance: GnosisSafe, txHash: string): NonPayableTransactionObject<void> => {\r\n  try {\r\n    return safeInstance.methods.approveHash(txHash)\r\n  } catch (err) {\r\n    console.error(`Error while approving transaction: ${err}`)\r\n    throw err\r\n  }\r\n}\r\n\r\nexport const getExecutionTransaction = ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  operation,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sigs,\r\n  to,\r\n  valueInWei,\r\n}: TxArgs): NonPayableTransactionObject<boolean> => {\r\n  try {\r\n    return safeInstance.methods.execTransaction(\r\n      to,\r\n      valueInWei,\r\n      data,\r\n      operation,\r\n      safeTxGas,\r\n      baseGas,\r\n      gasPrice,\r\n      gasToken,\r\n      refundReceiver,\r\n      sigs,\r\n    )\r\n  } catch (err) {\r\n    console.error(`Error while creating transaction: ${err}`)\r\n\r\n    throw err\r\n  }\r\n}\r\n","import { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\nimport { _getChainId } from 'src/config'\r\n\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { proposeTransaction, TransactionDetails } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nconst calculateBodyFrom = async (\r\n  safeInstance: GnosisSafe,\r\n  to,\r\n  valueInWei,\r\n  data,\r\n  operation,\r\n  nonce,\r\n  safeTxGas,\r\n  baseGas,\r\n  gasPrice,\r\n  gasToken,\r\n  refundReceiver,\r\n  sender,\r\n  origin,\r\n  signature,\r\n) => {\r\n  const safeTxHash = await safeInstance.methods\r\n    .getTransactionHash(to, valueInWei, data, operation, safeTxGas, baseGas, gasPrice, gasToken, refundReceiver, nonce)\r\n    .call()\r\n\r\n  return {\r\n    to: checksumAddress(to),\r\n    value: valueInWei,\r\n    data,\r\n    operation,\r\n    nonce: nonce.toString(),\r\n    safeTxGas: safeTxGas.toString(),\r\n    baseGas: baseGas.toString(),\r\n    gasPrice,\r\n    gasToken,\r\n    refundReceiver,\r\n    safeTxHash,\r\n    sender: checksumAddress(sender),\r\n    origin,\r\n    signature,\r\n  }\r\n}\r\n\r\ninterface SaveTxToHistoryArgs {\r\n  safeInstance: GnosisSafe\r\n  [key: string]: any\r\n}\r\n\r\nexport const saveTxToHistory = async ({\r\n  baseGas,\r\n  data,\r\n  gasPrice,\r\n  gasToken,\r\n  nonce,\r\n  operation,\r\n  origin,\r\n  refundReceiver,\r\n  safeInstance,\r\n  safeTxGas,\r\n  sender,\r\n  signature,\r\n  to,\r\n  valueInWei,\r\n}: SaveTxToHistoryArgs): Promise<TransactionDetails> => {\r\n  const address = checksumAddress(safeInstance.options.address)\r\n  const body = await calculateBodyFrom(\r\n    safeInstance,\r\n    to,\r\n    valueInWei,\r\n    data,\r\n    operation,\r\n    nonce,\r\n    safeTxGas,\r\n    baseGas,\r\n    gasPrice,\r\n    gasToken,\r\n    refundReceiver,\r\n    sender,\r\n    origin || null,\r\n    signature,\r\n  )\r\n  const txDetails = await proposeTransaction(GATEWAY_URL, _getChainId(), address, body)\r\n  return txDetails\r\n}\r\n","export const TX_NOTIFICATION_TYPES = {\r\n  STANDARD_TX: 'STANDARD_TX',\r\n  CONFIRMATION_TX: 'CONFIRMATION_TX',\r\n  CANCELLATION_TX: 'CANCELLATION_TX',\r\n  WAITING_TX: 'WAITING_TX',\r\n  SETTINGS_CHANGE_TX: 'SETTINGS_CHANGE_TX',\r\n  NEW_SPENDING_LIMIT_TX: 'NEW_SPENDING_LIMIT_TX',\r\n  REMOVE_SPENDING_LIMIT_TX: 'REMOVE_SPENDING_LIMIT_TX',\r\n  SAFE_NAME_CHANGE_TX: 'SAFE_NAME_CHANGE_TX',\r\n  OWNER_NAME_CHANGE_TX: 'OWNER_NAME_CHANGE_TX',\r\n  ADDRESS_BOOK_NEW_ENTRY: 'ADDRESS_BOOK_NEW_ENTRY',\r\n  ADDRESS_BOOK_EDIT_ENTRY: 'ADDRESS_BOOK_EDIT_ENTRY',\r\n  ADDRESS_BOOK_DELETE_ENTRY: 'ADDRESS_BOOK_DELETE_ENTRY',\r\n  ADDRESS_BOOK_EXPORT_ENTRIES: 'ADDRESS_BOOK_EXPORT_ENTRIES',\r\n  ADDRESS_BOOK_IMPORT_ENTRIES: 'ADDRESS_BOOK_IMPORT_ENTRIES',\r\n}\r\n","import { Errors, logError } from 'src/logic/exceptions/CodedException'\r\nimport { checkAddressChecksum, toChecksumAddress } from 'web3-utils'\r\nimport { isValidAddress } from './isValidAddress'\r\n\r\nexport const checksumAddress = (address: string): string => {\r\n  if (!isValidAddress(address)) {\r\n    return ''\r\n  }\r\n\r\n  try {\r\n    return toChecksumAddress(address)\r\n  } catch (err) {\r\n    logError(Errors._102, err.message)\r\n    return ''\r\n  }\r\n}\r\n\r\nexport const isChecksumAddress = (address?: string): boolean => {\r\n  if (address) {\r\n    return checkAddressChecksum(address)\r\n  }\r\n\r\n  return false\r\n}\r\n","export const upperFirst = (value: string): string => value.charAt(0).toUpperCase() + value.toLowerCase().slice(1)\r\n\r\nexport const capitalize = (value: string, prefix?: string): undefined | boolean | string | number => {\r\n  if (!value) {\r\n    return undefined\r\n  }\r\n\r\n  if (typeof value === 'boolean') {\r\n    return prefix || ''\r\n  }\r\n\r\n  if (typeof value === 'number') {\r\n    return prefix ? `${prefix}${value}` : value\r\n  }\r\n\r\n  if (typeof value !== 'string') {\r\n    return false\r\n  }\r\n\r\n  const capitalized = upperFirst(value)\r\n\r\n  return prefix ? `${prefix}${capitalized}` : capitalized\r\n}\r\n","import { ReactElement } from 'react'\r\nimport { Button } from '@material-ui/core'\r\nimport { Text } from '@gnosis.pm/safe-react-components'\r\nimport { switchWalletChain } from 'src/logic/wallets/utils/network'\r\nimport ChainIndicator from 'src/components/ChainIndicator'\r\nimport { useSelector } from 'react-redux'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\n\r\nconst WalletSwitch = (): ReactElement => {\r\n  const chainId = useSelector(currentChainId)\r\n  return (\r\n    <Button variant=\"outlined\" size=\"medium\" color=\"primary\" onClick={switchWalletChain}>\r\n      <Text size=\"lg\">\r\n        Switch wallet to <ChainIndicator chainId={chainId} />\r\n      </Text>\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default WalletSwitch\r\n","export default __webpack_public_path__ + \"static/media/apps.1bdd0f32.svg\";","import { createAction } from 'redux-actions'\r\n\r\nexport const REMOVE_VIEWED_SAFE = 'REMOVE_VIEWED_SAFE'\r\n\r\nconst removeViewedSafe = createAction<string>(REMOVE_VIEWED_SAFE)\r\n\r\nexport default removeViewedSafe\r\n","import { createAction } from 'redux-actions'\r\nimport { SelectedCurrencyPayload } from 'src/logic/currencyValues/store/reducer/currencyValues'\r\n\r\nexport const SET_CURRENT_CURRENCY = 'SET_CURRENT_CURRENCY'\r\n\r\nexport const setSelectedCurrency = createAction<SelectedCurrencyPayload>(SET_CURRENT_CURRENCY)\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SetCopyShortNamePayload } from '../reducer/appearance'\r\n\r\nexport const SET_COPY_SHORT_NAME = 'SET_COPY_SHORT_NAME'\r\n\r\nexport const setCopyShortName = createAction<SetCopyShortNamePayload>(SET_COPY_SHORT_NAME)\r\n","import { createAction } from 'redux-actions'\r\n\r\nimport { SetShowShortNamePayload } from '../reducer/appearance'\r\n\r\nexport const SET_SHOW_SHORT_NAME = 'SET_SHOW_SHORT_NAME'\r\n\r\nexport const setShowShortName = createAction<SetShowShortNamePayload>(SET_SHOW_SHORT_NAME)\r\n","import { useState } from 'react'\r\nimport CollapseMUI from '@material-ui/core/Collapse'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport styled from 'styled-components'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n`\r\n\r\nconst HeaderWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0 3px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n\r\n  & > * {\r\n    margin-right: 5px;\r\n  }\r\n`\r\n\r\nconst TitleWrapper = styled.div``\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\ninterface CollapseProps {\r\n  title: React.ReactElement | string\r\n  description?: React.ReactElement | string\r\n  collapseClassName?: string\r\n  defaultExpanded?: boolean\r\n}\r\n\r\nconst Collapse: React.FC<CollapseProps> = ({\r\n  children,\r\n  description = null,\r\n  title,\r\n  collapseClassName,\r\n  defaultExpanded = false,\r\n}): React.ReactElement => {\r\n  const [open, setOpen] = useState(defaultExpanded)\r\n\r\n  const handleClick = () => {\r\n    setOpen((prevOpen) => !prevOpen)\r\n  }\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      setOpen((prevOpen) => !prevOpen)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <HeaderWrapper tabIndex={0} role=\"button\" aria-pressed=\"false\" onClick={handleClick} onKeyDown={handleKeyDown}>\r\n        <TitleWrapper>{title}</TitleWrapper>\r\n        <Header>\r\n          <IconButton disableRipple size=\"small\">\r\n            {open ? <ExpandLess /> : <ExpandMore />}\r\n          </IconButton>\r\n          {description}\r\n        </Header>\r\n      </HeaderWrapper>\r\n\r\n      <CollapseMUI in={open} timeout=\"auto\" unmountOnExit className={collapseClassName}>\r\n        {children}\r\n      </CollapseMUI>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default Collapse\r\n","import { useLocation } from 'react-router-dom'\r\nimport { useCallback } from 'react'\r\n\r\ntype AppUrlReturnType = {\r\n  getAppUrl: () => string | null\r\n}\r\n\r\nexport const useSafeAppUrl = (): AppUrlReturnType => {\r\n  const { search } = useLocation()\r\n\r\n  const getAppUrl = useCallback(() => {\r\n    const query = new URLSearchParams(search)\r\n    return query.get('appUrl')\r\n  }, [search])\r\n\r\n  return {\r\n    getAppUrl,\r\n  }\r\n}\r\n","import { getBalances, SafeBalanceResponse, TokenInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { _getChainId } from 'src/config'\r\nimport { checksumAddress } from 'src/utils/checksumAddress'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\nexport type TokenBalance = {\r\n  tokenInfo: TokenInfo\r\n  balance: string\r\n  fiatBalance: string\r\n  fiatConversion: string\r\n}\r\n\r\ntype FetchTokenCurrenciesBalancesProps = {\r\n  safeAddress: string\r\n  selectedCurrency: string\r\n  excludeSpamTokens?: boolean\r\n  trustedTokens?: boolean\r\n}\r\n\r\nexport const fetchTokenCurrenciesBalances = async ({\r\n  safeAddress,\r\n  selectedCurrency,\r\n  excludeSpamTokens = true,\r\n  trustedTokens = false,\r\n}: FetchTokenCurrenciesBalancesProps): Promise<SafeBalanceResponse> => {\r\n  const address = checksumAddress(safeAddress)\r\n  return getBalances(GATEWAY_URL, _getChainId(), address, selectedCurrency, {\r\n    exclude_spam: excludeSpamTokens,\r\n    trusted: trustedTokens,\r\n  })\r\n}\r\n","import { Button, Switch } from '@gnosis.pm/safe-react-components'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Close from '@material-ui/icons/Close'\r\nimport QRCode from 'qrcode.react'\r\nimport { ReactElement, useState } from 'react'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel/FormControlLabel'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Block from 'src/components/layout/Block'\r\nimport Col from 'src/components/layout/Col'\r\nimport Hairline from 'src/components/layout/Hairline'\r\nimport Paragraph from 'src/components/layout/Paragraph'\r\nimport Row from 'src/components/layout/Row'\r\nimport PrefixedEthHashInfo from '../PrefixedEthHashInfo'\r\nimport { border, fontColor, lg, md, screenSm, secondaryText } from 'src/theme/variables'\r\nimport { getChainInfo, getExplorerInfo } from 'src/config'\r\nimport { ChainInfo } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { copyShortNameSelector } from 'src/logic/appearance/selectors'\r\nimport { getPrefixedSafeAddressSlug } from 'src/routes/routes'\r\n\r\nconst useStyles = (chainInfo: ChainInfo) =>\r\n  makeStyles(\r\n    createStyles({\r\n      heading: {\r\n        padding: `${md} ${lg}`,\r\n        justifyContent: 'space-between',\r\n        height: '74px',\r\n        boxSizing: 'border-box',\r\n      },\r\n      close: {\r\n        height: lg,\r\n        width: lg,\r\n        fill: secondaryText,\r\n      },\r\n      qrContainer: {\r\n        backgroundColor: '#fff',\r\n        padding: md,\r\n        borderRadius: '6px',\r\n        border: `1px solid ${secondaryText}`,\r\n      },\r\n      networkInfo: {\r\n        backgroundColor: `${chainInfo?.theme?.backgroundColor ?? border}`,\r\n        color: `${chainInfo?.theme?.textColor ?? fontColor}`,\r\n        padding: md,\r\n        marginBottom: 0,\r\n      },\r\n      annotation: {\r\n        margin: lg,\r\n        marginBottom: 0,\r\n      },\r\n      safeName: {\r\n        margin: `${md} 0`,\r\n      },\r\n      buttonRow: {\r\n        height: '84px',\r\n        justifyContent: 'center',\r\n        '& > button': {\r\n          fontFamily: 'Averta',\r\n          fontSize: md,\r\n          boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n        },\r\n      },\r\n      addressContainer: {\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        margin: `${lg} 0`,\r\n\r\n        [`@media (min-width: ${screenSm}px)`]: {\r\n          flexDirection: 'row',\r\n        },\r\n      },\r\n    }),\r\n  )()\r\n\r\ntype Props = {\r\n  onClose: () => void\r\n  safeAddress: string\r\n  safeName: string\r\n}\r\n\r\nconst ReceiveModal = ({ onClose, safeAddress, safeName }: Props): ReactElement => {\r\n  const chainInfo = getChainInfo()\r\n  const classes = useStyles(chainInfo)\r\n\r\n  const copyShortName = useSelector(copyShortNameSelector)\r\n  const [shouldEncodePrefix, setShouldEncodePrefix] = useState<boolean>(copyShortName)\r\n\r\n  const qrCodeString = shouldEncodePrefix ? getPrefixedSafeAddressSlug() : safeAddress\r\n\r\n  return (\r\n    <>\r\n      <Row align=\"center\" className={classes.heading} grow>\r\n        <Paragraph noMargin size=\"xl\" weight=\"bolder\">\r\n          Receive assets\r\n        </Paragraph>\r\n        <IconButton disableRipple onClick={onClose}>\r\n          <Close className={classes.close} />\r\n        </IconButton>\r\n      </Row>\r\n      <Hairline />\r\n      <Paragraph className={classes.networkInfo} noMargin size=\"lg\" weight=\"bolder\">\r\n        {chainInfo.chainName} Networkonly send {chainInfo.chainName} assets to this Safe.\r\n      </Paragraph>\r\n      <Paragraph className={classes.annotation} noMargin size=\"lg\">\r\n        This is the address of your Safe. Deposit funds by scanning the QR code or copying the address below. Only send{' '}\r\n        {chainInfo.nativeCurrency.symbol} and assets to this address (e.g. ETH, ERC20, ERC721)!\r\n      </Paragraph>\r\n      <Col layout=\"column\" middle=\"xs\">\r\n        <Paragraph className={classes.safeName} noMargin size=\"lg\" weight=\"bold\">\r\n          {safeName}\r\n        </Paragraph>\r\n        <Block className={classes.qrContainer}>\r\n          <QRCode size={135} value={qrCodeString} />\r\n        </Block>\r\n        <FormControlLabel\r\n          control={<Switch checked={shouldEncodePrefix} onChange={setShouldEncodePrefix} />}\r\n          label={\r\n            <>\r\n              QR code with chain prefix (<b>{chainInfo.shortName}:</b>)\r\n            </>\r\n          }\r\n        />\r\n        <Block className={classes.addressContainer} justify=\"center\">\r\n          <PrefixedEthHashInfo hash={safeAddress} showAvatar showCopyBtn explorerUrl={getExplorerInfo(safeAddress)} />\r\n        </Block>\r\n      </Col>\r\n      <Hairline />\r\n      <Row align=\"center\" className={classes.buttonRow}>\r\n        <Button size=\"md\" color=\"primary\" onClick={onClose} variant=\"contained\">\r\n          Done\r\n        </Button>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ReceiveModal\r\n","import { List } from 'immutable'\r\nimport { createSelector } from 'reselect'\r\nimport { AddressBookEntry, makeAddressBookEntry } from 'src/logic/addressBook/model/addressBook'\r\nimport { currentNetworkAddressBookAsMap } from 'src/logic/addressBook/store/selectors'\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport makeSafe, { SafeRecord, SafeRecordProps } from 'src/logic/safe/store/models/safe'\r\nimport { SAFE_REDUCER_ID } from 'src/logic/safe/store/reducer/safe'\r\nimport { SafesMap } from 'src/logic/safe/store/reducer/types/safe'\r\nimport { extractSafeAddress } from 'src/routes/routes'\r\nimport { AppReduxState } from 'src/store'\r\nimport { Overwrite } from 'src/types/helpers'\r\n\r\nconst safesState = (state: AppReduxState) => state[SAFE_REDUCER_ID]\r\n\r\nexport const safesAsMap = (state: AppReduxState): SafesMap => safesState(state).get('safes')\r\n\r\nexport const safesAsList = createSelector(safesAsMap, (safes): List<SafeRecord> => safes.toList())\r\n\r\nexport const latestMasterContractVersion = createSelector(safesState, (safeState) =>\r\n  safeState.get('latestMasterContractVersion'),\r\n)\r\n\r\nexport const currentSafe = createSelector([safesAsMap], (safes: SafesMap) => {\r\n  const address = extractSafeAddress()\r\n  return safes.get(address, baseSafe(address))\r\n})\r\n\r\nconst baseSafe = (address = '') => makeSafe({ address })\r\n\r\nexport const safeFieldSelector =\r\n  <K extends keyof SafeRecordProps>(field: K) =>\r\n  (safe: SafeRecord): SafeRecordProps[K] =>\r\n    safe.get(field, baseSafe().get(field))\r\n\r\nexport const currentSafeEthBalance = createSelector(currentSafe, safeFieldSelector('ethBalance'))\r\n\r\nexport const currentSafeBalances = createSelector(currentSafe, safeFieldSelector('balances'))\r\n\r\nexport const currentSafeNeedsUpdate = createSelector(currentSafe, safeFieldSelector('needsUpdate'))\r\n\r\nexport const currentSafeCurrentVersion = createSelector(currentSafe, safeFieldSelector('currentVersion'))\r\n\r\nexport const currentSafeThreshold = createSelector(currentSafe, safeFieldSelector('threshold'))\r\n\r\nexport const currentSafeNonce = createSelector(currentSafe, safeFieldSelector('nonce'))\r\n\r\nexport const currentSafeOwners = createSelector(currentSafe, safeFieldSelector('owners'))\r\n\r\nexport const currentSafeModules = createSelector(currentSafe, safeFieldSelector('modules'))\r\n\r\nexport const currentSafeFeaturesEnabled = createSelector(currentSafe, safeFieldSelector('featuresEnabled'))\r\n\r\nexport const currentSafeSpendingLimits = createSelector(currentSafe, safeFieldSelector('spendingLimits'))\r\n\r\nexport const currentSafeTotalFiatBalance = createSelector(currentSafe, safeFieldSelector('totalFiatBalance'))\r\n\r\n/*************************/\r\n/* With AddressBook Data */\r\n/*************************/\r\nconst baseSafeWithName = (address = '') => ({ ...baseSafe(address).toJS(), name: '' })\r\n\r\nexport type SafeRecordWithNames = Overwrite<SafeRecordProps, { owners: AddressBookEntry[] }> & { name: string }\r\n\r\nexport const safesWithNamesAsList = createSelector(\r\n  [safesAsList, currentNetworkAddressBookAsMap, currentChainId],\r\n  (safesList, addressBookMap, chainId): SafeRecordWithNames[] => {\r\n    return safesList\r\n      .map((safeRecord) => {\r\n        const safe = safeRecord.toObject()\r\n        const name = addressBookMap?.[safe.address]?.name ?? ''\r\n\r\n        const owners = safe.owners.map((ownerAddress) => {\r\n          return addressBookMap?.[ownerAddress] ?? makeAddressBookEntry({ address: ownerAddress, name: '', chainId })\r\n        })\r\n\r\n        return { ...safe, name, owners }\r\n      })\r\n      .toJS()\r\n  },\r\n)\r\n\r\nexport const safesWithNamesAsMap = createSelector(\r\n  [safesWithNamesAsList],\r\n  (\r\n    safesList,\r\n  ): {\r\n    [address: string]: SafeRecordWithNames\r\n  } => {\r\n    return safesList.reduce((acc, safe) => {\r\n      acc[safe.address] = safe\r\n      return acc\r\n    }, {})\r\n  },\r\n)\r\n\r\nexport const currentSafeWithNames = createSelector(\r\n  [safesWithNamesAsMap, currentSafe],\r\n  (safesMap, safe): SafeRecordWithNames => safesMap[safe.address] || baseSafeWithName(safe.address),\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col\":\"Col_col__2uTVy\",\"inherit\":\"Col_inherit__2MRsT\",\"block\":\"Col_block__1xfTr\",\"column\":\"Col_column__CLbSR\",\"overflow\":\"Col_overflow__3ZIUo\",\"marginSm\":\"Col_marginSm__3WPju\",\"marginMd\":\"Col_marginMd__3clpW\",\"marginLg\":\"Col_marginLg__dTdOj\",\"marginXl\":\"Col_marginXl__3Pm5y\",\"xs1\":\"Col_xs1__3SS3j\",\"xs2\":\"Col_xs2__Na_3l\",\"xs3\":\"Col_xs3__20HjM\",\"xs4\":\"Col_xs4__1poHs\",\"xs5\":\"Col_xs5__Rrfvn\",\"xs6\":\"Col_xs6__3BnjT\",\"xs7\":\"Col_xs7__3PPg1\",\"xs8\":\"Col_xs8__33Rp1\",\"xs9\":\"Col_xs9__3zwwa\",\"xs10\":\"Col_xs10__1Fnox\",\"xs11\":\"Col_xs11__2khm8\",\"xs12\":\"Col_xs12__35E8N\",\"xsOffset1\":\"Col_xsOffset1__3GJho\",\"xsOffset2\":\"Col_xsOffset2__Bz0Js\",\"xsOffset3\":\"Col_xsOffset3__2BNYi\",\"xsOffset4\":\"Col_xsOffset4__rrESA\",\"xsOffset5\":\"Col_xsOffset5__2OV25\",\"xsOffset6\":\"Col_xsOffset6__281F_\",\"xsOffset7\":\"Col_xsOffset7__30Ta1\",\"xsOffset8\":\"Col_xsOffset8__PE7TX\",\"xsOffset9\":\"Col_xsOffset9__2Eho1\",\"xsOffset10\":\"Col_xsOffset10__1Idjr\",\"xsOffset11\":\"Col_xsOffset11__3NouZ\",\"xs\":\"Col_xs__WxmNC\",\"sm1\":\"Col_sm1__1G-GZ\",\"sm2\":\"Col_sm2__Fn_WV\",\"sm3\":\"Col_sm3__2TpRe\",\"sm4\":\"Col_sm4__3CfEA\",\"sm5\":\"Col_sm5__13fW2\",\"sm6\":\"Col_sm6__SksU2\",\"sm7\":\"Col_sm7__3COEk\",\"sm8\":\"Col_sm8__2FF-1\",\"sm9\":\"Col_sm9__2Zv1d\",\"sm10\":\"Col_sm10__AisQ3\",\"sm11\":\"Col_sm11__22goP\",\"sm12\":\"Col_sm12__rzLNk\",\"smOffset1\":\"Col_smOffset1__anYCX\",\"smOffset2\":\"Col_smOffset2__2UQRb\",\"smOffset3\":\"Col_smOffset3__260m7\",\"smOffset4\":\"Col_smOffset4__f3LKW\",\"smOffset5\":\"Col_smOffset5__rc3y8\",\"smOffset6\":\"Col_smOffset6__136Oi\",\"smOffset7\":\"Col_smOffset7__22lKb\",\"smOffset8\":\"Col_smOffset8__1EaMy\",\"smOffset9\":\"Col_smOffset9__2dzvQ\",\"smOffset10\":\"Col_smOffset10__zIE-f\",\"smOffset11\":\"Col_smOffset11__VaQ4n\",\"sm\":\"Col_sm__1jpNn\",\"md1\":\"Col_md1__1kc1m\",\"md2\":\"Col_md2__N9Agj\",\"md3\":\"Col_md3__3FQva\",\"md4\":\"Col_md4__1Ru0U\",\"md5\":\"Col_md5__2GjQX\",\"md6\":\"Col_md6__3KHaH\",\"md7\":\"Col_md7__9YV40\",\"md8\":\"Col_md8__14hqQ\",\"md9\":\"Col_md9__1hblS\",\"md10\":\"Col_md10__14nYW\",\"md11\":\"Col_md11__3FPQ0\",\"md12\":\"Col_md12__1Muxo\",\"mdOffset1\":\"Col_mdOffset1__jUdUv\",\"mdOffset2\":\"Col_mdOffset2___VCfe\",\"mdOffset3\":\"Col_mdOffset3__XLEvU\",\"mdOffset4\":\"Col_mdOffset4__2n4mt\",\"mdOffset5\":\"Col_mdOffset5__3RkFF\",\"mdOffset6\":\"Col_mdOffset6__11xft\",\"mdOffset7\":\"Col_mdOffset7__1x9Um\",\"mdOffset8\":\"Col_mdOffset8__2aySw\",\"mdOffset9\":\"Col_mdOffset9__1Qua7\",\"mdOffset10\":\"Col_mdOffset10__3g-M8\",\"mdOffset11\":\"Col_mdOffset11__1_fgS\",\"md\":\"Col_md__3KMs_\",\"lg1\":\"Col_lg1__3teGd\",\"lg2\":\"Col_lg2__2dTyX\",\"lg3\":\"Col_lg3__2evc1\",\"lg4\":\"Col_lg4__3o6b3\",\"lg5\":\"Col_lg5__2g3Hc\",\"lg6\":\"Col_lg6__FDz-u\",\"lg7\":\"Col_lg7__epEYO\",\"lg8\":\"Col_lg8__1VB8B\",\"lg9\":\"Col_lg9__lWA5-\",\"lg10\":\"Col_lg10__1T_EJ\",\"lg11\":\"Col_lg11__27yYW\",\"lg12\":\"Col_lg12__v2ZZv\",\"lgOffset1\":\"Col_lgOffset1__rHzDg\",\"lgOffset2\":\"Col_lgOffset2__3EGQm\",\"lgOffset3\":\"Col_lgOffset3__2xtqb\",\"lgOffset4\":\"Col_lgOffset4__3AuIq\",\"lgOffset5\":\"Col_lgOffset5__1nJNb\",\"lgOffset6\":\"Col_lgOffset6__25vWy\",\"lgOffset7\":\"Col_lgOffset7__1g3nj\",\"lgOffset8\":\"Col_lgOffset8__YaDsm\",\"lgOffset9\":\"Col_lgOffset9__2Awk-\",\"lgOffset10\":\"Col_lgOffset10__a0pAZ\",\"lgOffset11\":\"Col_lgOffset11__Zq9RJ\",\"lg\":\"Col_lg__3sp8U\",\"startXs\":\"Col_startXs__Glg0R\",\"centerXs\":\"Col_centerXs__2QmoA\",\"endXs\":\"Col_endXs__39C4P\",\"topXs\":\"Col_topXs__2xWzu\",\"middleXs\":\"Col_middleXs__18gZU\",\"bottomXs\":\"Col_bottomXs__2jmFd\",\"aroundXs\":\"Col_aroundXs__jyX5r\",\"betweenXs\":\"Col_betweenXs__1FXbA\",\"startSm\":\"Col_startSm__3xMIu\",\"centerSm\":\"Col_centerSm__3ujA8\",\"endSm\":\"Col_endSm__1YR8k\",\"topSm\":\"Col_topSm__1r6Rs\",\"middleSm\":\"Col_middleSm__2Clnk\",\"bottomSm\":\"Col_bottomSm__2FwuX\",\"aroundSm\":\"Col_aroundSm__3XnHw\",\"betweenSm\":\"Col_betweenSm__3u1ei\",\"startMd\":\"Col_startMd__1X8v_\",\"centerMd\":\"Col_centerMd__3lP0s\",\"endMd\":\"Col_endMd__3tnW8\",\"topMd\":\"Col_topMd__1vEs7\",\"middleMd\":\"Col_middleMd__3taed\",\"bottomMd\":\"Col_bottomMd__1qQPf\",\"aroundMd\":\"Col_aroundMd__23tZr\",\"betweenMd\":\"Col_betweenMd__1GH0h\",\"startLg\":\"Col_startLg__TCU6v\",\"centerLg\":\"Col_centerLg__QraS2\",\"endLg\":\"Col_endLg__3_8TS\",\"topLg\":\"Col_topLg__LekF2\",\"middleLg\":\"Col_middleLg__39lwF\",\"bottomLg\":\"Col_bottomLg__32x5w\",\"aroundLg\":\"Col_aroundLg__3CMl6\",\"betweenLg\":\"Col_betweenLg__3QfLn\"};","import abi from 'ethereumjs-abi'\r\n\r\nimport { CONTRACT_ERRORS, CONTRACT_ERROR_CODES } from 'src/logic/contracts/contracts.d'\r\nimport { getWeb3 } from 'src/logic/wallets/getWeb3'\r\nimport { GnosisSafe } from 'src/types/contracts/gnosis_safe.d'\r\n\r\nexport const decodeMessage = (message: string): string => {\r\n  const code = CONTRACT_ERROR_CODES.find((code) => {\r\n    return message.toUpperCase().includes(code.toUpperCase())\r\n  })\r\n\r\n  return code ? `${code}: ${CONTRACT_ERRORS[code]}` : message\r\n}\r\n\r\nexport const getContractErrorMessage = async ({\r\n  safeInstance,\r\n  from,\r\n  data,\r\n}: {\r\n  safeInstance: GnosisSafe\r\n  from: string\r\n  data: string\r\n}): Promise<string | null> => {\r\n  const web3 = getWeb3()\r\n\r\n  try {\r\n    const returnData = await web3.eth.call({\r\n      to: safeInstance.options.address,\r\n      from,\r\n      value: 0,\r\n      data,\r\n    })\r\n\r\n    const returnBuffer = Buffer.from(returnData.slice(2), 'hex')\r\n\r\n    const contractOutput = abi.rawDecode(['string'], returnBuffer.slice(4))[0]\r\n    return decodeMessage(contractOutput)\r\n  } catch (e) {\r\n    return decodeMessage(e.message)\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"xs\":\"Block_xs__2EvwF\",\"sm\":\"Block_sm__GXjVs\",\"md\":\"Block_md__10nMM\",\"lg\":\"Block_lg__3StZf\",\"xl\":\"Block_xl__m7ohe\",\"paddingXs\":\"Block_paddingXs__12OUf\",\"paddingSm\":\"Block_paddingSm__3sQgR\",\"paddingMd\":\"Block_paddingMd__26wzM\",\"paddingLg\":\"Block_paddingLg__1nveC\",\"paddingXl\":\"Block_paddingXl__pEHwu\",\"center\":\"Block_center__2Fde9\",\"left\":\"Block_left__2TAGm\",\"space-around\":\"Block_space-around__3SmJF\",\"right\":\"Block_right__2zkOu\"};","import { OptionsObject } from 'notistack'\r\n\r\nexport const SUCCESS = 'success'\r\nexport const ERROR = 'error'\r\nexport const WARNING = 'warning'\r\nexport const INFO = 'info'\r\n\r\nconst shortDuration = 5000\r\nconst longDuration = 10000\r\n\r\nexport type NotificationId = keyof typeof NOTIFICATION_IDS\r\n\r\nexport type Notification = {\r\n  message: string\r\n  options: OptionsObject\r\n  key?: string\r\n  dismissed?: boolean\r\n}\r\n\r\nenum NOTIFICATION_IDS {\r\n  UNLOCK_WALLET_MSG,\r\n  CONNECT_WALLET_ERROR_MSG,\r\n  CREATE_SAFE_FAILED_MSG,\r\n  SIGN_TX_MSG,\r\n  TX_REJECTED_MSG,\r\n  TX_EXECUTED_MSG,\r\n  TX_CANCELLATION_EXECUTED_MSG,\r\n  TX_FAILED_MSG,\r\n  TX_PENDING_MSG,\r\n  TX_WAITING_MSG,\r\n  TX_CONFIRMATION_EXECUTED_MSG,\r\n  TX_CONFIRMATION_FAILED_MSG,\r\n  TX_FETCH_SIGNATURES_ERROR_MSG,\r\n  SAFE_APPS_FETCH_ERROR_MSG,\r\n  SAFE_NAME_CHANGED_MSG,\r\n  OWNER_NAME_CHANGE_EXECUTED_MSG,\r\n  SIGN_SETTINGS_CHANGE_MSG,\r\n  SETTINGS_CHANGE_REJECTED_MSG,\r\n  SETTINGS_CHANGE_EXECUTED_MSG,\r\n  SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  SETTINGS_CHANGE_FAILED_MSG,\r\n  SIGN_NEW_SPENDING_LIMIT_MSG,\r\n  NEW_SPENDING_LIMIT_REJECTED_MSG,\r\n  NEW_SPENDING_LIMIT_EXECUTED_MSG,\r\n  NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  NEW_SPENDING_LIMIT_FAILED_MSG,\r\n  SIGN_REMOVE_SPENDING_LIMIT_MSG,\r\n  REMOVE_SPENDING_LIMIT_REJECTED_MSG,\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MSG,\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  REMOVE_SPENDING_LIMIT_FAILED_MSG,\r\n  ADDRESS_BOOK_NEW_ENTRY_SUCCESS,\r\n  ADDRESS_BOOK_EDIT_ENTRY_SUCCESS,\r\n  ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS,\r\n  ADDRESS_BOOK_DELETE_ENTRY_SUCCESS,\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS,\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_ERROR,\r\n  SAFE_NEW_VERSION_AVAILABLE,\r\n}\r\n\r\nexport const NOTIFICATIONS: Record<NotificationId, Notification> = {\r\n  // Wallet Connection\r\n  UNLOCK_WALLET_MSG: {\r\n    message: 'Unlock your wallet to connect',\r\n    options: { variant: WARNING, persist: true, preventDuplicate: true },\r\n  },\r\n  CONNECT_WALLET_ERROR_MSG: {\r\n    message: 'Error connecting to your wallet',\r\n    options: { variant: ERROR, persist: true },\r\n  },\r\n  // Safe creation\r\n  CREATE_SAFE_FAILED_MSG: {\r\n    message: 'Safe creation failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  // Regular/Custom Transactions\r\n  SIGN_TX_MSG: {\r\n    message: 'Please sign the transaction',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  TX_REJECTED_MSG: {\r\n    message: 'Transaction rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_EXECUTED_MSG: {\r\n    message: 'Transaction successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_CANCELLATION_EXECUTED_MSG: {\r\n    message: 'Rejection successfully submitted',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_FAILED_MSG: {\r\n    message: 'Transaction failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_PENDING_MSG: {\r\n    message: 'Transaction still pending. Consider resubmitting with a higher gas price.',\r\n    options: { variant: ERROR, persist: true, autoHideDuration: shortDuration },\r\n  },\r\n  TX_WAITING_MSG: {\r\n    message: 'A transaction requires your confirmation',\r\n    key: 'TX_WAITING_MSG',\r\n    options: {\r\n      variant: WARNING,\r\n      persist: false,\r\n      autoHideDuration: shortDuration,\r\n      preventDuplicate: true,\r\n    },\r\n  },\r\n\r\n  TX_CONFIRMATION_EXECUTED_MSG: {\r\n    message: 'Confirmation transaction was successful',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  TX_CONFIRMATION_FAILED_MSG: {\r\n    message: 'Confirmation transaction failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  TX_FETCH_SIGNATURES_ERROR_MSG: {\r\n    message: 'Couldnt fetch all signatures for this transaction. Please reload page and try again',\r\n    options: { variant: ERROR, persist: true },\r\n  },\r\n  SAFE_APPS_FETCH_ERROR_MSG: {\r\n    message: 'Error fetching the Safe Apps, please refresh the page',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  // Safe Name\r\n  SAFE_NAME_CHANGED_MSG: {\r\n    message: 'Safe name changed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Owner Name\r\n  OWNER_NAME_CHANGE_EXECUTED_MSG: {\r\n    message: 'Owner name changed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Settings\r\n  SIGN_SETTINGS_CHANGE_MSG: {\r\n    message: 'Please sign the settings change',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  SETTINGS_CHANGE_REJECTED_MSG: {\r\n    message: 'Settings change rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  SETTINGS_CHANGE_EXECUTED_MSG: {\r\n    message: 'Settings change successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n  SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'Settings change successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  SETTINGS_CHANGE_FAILED_MSG: {\r\n    message: 'Settings change failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: shortDuration },\r\n  },\r\n\r\n  // Spending limit\r\n  SIGN_NEW_SPENDING_LIMIT_MSG: {\r\n    message: 'Please sign the new spending limit',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  NEW_SPENDING_LIMIT_REJECTED_MSG: {\r\n    message: 'New spending limit rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_EXECUTED_MSG: {\r\n    message: 'New spending limit successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'New spending limit successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  NEW_SPENDING_LIMIT_FAILED_MSG: {\r\n    message: 'New spending limit failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  SIGN_REMOVE_SPENDING_LIMIT_MSG: {\r\n    message: 'Please sign the remove Spending limit',\r\n    options: { variant: INFO, persist: true },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_REJECTED_MSG: {\r\n    message: 'Remove spending limit rejected',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MSG: {\r\n    message: 'Remove spending limit successfully executed',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG: {\r\n    message: 'Remove spending limit successfully created. More confirmations needed to execute',\r\n    options: { variant: SUCCESS, persist: false, autoHideDuration: longDuration },\r\n  },\r\n  REMOVE_SPENDING_LIMIT_FAILED_MSG: {\r\n    message: 'Remove spending limit failed',\r\n    options: { variant: ERROR, persist: false, autoHideDuration: longDuration },\r\n  },\r\n\r\n  // Address book\r\n  ADDRESS_BOOK_NEW_ENTRY_SUCCESS: {\r\n    message: 'Entry created successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EDIT_ENTRY_SUCCESS: {\r\n    message: 'Entry saved successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS: {\r\n    message: 'Entries imported successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_DELETE_ENTRY_SUCCESS: {\r\n    message: 'Entry deleted successfully',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS: {\r\n    message: 'Address book exported',\r\n    options: { variant: SUCCESS, persist: false, preventDuplicate: false },\r\n  },\r\n  ADDRESS_BOOK_EXPORT_ENTRIES_ERROR: {\r\n    message: 'An error occurred while generating the address book CSV.',\r\n    options: { variant: ERROR, persist: false, preventDuplicate: false },\r\n  },\r\n\r\n  // Safe Version\r\n  SAFE_NEW_VERSION_AVAILABLE: {\r\n    message: 'There is a new version available for this Safe. Update now!',\r\n    options: { variant: WARNING, persist: false, preventDuplicate: true },\r\n  },\r\n}\r\n","import { IconButton } from '@material-ui/core'\r\nimport { Close as IconClose } from '@material-ui/icons'\r\n\r\nimport { Notification, NOTIFICATIONS } from './notificationTypes'\r\n\r\nimport closeSnackbarAction from 'src/logic/notifications/store/actions/closeSnackbar'\r\nimport { TX_NOTIFICATION_TYPES } from 'src/logic/safe/transactions'\r\nimport { getAppInfoFromOrigin } from 'src/routes/safe/components/Apps/utils'\r\nimport { store } from 'src/store'\r\n\r\nconst setNotificationOrigin = (notification: Notification, origin: string): Notification => {\r\n  if (!origin) {\r\n    return notification\r\n  }\r\n\r\n  const appInfo = getAppInfoFromOrigin(origin)\r\n  return { ...notification, message: `${appInfo ? appInfo.name : 'Unknown origin'}: ${notification.message}` }\r\n}\r\n\r\nconst getStandardTxNotificationsQueue = (\r\n  origin: string,\r\n): Record<string, Record<string, Notification> | Notification> => ({\r\n  beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n  afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n  },\r\n  afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_FAILED_MSG, origin),\r\n})\r\n\r\nconst waitingTransactionNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: NOTIFICATIONS.TX_WAITING_MSG,\r\n  afterExecution: null,\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst getConfirmationTxNotificationsQueue = (origin: string) => {\r\n  return {\r\n    beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n    afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n    afterExecution: {\r\n      noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n      moreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_CONFIRMATION_EXECUTED_MSG, origin),\r\n    },\r\n    afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_CONFIRMATION_FAILED_MSG, origin),\r\n  }\r\n}\r\n\r\nconst getCancellationTxNotificationsQueue = (origin: string) => {\r\n  return {\r\n    beforeExecution: setNotificationOrigin(NOTIFICATIONS.SIGN_TX_MSG, origin),\r\n    afterRejection: setNotificationOrigin(NOTIFICATIONS.TX_REJECTED_MSG, origin),\r\n    afterExecution: {\r\n      noMoreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_EXECUTED_MSG, origin),\r\n      moreConfirmationsNeeded: setNotificationOrigin(NOTIFICATIONS.TX_CANCELLATION_EXECUTED_MSG, origin),\r\n    },\r\n    afterExecutionError: setNotificationOrigin(NOTIFICATIONS.TX_FAILED_MSG, origin),\r\n  }\r\n}\r\n\r\nconst safeNameChangeNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.SAFE_NAME_CHANGED_MSG,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst ownerNameChangeNotificationsQueue = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.OWNER_NAME_CHANGE_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst settingsChangeTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_SETTINGS_CHANGE_MSG,\r\n  afterRejection: NOTIFICATIONS.SETTINGS_CHANGE_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.SETTINGS_CHANGE_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.SETTINGS_CHANGE_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.SETTINGS_CHANGE_FAILED_MSG,\r\n}\r\n\r\nconst newSpendingLimitTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_NEW_SPENDING_LIMIT_MSG,\r\n  afterRejection: NOTIFICATIONS.NEW_SPENDING_LIMIT_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.NEW_SPENDING_LIMIT_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.NEW_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.NEW_SPENDING_LIMIT_FAILED_MSG,\r\n}\r\n\r\nconst removeSpendingLimitTxNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_REMOVE_SPENDING_LIMIT_MSG,\r\n  afterRejection: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_EXECUTED_MSG,\r\n    moreConfirmationsNeeded: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_EXECUTED_MORE_CONFIRMATIONS_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.REMOVE_SPENDING_LIMIT_FAILED_MSG,\r\n}\r\n\r\nconst defaultNotificationsQueue = {\r\n  beforeExecution: NOTIFICATIONS.SIGN_TX_MSG,\r\n  afterRejection: NOTIFICATIONS.TX_REJECTED_MSG,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.TX_EXECUTED_MSG,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.TX_FAILED_MSG,\r\n}\r\n\r\nconst addressBookNewEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_NEW_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookEditEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_EDIT_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookImportEntries = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_IMPORT_ENTRIES_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookDeleteEntry = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_DELETE_ENTRY_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: null,\r\n}\r\n\r\nconst addressBookExportEntries = {\r\n  beforeExecution: null,\r\n  afterRejection: null,\r\n  waitingConfirmation: null,\r\n  afterExecution: {\r\n    noMoreConfirmationsNeeded: NOTIFICATIONS.ADDRESS_BOOK_EXPORT_ENTRIES_SUCCESS,\r\n    moreConfirmationsNeeded: null,\r\n  },\r\n  afterExecutionError: NOTIFICATIONS.ADDRESS_BOOK_EXPORT_ENTRIES_ERROR,\r\n}\r\n\r\nexport const getNotificationsFromTxType: any = (txType, origin) => {\r\n  let notificationsQueue\r\n\r\n  switch (txType) {\r\n    case TX_NOTIFICATION_TYPES.STANDARD_TX: {\r\n      notificationsQueue = getStandardTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.CONFIRMATION_TX: {\r\n      notificationsQueue = getConfirmationTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.CANCELLATION_TX: {\r\n      notificationsQueue = getCancellationTxNotificationsQueue(origin)\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.SETTINGS_CHANGE_TX: {\r\n      notificationsQueue = settingsChangeTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.NEW_SPENDING_LIMIT_TX: {\r\n      notificationsQueue = newSpendingLimitTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.REMOVE_SPENDING_LIMIT_TX: {\r\n      notificationsQueue = removeSpendingLimitTxNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.SAFE_NAME_CHANGE_TX: {\r\n      notificationsQueue = safeNameChangeNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.OWNER_NAME_CHANGE_TX: {\r\n      notificationsQueue = ownerNameChangeNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.WAITING_TX: {\r\n      notificationsQueue = waitingTransactionNotificationsQueue\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_NEW_ENTRY: {\r\n      notificationsQueue = addressBookNewEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_EDIT_ENTRY: {\r\n      notificationsQueue = addressBookEditEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_IMPORT_ENTRIES: {\r\n      notificationsQueue = addressBookImportEntries\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_DELETE_ENTRY: {\r\n      notificationsQueue = addressBookDeleteEntry\r\n      break\r\n    }\r\n    case TX_NOTIFICATION_TYPES.ADDRESS_BOOK_EXPORT_ENTRIES: {\r\n      notificationsQueue = addressBookExportEntries\r\n      break\r\n    }\r\n    default: {\r\n      notificationsQueue = defaultNotificationsQueue\r\n      break\r\n    }\r\n  }\r\n\r\n  return notificationsQueue\r\n}\r\n\r\nexport const enhanceSnackbarForAction = (\r\n  notification: Notification,\r\n  key?: string,\r\n  onClick?: () => void,\r\n): Notification => ({\r\n  ...notification,\r\n  key: key || notification.key,\r\n  options: {\r\n    ...notification.options,\r\n    onClick,\r\n    // eslint-disable-next-line react/display-name\r\n    action: (actionKey) => (\r\n      <IconButton onClick={() => store.dispatch(closeSnackbarAction({ key: actionKey }))}>\r\n        <IconClose />\r\n      </IconButton>\r\n    ),\r\n  },\r\n})\r\n","import { createSelector } from 'reselect'\r\nimport { ChainId, CHAIN_ID } from 'src/config/chain.d'\r\n\r\nimport { currentChainId } from 'src/logic/config/store/selectors'\r\nimport { PROVIDER_REDUCER_ID, ProviderState } from 'src/logic/wallets/store/reducer/provider'\r\nimport { AppReduxState } from 'src/store'\r\n\r\nexport const providerSelector = (state: AppReduxState): ProviderState => state[PROVIDER_REDUCER_ID]\r\n\r\nexport const userAccountSelector = createSelector(providerSelector, (provider: ProviderState): string => {\r\n  const account = provider.get('account')\r\n  return account || ''\r\n})\r\n\r\nexport const providerNameSelector = createSelector(providerSelector, (provider: ProviderState): string | undefined => {\r\n  const name = provider.get('name')\r\n  return name ? name.toLowerCase() : undefined\r\n})\r\n\r\nexport const networkSelector = createSelector(providerSelector, (provider: ProviderState): ChainId => {\r\n  const networkId = provider.get('network')\r\n\r\n  return networkId ?? CHAIN_ID.UNKNOWN\r\n})\r\n\r\nexport const shouldSwitchWalletChain = createSelector(\r\n  providerSelector,\r\n  currentChainId,\r\n  (provider: ProviderState, currentChainId: ChainId): boolean => {\r\n    const account = provider.get('account')\r\n    const networkId = provider.get('network').toString()\r\n    return !!account && networkId !== currentChainId\r\n  },\r\n)\r\n\r\nexport const loadedSelector = createSelector(providerSelector, (provider: ProviderState): boolean =>\r\n  provider.get('loaded'),\r\n)\r\n\r\nexport const availableSelector = createSelector(providerSelector, (provider: ProviderState): boolean =>\r\n  provider.get('available'),\r\n)\r\n","import classNames from 'classnames/bind'\r\nimport { MouseEventHandler, CSSProperties, ReactElement, ReactNode } from 'react'\r\n\r\nimport styles from './index.module.scss'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\ninterface Props {\r\n  align?: string\r\n  children: ReactNode\r\n  className?: string\r\n  color?: string\r\n  dot?: string\r\n  noMargin?: boolean\r\n  size?: string\r\n  transform?: string\r\n  weight?: string\r\n  onClick?: MouseEventHandler<HTMLParagraphElement>\r\n  style?: CSSProperties\r\n  title?: string\r\n}\r\n\r\nconst Paragraph = (props: Props): ReactElement => {\r\n  const { align, children, className, color, dot, noMargin, size, transform, weight, ...restProps } = props\r\n  return (\r\n    <p\r\n      className={cx(styles.paragraph, className, weight, { noMargin, dot }, size, color, transform, align)}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Paragraph\r\n","import { _getChainId } from 'src/config'\r\nimport { ChainId, CHAIN_ID } from 'src/config/chain.d'\r\nimport Storage from './Storage'\r\n\r\n// Legacy storage keys. New chains will use the chain id as prefix.\r\n// @TODO: migrate them to chain ids.\r\nconst STORAGE_KEYS: Record<ChainId, string> = {\r\n  [CHAIN_ID.ETHEREUM]: 'MAINNET',\r\n  [CHAIN_ID.RINKEBY]: 'RINKEBY',\r\n  [CHAIN_ID.BSC]: 'BSC',\r\n  [CHAIN_ID.XDAI]: 'XDAI',\r\n  [CHAIN_ID.POLYGON]: 'POLYGON',\r\n  [CHAIN_ID.ENERGY_WEB_CHAIN]: 'ENERGY_WEB_CHAIN',\r\n  [CHAIN_ID.ARBITRUM]: 'ARBITRUM',\r\n  [CHAIN_ID.VOLTA]: 'VOLTA',\r\n}\r\n\r\nexport const storage = new Storage(window.localStorage, '')\r\n\r\nexport const getStoragePrefix = (id = _getChainId()): string => {\r\n  const name = STORAGE_KEYS[id] || id\r\n  // Legacy ImmortalDB prefix\r\n  // @TODO: migrate it\r\n  return `_immortal|v2_${name}__`\r\n}\r\n\r\nexport const loadFromStorage = <T = unknown>(key: string, prefix = getStoragePrefix()): T | undefined => {\r\n  return storage.getItem(`${prefix}${key}`)\r\n}\r\n\r\nexport const saveToStorage = <T = unknown>(key: string, value: T): void => {\r\n  storage.setItem<T>(`${getStoragePrefix()}${key}`, value)\r\n}\r\n\r\nexport const removeFromStorage = (key: string): void => {\r\n  storage.removeItem(`${getStoragePrefix()}${key}`)\r\n}\r\n\r\n// This function is only meant to be used in L2-UX migration to gather information from other networks\r\nexport const saveMigratedKeyToStorage = async <T = unknown>(key: string, value: T): Promise<void> => {\r\n  storage.setItem(`_immortal|${key}`, value)\r\n}\r\n","import { ChainInfo, getChainsConfig, RPC_AUTHENTICATION } from '@gnosis.pm/safe-react-gateway-sdk'\r\nimport { setWeb3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { GATEWAY_URL } from 'src/utils/constants'\r\n\r\n// Cache is required as loading Redux store directly is an anit-pattern\r\nlet chains: ChainInfo[] = []\r\n\r\nexport const getChains = (): ChainInfo[] => chains\r\n\r\nexport const loadChains = async () => {\r\n  const { results = [] } = await getChainsConfig(GATEWAY_URL, { limit: 100 })\r\n  chains = results\r\n  // Set the initail web3 provider after loading chains\r\n  setWeb3ReadOnly()\r\n}\r\n\r\n// An empty template is required because `getChain()` uses `find()` on load\r\nexport const emptyChainInfo: ChainInfo = {\r\n  transactionService: '',\r\n  chainId: '',\r\n  chainName: '',\r\n  shortName: '',\r\n  l2: false,\r\n  description: '',\r\n  rpcUri: { authentication: '' as RPC_AUTHENTICATION, value: '' },\r\n  publicRpcUri: { authentication: '' as RPC_AUTHENTICATION, value: '' },\r\n  safeAppsRpcUri: { authentication: '' as RPC_AUTHENTICATION, value: '' },\r\n  blockExplorerUriTemplate: {\r\n    address: '',\r\n    txHash: '',\r\n    api: '',\r\n  },\r\n  nativeCurrency: {\r\n    name: '',\r\n    symbol: '',\r\n    decimals: 0,\r\n    logoUri: '',\r\n  },\r\n  theme: { textColor: '', backgroundColor: '' },\r\n  ensRegistryAddress: '',\r\n  gasPrice: [],\r\n  disabledWallets: [],\r\n  features: [],\r\n}\r\n","import { EthAdapterTransaction } from '@gnosis.pm/safe-core-sdk'\r\nimport axios from 'axios'\r\nimport { BigNumber } from 'bignumber.js'\r\nimport { getSDKWeb3ReadOnly, getWeb3, getWeb3ReadOnly } from 'src/logic/wallets/getWeb3'\r\nimport { getFixedGasPrice, getGasPriceOracles } from 'src/config'\r\nimport { CodedException, Errors } from '../exceptions/CodedException'\r\nimport { GasPriceOracle } from '@gnosis.pm/safe-react-gateway-sdk'\r\n\r\nexport const EMPTY_DATA = '0x'\r\n\r\nconst fetchGasPrice = async (gasPriceOracle: GasPriceOracle): Promise<string> => {\r\n  const { uri, gasParameter, gweiFactor } = gasPriceOracle\r\n  const { data: response } = await axios.get(uri)\r\n  const data = response.data || response.result || response // Sometimes the data comes with a data parameter\r\n  return new BigNumber(data[gasParameter]).multipliedBy(gweiFactor).toString()\r\n}\r\n\r\nexport const calculateGasPrice = async (): Promise<string> => {\r\n  const gasPriceOracles = getGasPriceOracles()\r\n\r\n  for (const gasPriceOracle of gasPriceOracles) {\r\n    try {\r\n      const fetchedGasPrice = await fetchGasPrice(gasPriceOracle)\r\n      return fetchedGasPrice\r\n    } catch (err) {\r\n      // Keep iterating price oracles\r\n    }\r\n  }\r\n\r\n  // A fallback to fixed gas price from the chain config\r\n  const fixedGasPrice = getFixedGasPrice()\r\n  if (fixedGasPrice) {\r\n    return fixedGasPrice.weiValue\r\n  }\r\n\r\n  // A fallback based on the median of a few last blocks\r\n  const web3ReadOnly = getWeb3ReadOnly()\r\n  return await web3ReadOnly.eth.getGasPrice()\r\n}\r\n\r\nexport const calculateGasOf = async (txConfig: EthAdapterTransaction): Promise<number> => {\r\n  try {\r\n    const ethAdapter = getSDKWeb3ReadOnly()\r\n\r\n    return await ethAdapter.estimateGas(txConfig)\r\n  } catch (err) {\r\n    throw new CodedException(Errors._612, err.message)\r\n  }\r\n}\r\n\r\nexport const getUserNonce = async (userAddress: string): Promise<number> => {\r\n  const web3 = getWeb3()\r\n  try {\r\n    return await web3.eth.getTransactionCount(userAddress, 'pending')\r\n  } catch (error) {\r\n    return Promise.reject(error)\r\n  }\r\n}\r\n"],"sourceRoot":""}