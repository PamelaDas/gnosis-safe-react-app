(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[37],{1539:function(e,n,t){"use strict";var a=t(8),r=t(1536),c=t(1);n.a=function(e){return Object(c.jsx)(r.a,Object(a.a)({},e))}},1546:function(e,n,t){"use strict";var a=t(8),r=t(63),c=t(624),i=t(544),o=t(423),s=t(10),l=t(1),d=["name","onChange","value"],u=["input","inputAdornment","meta","multiline","rows","testId","text"],b={overflow:"hidden",width:"100%"},j=Object(o.a)((function(){return Object(i.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));n.a=function(e){var n=e.input,t=n.name,i=n.onChange,o=n.value,s=Object(r.a)(n,d),f=e.inputAdornment,h=e.meta,p=e.multiline,O=e.rows,m=e.testId,x=e.text,g=Object(r.a)(e,u),v=j(),w=o?x:void 0,y=(h.touched||!h.pristine)&&!h.valid,k=!!h.error||!h.modifiedSinceLastSubmit&&!!h.submitError,S=h.error||h.submitError,C=!h.active&&(h.pristine||!h.touched),_="undefined"===typeof h.error||!h.touched,N=C&&_,T=w?v.root:"",E=h.valid?"isValid":k&&y?"isInvalid":"",z=Object(a.a)(Object(a.a)({},s),{},{autoComplete:"off","data-testid":m}),F=Object(a.a)(Object(a.a)({},f),{},{className:"".concat(T," ").concat(E),disableUnderline:N});return Object(l.jsx)(c.a,Object(a.a)({error:k&&y,helperText:k&&y?S:w||" ",inputProps:z,InputProps:F,multiline:p,name:t,onChange:i,rows:O,style:b,value:o},g))}},1568:function(e,n,t){"use strict";t.d(n,"a",(function(){return _}));var a=t(35),r=t(423),c=t(0),i=t.p+"static/media/qrcode.f0b048aa.svg",o=t(432),s=t(568),l=t.n(s),d=t(1597),u=t.n(d),b=t(10),j=t(544),f=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=t(346),p=t(151),O=t(192),m=t(110),x=t(177),g=t(91),v=t(122),w=t(1),y=Object(r.a)(f),k=function(e){var n=e.isOpen,t=e.onClose,r=e.onScan,i=y(),s=Object(c.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)(null),k=Object(a.a)(f,2),S=k[0],C=k[1],_=Object(c.useState)(!1),N=Object(a.a)(_,2),T=N[0],E=N[1],z=c.createRef(),F=c.useCallback((function(){z.current.openImageDialog()}),[z]);Object(c.useEffect)((function(){b||!T||S||(j(!0),F())}),[T,F,b,j,S]);var I=function(e,n){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(E(!0),j(!1)):C("The QR could not be read"));n?r(n):T&&C("The QR could not be read")};return Object(w.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:t,open:n,title:"Receive Tokens",children:[Object(w.jsxs)(v.a,{align:"center",className:i.heading,grow:!0,children:[Object(w.jsx)(g.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(w.jsx)(o.a,{disableRipple:!0,onClick:t,children:Object(w.jsx)(l.a,{className:i.close})})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(m.a,{className:i.detailsContainer,layout:"column",middle:"xs",children:[S&&Object(w.jsx)(p.a,{padding:"md",margin:"md",children:S}),Object(w.jsx)(u.a,{legacyMode:T,onError:function(e){return I(e,null)},onScan:function(e){return I(null,e)},ref:z,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(v.a,{align:"center",className:i.buttonRow,children:[Object(w.jsx)(O.a,{className:i.button,color:"secondary",minWidth:154,onClick:t,children:"Close"}),Object(w.jsx)(O.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){E(!0),C(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},S=t(131),C=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),_=function(e){var n=e.handleScan,t=e.testId,r=C(),o=Object(c.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:i,testId:t||"qr-icon"}),l&&Object(w.jsx)(k,{isOpen:l,onClose:u,onScan:function(e){n(e,u)}})]})}},1575:function(e,n,t){"use strict";var a=t(8),r=t(63),c=t(545),i=t(546),o=t(1447),s=t(551),l=t(1),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};n.a=function(e){var n=e.classes,t=e.disableError,j=e.formControlProps,f=e.input,h=f.name,p=f.onChange,O=f.value,m=Object(r.a)(f,d),x=e.label,g=e.meta,v=e.renderValue,w=Object(r.a)(e,u),y=(g.submitError&&!g.dirtySinceLastSubmit||g.error)&&g.touched&&!t,k=Object(a.a)(Object(a.a)({},m),{},{name:h});return Object(l.jsxs)(c.a,Object(a.a)(Object(a.a)({},j),{},{error:y,style:b,children:[Object(l.jsx)(o.a,{htmlFor:h,children:x}),Object(l.jsx)(s.a,Object(a.a)({classes:n,inputProps:k,onChange:p,renderValue:v,value:O},w)),y&&Object(l.jsx)(i.a,{children:g.error||g.submitError})]}))}},1583:function(e,n,t){"use strict";var a=t(8),r=t(63),c=t(123),i=t.n(c),o=t(0),s=t(1589),l=t.n(s),d=t(72),u=["align","children","className","color","margin","tag","testId","truncate"],b=i.a.bind(l.a);n.a=function(e){var n=e.align,t=e.children,c=e.className,i=void 0===c?"":c,s=e.color,l=e.margin,j=e.tag,f=e.testId,h=e.truncate,p=Object(r.a)(e,u),O=b(i,"heading",n,j,l?Object(d.a)(l,"margin"):void 0,s,{truncate:h});return o.createElement(j,Object(a.a)(Object(a.a)({},p),{},{className:O,"data-testid":f||""}),t)}},1589:function(e,n,t){e.exports={heading:"Heading_heading__ZbcQo",h1:"Heading_h1__-wMHl",h2:"Heading_h2__3MQ2g",h3:"Heading_h3__2Eii5",h4:"Heading_h4__36iJN",center:"Heading_center__Rnu47",right:"Heading_right__nV1Cb",truncate:"Heading_truncate__18Axc",marginSm:"Heading_marginSm__3RRHh",marginMd:"Heading_marginMd__2NmMz",marginLg:"Heading_marginLg__2n10_",marginXl:"Heading_marginXl__39Nag",soft:"Heading_soft__3dfbK",medium:"Heading_medium__XLAVh",dark:"Heading_dark__36nFk",fancy:"Heading_fancy__2yEZW",warning:"Heading_warning__3tDQF",primary:"Heading_primary__mUy5R",secondary:"Heading_secondary__2YzXF",disabled:"Heading_disabled__3ODVW",error:"Heading_error__39ITf",white:"Heading_white__2fXVW"}},1599:function(e,n,t){"use strict";var a,r=t(24),c=t(8),i=t(22),o=t(19),s=t(10),l=t(1);n.a=function(e){var n=e.networkInfo,t=e.onClick,a=e.flexGrow,r=n||Object(o.e)();return Object(l.jsx)(d,Object(c.a)(Object(c.a)({onClick:t,flexGrow:a},r.theme),{},{children:r.chainName}))};var d=i.default.span(a||(a=Object(r.a)(["\n  position: relative;\n  bottom: 2px;\n  line-height: normal;\n  display: inline-block;\n  min-width: 70px;\n  font-size: ",";\n  padding: "," ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  text-align: center;\n  border-radius: 3px;\n  text-transform: capitalize;\n  flex-grow: ",";\n"])),s.extraSmallFontSize,s.xs,s.sm,(function(e){var n=e.backgroundColor;return null!==n&&void 0!==n?n:s.border}),(function(e){var n=e.textColor;return null!==n&&void 0!==n?n:s.fontColor}),(function(e){return e.onClick?"pointer":"inherit"}),(function(e){return e.flexGrow?1:"initial"}))},1609:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return d}));var a=t(8),r=t(35),c=t(0),i=t(20),o=t(1),s=Object(c.createContext)({});function l(){var e=Object(c.useContext)(s);if(!(Object.keys(e).length>0))throw new Error("useStepper must be used within a StepperProvider!");return e}function d(e){var n=e.onFinish,t=e.store,l=e.disableNextButton,d=e.stepsComponents,u=e.children,b=e.testId,j=Object(c.useState)(0),f=Object(r.a)(j,2),h=f[0],p=f[1],O=c.Children.toArray(d),m=O[h],x=m.props.nextButtonType,g=m.props.nextButtonLabel,v="submit"===x,w=0===h,y=h>O.length-2,k=g,S=Object(a.a)({currentStep:h,setCurrentStep:p,steps:O,CurrentStepComponent:m,isFirstStep:w,isLastStep:y,onClickPreviousStep:function(){w?i.s.goBack():p((function(e){return e-1}))},onClickNextStep:function(){v||(y?null===n||void 0===n||n():p((function(e){return e+1})))},disableNextButton:l,nextButtonType:x,customNextButtonLabel:k,testId:b},t);return Object(o.jsx)(s.Provider,{value:S,children:u})}},1610:function(e,n,t){"use strict";var a=t(14),r=t(8),c=t(81),i=t(35),o=t(0),s=t(1536),l=t(1598),d=t(633),u=t(625),b=t(1546),j=t(567),f=t(140),h=t(32),p=t(46),O=t(67),m=t(27),x=t(196),g=t(1);n.a=function(e){var n=e.className,t=void 0===n?"":n,v=e.name,w=void 0===v?"recipientAddress":v,y=e.text,k=void 0===y?"Recipient*":y,S=e.placeholder,C=void 0===S?"Recipient*":S,_=e.fieldMutator,N=e.testId,T=e.inputAdornment,E=e.validators,z=void 0===E?[]:E,F=e.defaultValue,I=e.disabled,A=Object(o.useState)(""),P=Object(i.a)(A,2),B=P[0],L=P[1],H=Object(o.useState)({}),M=Object(i.a)(H,2),R=M[0],D=M[1],G=R[B],V=""===G,W=Object(o.useCallback)((function(e){var n=Object(x.b)(e);return j.d.apply(void 0,Object(c.a)(z))(n.address)}),[z]),q=Object(o.useMemo)((function(){return Object(j.d)(j.p,j.k,W)}),[W]),Y=Object(o.useCallback)((function(e){var n=Object(f.c)(e);if(L(e),Object(p.e)(n)||Object(p.d)(n))D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,""))})),Object(h.b)(n).then((function(n){var t=Object(O.a)(n);D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,t))}))})).catch((function(n){D((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,void 0))})),Object(m.c)(m.b._101,n.message)}));else if(!Object(j.k)(n)){var t=Object(x.b)(n),c=Object(O.a)(t.address)||t.address;_(c)}}),[L,D,_]);Object(o.useEffect)((function(){G&&Y(G)}),[G,Y]);var Q=V?{endAdornment:Object(g.jsx)(d.a,{position:"end",children:Object(g.jsx)(u.a,{size:"16px"})})}:T;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(s.a,{className:t,component:b.a,defaultValue:F,disabled:I,inputAdornment:Q,name:w,placeholder:C,text:k,spellCheck:!1,validate:q,inputProps:{"data-testid":N}}),Object(g.jsx)(l.a,{name:w,children:Y})]})}},1664:function(e,n,t){"use strict";var a=t(123),r=t.n(a),c=t(1665),i=t.n(c),o=t(1),s=r.a.bind(i.a);n.a=function(e){var n=e.align,t=e.children,a=e.overflow;return Object(o.jsx)("main",{className:s(i.a.page,n,{overflow:a}),children:t})}},1665:function(e,n,t){e.exports={page:"Page_page__2x8Y1",center:"Page_center__3Bcyi",overflow:"Page_overflow__2Mdkw"}},1844:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t(8),r=t(35),c=t(0),i=t.n(c),o=t(1536),s=t(791),l=t(634),d=t(2771),u=t(789),b=t(429),j=t(423),f=t(177),h=t(192),p=t(110),O=t(122),m=t(10),x=t(1609),g=t(1);function v(){var e=Object(x.b)(),n=e.currentStep,t=e.setCurrentStep,a=e.steps,r=e.onClickPreviousStep,c=e.onClickNextStep,i=e.disableNextButton,o=e.nextButtonType,j=e.testId;return Object(g.jsx)(s.a,{"data-testid":j,activeStep:n,orientation:"vertical",children:a.map((function(e,s){var j=0===s,m=n>s,x=y({isStepLabelClickable:m});var v=a[s],w=j?"Cancel":"Back",k=v.props.nextButtonLabel||"Next";return Object(g.jsxs)(l.a,{children:[Object(g.jsx)(u.a,{onClick:function(){m&&t(s)},className:x.stepLabel,children:e.props.label}),Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.a,{className:x.root,elevation:1,children:[v,Object(g.jsx)(f.a,{}),Object(g.jsx)(O.a,{align:"center",grow:!0,className:x.controlStyle,children:Object(g.jsxs)(p.a,{center:"xs",xs:12,children:[Object(g.jsx)(h.a,{onClick:r,size:"small",className:x.backButton,type:"button",children:w}),Object(g.jsx)(h.a,{onClick:c,color:"primary",type:o||"button",disabled:i||e.props.disableNextButton,size:"small",className:x.nextButton,variant:"contained",children:k})]})})]})})]},e.props.label)}))})}function w(e){return Object(g.jsx)(x.a,Object(a.a)(Object(a.a)({stepsComponents:e.children},e),{},{children:Object(g.jsx)(v,{})}))}var y=Object(j.a)((function(e){return{root:{margin:"10px 0 10px 10px",maxWidth:"770px",boxShadow:"0 0 10px 0 rgba(33,48,77,0.10)"},controlStyle:{backgroundColor:"white",padding:m.lg,borderRadius:m.sm},backButton:{marginRight:m.sm,fontWeight:m.boldFont,color:e.palette.secondary.main},nextButton:{fontWeight:m.boldFont},stepLabel:{cursor:function(e){return e.isStepLabelClickable?"pointer":"inherit"}}}}));function k(e){return e.children}n.b=function(e){var n=e.children,t=e.onSubmit,s=e.testId,l=e.initialValues,d=Object(c.useState)(),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(c.useState)(),h=Object(r.a)(f,2),p=h[0],O=h[1],m=Object(c.useMemo)((function(){return i.a.Children.toArray(n).filter(Boolean).map((function(e,n,r){function i(){var a=Object(x.b)().setCurrentStep;return Object(c.useEffect)((function(){var c=n===r.length-1;j((function(){return e.props.validate})),O(c?function(){return function(e){return t(e)}}:function(){return function(){a((function(e){return e+1}))}})}),[a]),e.props.children}return Object(g.jsx)(k,Object(a.a)(Object(a.a)({nextButtonType:"submit"},e.props),{},{children:Object(g.jsx)(i,{})}),e.props.label)}))}),[n,t]);return Object(g.jsx)(o.b,{onSubmit:function(e){return null===p||void 0===p?void 0:p(e)},initialValues:l,validate:function(e){return null===b||void 0===b?void 0:b(e)},children:function(e){var n=e.handleSubmit,t=e.submitting;return Object(g.jsx)("form",{"data-testid":s,onSubmit:n,children:Object(g.jsx)(w,{disableNextButton:t,nextButtonType:"submit",children:m})})}})};function S(e){return e.children}},1845:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(35),r=t(0),c=t(19),i="\naardvark\nalbatross\nalligator\nalpaca\nant\nanteater\nantelope\nape\narmadillo\nbaboon\nbadger\nbarracuda\nbat\nbear\nbeaver\nbee\nbinturong\nbird\nbison\nbluebird\nboar\nbobcat\nbuffalo\nbutterfly\ncamel\ncapybara\ncaracal\ncaribou\ncassowary\ncat\ncaterpillar\ncattle\nchameleon\nchamois\ncheetah\nchicken\nchimpanzee\nchinchilla\nchough\ncoati\ncobra\ncockroach\ncod\ncormorant\ncougar\ncoyote\ncrab\ncrane\ncricket\ncrocodile\ncrow\ncuckoo\ncurlew\ndeer\ndegu\ndhole\ndingo\ndinosaur\ndog\ndogfish\ndolphin\ndonkey\ndotterel\ndove\ndragonfly\nduck\ndugong\ndunlin\neagle\nechidna\neel\neland\nelephant\nelk\nemu\nfalcon\nferret\nfinch\nfish\nflamingo\nfly\nfox\nfrog\ngaur\ngazelle\ngecko\ngerbil\ngiraffe\ngnat\ngnu\ngoat\ngoldfinch\ngoosander\ngoose\ngorilla\ngoshawk\ngrasshopper\ngrouse\nguanaco\nguinea-pig\ngull\nhamster\nhare\nhawk\nhedgehog\nheron\nherring\nhippopotamus\nhoatzin\nhoopoe\nhornet\nhorse\nhuman\nhummingbird\nhyena\nibex\nibis\niguana\nimpala\njackal\njaguar\njay\njellyfish\njerboa\nkangaroo\nkingfisher\nkinkajou\nkoala\nkomodo-dragon\nkookaburra\nkouprey\nkudu\nlapwing\nlark\nlemur\nleopard\nlion\nlizard\nllama\nlobster\nlocust\nloris\nlouse\nlynx\nlyrebird\nmacaque\nmacaw\nmagpie\nmallard\nmammoth\nmanatee\nmandrill\nmarmoset\nmarmot\nmeerkat\nmink\nmole\nmongoose\nmonkey\nmoose\nmosquito\nmouse\nmyna\nnarwhal\nnewt\nnightingale\noctopus\nokapi\nopossum\norangutan\noryx\nostrich\notter\nowl\noyster\npanther\nparrot\npanda\npartridge\npeafowl\npelican\npenguin\npheasant\npig\npigeon\npika\npolar-bear\npony\nporcupine\nporpoise\npug\nquail\nquelea\nquetzal\nrabbit\nraccoon\nram\nrat\nraven\nred-deer\nred-panda\nreindeer\nrhea\nrhinoceros\nrook\nsalamander\nsalmon\nsand-dollar\nsandpiper\nsardine\nsea-lion\nseahorse\nseal\nshark\nsheep\nshrew\nsiamang\nskunk\nsloth\nsnail\nsnake\nspider\nsquid\nsquirrel\nstarling\nstegosaurus\nswan\ntamarin\ntapir\ntarsier\ntermite\ntiger\ntoad\ntoucan\nturaco\nturkey\nturtle\numbrellabird\nvinegaroon\nviper\nvulture\nwallaby\nwalrus\nwasp\nwaxwing\nweasel\nwhale\nwobbegong\nwolf\nwolverine\nwombat\nwoodpecker\nworm\nwren\nyak\nzebra\n".trim().split(/\s+/),o="\nadmirable\nenergetic\nlucky\naffable\nenjoyable\nmagnificent\naffectionate\nenthusiastic\nmarvelous\nagreeable\neuphoric\nmeritorious\namazing\nexcellent\nmerry\namiable\nexceptional\nmild-mannered\namused\nexcited\nnice\namusing\nextraordinary\nnoble\nanimated\nexultant\noutstanding\nappreciative\nfabulous\noverjoyed\nastonishing\nfaithful\npassionate\nauthentic\nfantastic\npeaceful\nbelievable\nfervent\nplacid\nbenevolent\nfortunate\npleasant\nblissful\nfriendly\npleasing\nbouncy\nfun\npleasurable\nbrilliant\ngenuine\npositive\nbubbly\nglad\npraiseworthy\nbuoyant\nglorious\nprominent\ncalm\ngood\nproud\ncharming\ngood-humored\nrelaxed\ncheerful\ngood-natured\nreliable\ncheery\ngracious\nrespectable\nclever\ngrateful\nsharp\ncomfortable\ngreat\nsincere\ncomical\nhappy\nspirited\ncommendable\nheartfelt\nsplendid\nconfident\nhonest\nsuperb\ncongenial\nhonorable\nsuperior\ncontent\nhopeful\nterrific\ncordial\nhumorous\nthankful\ncourteous\nincredible\ntremendous\ndedicated\ninspirational\ntriumphant\ndelighted\njolly\ntrustworthy\ndelightful\njovial\ntrusty\ndependable\njoyful\ntruthful\ndevoted\njoyous\nuplifting\ndocile\njubilant\nvictorious\ndynamic\nkeen\nvigorous\neager\nkind\nvirtuous\nearnest\nlaudable\nvivacious\neasygoing\nlaughing\nwhimsical\nebullient\nlikable\nwitty\necstatic\nlively\nwonderful\nelated\nlovely\nworthy\nemphatic\nloving\nzealous\nenchanting\nloyal\nzestful\n".trim().split(/\s+/),s=function(e){return e[Math.floor(e.length*Math.random())]},l=function(e){var n=Object(r.useState)(""),t=Object(a.a)(n,2),c=t[0],l=t[1];return Object(r.useEffect)((function(){l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(i),n=s(o);return"".concat(n,"-").concat(e)}(e))}),[e]),c},d=function(){var e=Object(c.f)().toLowerCase();return l("".concat(e,"-safe"))}},2781:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(24),o=t(14),s=t(8),l=t(2),d=t.n(l),u=t(16),b=t(35),j=t(0),f=t.n(j),h=t(432),p=t(1886),O=t.n(p),m=t(22),x=t(30),g=t(2136),v=t.n(g),w=t(57),y=t(25),k=t(1664),S=t(151),C=t(122),_=t(1583),N=t(20),T=t(10),E=t(1844),z=t(1536),F=t(110),I=t(91),A=t(1539),P=t(1546),B=t(88),L="customSafeName",H="suggestedSafeName",M="owners",R="newSafeThreshold",D="maxOwnerNumber",G="safeCreationSalt",V="gasLimit",W="gasPrice",q="safeCreationTxHash",Y="NEW_SAFE_PENDING_CREATION_STORAGE_KEY",Q=t(1609),X=t(1599),U=t(1);var J,K,$,Z,ee,ne,te,ae,re,ce=function(){var e=Object(x.e)(B.d),n=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)().getState().values;return Object(U.jsxs)(ie,{"data-testid":"create-safe-name-step",children:[Object(U.jsx)(S.a,{margin:"md",children:Object(U.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["You are about to create a new Gnosis Safe wallet with one or more owners. First, let's give your new wallet a name. This name is only stored locally and will never be shared with Gnosis or any third parties. The new Safe will ONLY be available on ",Object(U.jsx)(X.a,{})]})}),Object(U.jsx)("label",{htmlFor:L,children:"Name of the new Safe"}),Object(U.jsx)(oe,{margin:"lg",children:Object(U.jsx)(F.a,{xs:11,children:Object(U.jsx)(A.a,{component:P.a,name:L,placeholder:t.suggestedSafeName,text:"Safe name",type:"text",testId:"create-safe-name-field"})})}),Object(U.jsx)(S.a,{margin:"lg",children:Object(U.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["By continuing you consent with the"," ",Object(U.jsx)(se,{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank",children:"terms of use"})," ","and"," ",Object(U.jsx)(se,{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank",children:"privacy policy"}),". Most importantly, you confirm that your funds are held securely in the Gnosis Safe, a smart contract on the Ethereum blockchain. These funds cannot be accessed by Gnosis at any point."]})})]})},ie=Object(m.default)(S.a)(a||(a=Object(i.a)(["\n  padding: ",";\n"])),T.lg),oe=Object(m.default)(S.a)(r||(r=Object(i.a)(["\n  display: flex;\n  max-width: 480px;\n  margin-top: 12px;\n"]))),se=m.default.a(c||(c=Object(i.a)(["\n  color: ",";\n"])),T.secondary),le=t(1845),de=t(81),ue=t(1884),be=t.n(ue),je=t(633),fe=t(623),he=t(1610),pe=t(192),Oe=t(355),me=t(1575),xe=t(177),ge=t(567),ve=t(1568),we=t(347);var ye,ke,Se,Ce,_e,Ne=function(){var e=Object(x.e)(B.d),n=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)(),a=Object(x.e)(we.f),r=t.getState().values,c=t.getState().errors||{},i=r.owners,o=r.newSafeThreshold,s=r.maxOwnerNumber;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(Ee,{"data-testid":"create-safe-owners-confirmation-step",children:[Object(U.jsx)(ze,{color:"primary",noMargin:!0,size:"lg",children:"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner."}),Object(U.jsxs)(I.a,{color:"primary",size:"lg",children:["Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. In general, the more confirmations required, the more secure your Safe is.",Object(U.jsxs)(Fe,{href:"https://help.gnosis-safe.io/en/articles/4772567-what-gnosis-safe- setup-should-i-use",target:"_blank",rel:"noreferrer",title:"Learn about which Safe setup to use",children:[Object(U.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:"Learn about which Safe setup to use"}),Object(U.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]}),". The new Safe will ONLY be available on ",Object(U.jsx)(X.a,{})]})]}),Object(U.jsx)(xe.a,{}),Object(U.jsxs)(Ie,{children:[Object(U.jsx)(F.a,{xs:3,children:"NAME"}),Object(U.jsx)(F.a,{xs:7,children:"ADDRESS"})]}),Object(U.jsx)(xe.a,{}),Object(U.jsxs)(S.a,{margin:"md",padding:"md",children:[Object(U.jsx)(Ie,{children:i.map((function(e){var n=e.nameFieldName,r=e.addressFieldName,s=c[r],l="owner-address-0"!==r;return Object(U.jsxs)(j.Fragment,{children:[Object(U.jsx)(F.a,{xs:3,children:Object(U.jsx)(Ae,{component:P.a,name:n,placeholder:"Owner Name",text:"Owner Name",type:"text",validate:Object(ge.h)(0,50),testId:n})}),Object(U.jsx)(F.a,{xs:7,children:Object(U.jsx)(he.a,{fieldMutator:function(e){var c;t.change(r,e);var i=null===(c=a[e])||void 0===c?void 0:c.name;i&&t.change(n,i)},inputAdornment:!s&&{endAdornment:Object(U.jsx)(je.a,{position:"end",children:Object(U.jsx)(Pe,{"data-testid":"".concat(r,"-valid-adornment")})})},name:r,placeholder:"Owner Address*",text:"Owner Address",testId:r})}),Object(U.jsx)(Be,{xs:1,center:"xs",middle:"xs",children:Object(U.jsx)(ve.a,{handleScan:function(e,n){t.change(r,e),n()},testId:"".concat(r,"-scan-QR")})}),l&&Object(U.jsx)(Be,{xs:1,center:"xs",middle:"xs",children:Object(U.jsx)(Oe.a,{onClick:function(){return function(e){var n=e.addressFieldName,a=i.filter((function(e){return e.addressFieldName!==n}));t.change(M,a),o>a.length&&t.change(R,o-1)}({addressFieldName:r})},dataTestId:"".concat(r,"-remove-button"),children:Object(U.jsx)(y.Icon,{size:"sm",type:"delete",color:"icon",tooltip:"Delete Owner"})})})]},r)}))}),Object(U.jsx)(Le,{align:"center",grow:!0,children:Object(U.jsx)(pe.a,{color:"secondary","data-testid":"add-new-owner",onClick:function(){var e={nameFieldName:"owner-name-".concat(s),addressFieldName:"owner-address-".concat(s)};t.change(M,[].concat(Object(de.a)(i),[e]));var n=s+1;t.change(D,n)},children:Object(U.jsx)(I.a,{noMargin:!0,size:"lg",children:"+ Add another owner"})})}),Object(U.jsxs)(Ee,{children:[Object(U.jsx)(S.a,{children:Object(U.jsx)(I.a,{children:"Any transaction requires the confirmation of:"})}),Object(U.jsxs)(Le,{align:"center",grow:!0,children:[Object(U.jsx)(F.a,{xs:1,children:Object(U.jsx)(A.a,{component:me.a,"data-testid":"threshold-selector-input",name:R,validate:Object(ge.d)(ge.p,Object(ge.i)(1)),children:i.map((function(e,n){return Object(U.jsx)(fe.a,{value:n+1,"data-testid":"threshold-selector-option-".concat(n+1),children:n+1},"threshold-selector-option-".concat(n))}))})}),Object(U.jsx)(F.a,{xs:11,children:Object(U.jsxs)(He,{noMargin:!0,children:["out of ",i.length," owner(s)"]})})]})]})]})]})},Te=function(e){var n={},t=e.owners,a=e.newSafeThreshold,r=t.map((function(n){var t=n.addressFieldName;return e[t]}));return t.forEach((function(t,a){var c=t.addressFieldName,i=e[c];r.slice(0,a).includes(i)&&(n[c]=ge.a)})),!!a&&a<=t.length||(n.newSafeThreshold=ge.b),n},Ee=Object(m.default)(S.a)(J||(J=Object(i.a)(["\n  padding: ",";\n"])),T.lg),ze=Object(m.default)(I.a)(K||(K=Object(i.a)(["\n  margin-bottom: 12px;\n"]))),Fe=Object(m.default)(y.Link)($||($=Object(i.a)(["\n  padding: 0 ",";\n  & svg {\n    position: relative;\n    top: 1px;\n    left: ",";\n    height: 14px;\n    width: 14px;\n  }\n"])),T.xs,T.xs),Ie=Object(m.default)(C.a)(Z||(Z=Object(i.a)(["\n  padding: "," ",";\n  font-size: ",";\n  color: ",";\n"])),T.sm,T.lg,T.extraSmallFontSize,T.disabled),Ae=Object(m.default)(A.a)(ee||(ee=Object(i.a)(["\n  margin-right: ",";\n  margin-bottom: ",";\n"])),T.sm,T.sm),Pe=Object(m.default)(be.a)(ne||(ne=Object(i.a)(["\n  color: #03ae60;\n  height: 20px;\n"]))),Be=Object(m.default)(F.a)(te||(te=Object(i.a)(["\n  height: 56px;\n  max-width: 32px;\n  cursor: pointer;\n"]))),Le=Object(m.default)(C.a)(ae||(ae=Object(i.a)(["\n  justify-content: center;\n"]))),He=Object(m.default)(I.a)(re||(re=Object(i.a)(["\n  padding-left: 12px;\n"]))),Me=t(627),Re=t(19),De=t(111),Ge=t(298),Ve=t(253),We=t(97),qe=function(){var e=Object(u.a)(d.a.mark((function e(n,t,a,r){var c,i,o,s,l,u,j,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(De.b)(r,t,n,a),Object(We.c)()]);case 2:return c=e.sent,i=Object(b.a)(c,2),o=i[0],s=i[1],l=o*parseInt(s,10),u=Object(Re.n)(),j=Object(Ge.a)(l,u.decimals),f=Object(Ve.a)(j),e.abrupt("return",{gasPrice:s,gasEstimation:o,gasCostFormatted:f,gasLimit:o});case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),Ye=t(163);var Qe=function(){var e=Object(x.e)(B.d),n=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(z.d)(),a=t.getState().values,r=a.suggestedSafeName,c=a.customSafeName||r,i=a.newSafeThreshold,o=a.owners,s=o.length,l=a.safeCreationSalt,d=function(e){var n=e.addresses,t=e.numOwners,a=e.safeCreationSalt,r=Object(j.useState)({gasEstimation:0,gasCostFormatted:"< 0.001",gasLimit:0,gasPrice:"0"}),c=Object(b.a)(r,2),i=c[0],o=c[1],s=Object(x.e)(B.g),l=JSON.stringify(n);return Object(j.useEffect)((function(){var e,n=JSON.parse(l);n.length&&t&&s&&(null===(e=qe(s,t,a,n))||void 0===e||e.then(o))}),[t,a,l,s]),i}({addresses:o.map((function(e){var n=e.addressFieldName;return a[n]})),numOwners:s,safeCreationSalt:l}),u=d.gasCostFormatted,h=d.gasLimit,p=d.gasPrice,O=Object(Re.n)();return Object(j.useEffect)((function(){t.change(V,h),t.change(W,p)}),[h,p,t]),Object(U.jsxs)(C.a,{"data-testid":"create-safe-review-step",children:[Object(U.jsx)(F.a,{xs:4,layout:"column",children:Object(U.jsxs)(Xe,{children:[Object(U.jsx)(S.a,{margin:"lg",children:Object(U.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(U.jsxs)(S.a,{margin:"lg",children:[Object(U.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Name of new Safe"}),Object(U.jsx)(Ue,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-safe-name",children:c})]}),Object(U.jsxs)(S.a,{margin:"lg",children:[Object(U.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(U.jsx)(I.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-threshold-label",children:"".concat(i," out of ").concat(s," owners")})]})]})}),Object(U.jsx)(F.a,{layout:"column",xs:8,children:Object(U.jsxs)(Me.a,{children:[Object(U.jsx)(Je,{children:Object(U.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(s," Safe owners")})}),Object(U.jsx)(xe.a,{}),o.map((function(e){var n=e.nameFieldName,t=e.addressFieldName,r=a[n],c=a[t];return Object(U.jsxs)(f.a.Fragment,{children:[Object(U.jsx)(Ke,{children:Object(U.jsx)(F.a,{align:"center",xs:12,"data-testid":"create-safe-owner-details-".concat(c),children:Object(U.jsx)(Ye.a,{hash:c,name:r,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(Re.i)(c)})})}),Object(U.jsx)(xe.a,{})]},"owner-".concat(t))}))]})}),Object(U.jsx)($e,{align:"center",children:Object(U.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["You're about to create a new Safe on ",Object(U.jsx)(X.a,{})," and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",u," ",O.symbol,". The exact amount will be determined by your wallet."]})})]})},Xe=Object(m.default)(S.a)(ye||(ye=Object(i.a)(["\n  padding: ",";\n  border-right: solid 1px ",";\n  height: 100%;\n"])),T.lg,T.border),Ue=Object(m.default)(I.a)(ke||(ke=Object(i.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),Je=Object(m.default)(S.a)(Se||(Se=Object(i.a)(["\n  padding: ",";\n"])),T.lg),Ke=Object(m.default)(C.a)(Ce||(Ce=Object(i.a)(["\n  align-items: center;\n  min-width: fit-content;\n  padding: ",";\n  padding-left: ",";\n"])),T.sm,T.lg),$e=Object(m.default)(C.a)(_e||(_e=Object(i.a)(["\n  background-color: ",";\n  padding: ",";\n  text-align: center;\n"])),T.background,T.lg),Ze=t(93),en=t(2139),nn=t(32),tn=t(46),an=t(140),rn=t(27);function cn(e){return on.apply(this,arguments)}function on(){return(on=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.sender,a=n.hash,r=n.nonce,c=n.data,i=Object(nn.i)(),e.next=4,i.eth.getBlock("latest",!0);case 4:return o=e.sent,s=o.transactions.find((function(e){return Object(tn.f)(e.from,t)&&e.nonce===r&&!Object(an.a)(e.hash,a)&&Object(an.a)(e.input,c)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sn,ln,dn,un,bn,jn=function e(n,t){var a=n.sender,r=n.hash,c=n.data,i=n.nonce,o=n.gasPrice,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=Object(nn.i)();return new Promise((function(n,j){var f,h=(t||{}).maxRetries;if(l>(void 0===h?720:h))j(new rn.a(rn.b._805,"max retries reached"));else{var p=function(){var f=Object(u.a)(d.a.mark((function u(){var f,h,p,O,m;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=i&&null!=o){d.next=12;break}return f={sender:a,hash:r,data:c},d.prev=2,d.next=5,b.eth.getTransaction(r);case 5:(h=d.sent)&&(f=Object(s.a)(Object(s.a)({},f),{},{nonce:h.nonce,gasPrice:h.gasPrice})),d.next=11;break;case 9:d.prev=9,d.t0=d.catch(2);case 11:return d.abrupt("return",e(f,t,l+1).then(n).catch(j));case 12:return d.prev=12,d.next=15,b.eth.getTransactionReceipt(r);case 15:if(!(p=d.sent)){d.next=18;break}return d.abrupt("return",n(p));case 18:d.next=22;break;case 20:d.prev=20,d.t1=d.catch(12);case 22:return d.prev=22,d.next=25,cn({sender:a,hash:r,nonce:i,data:c});case 25:if(!(O=d.sent)){d.next=33;break}return d.next=29,b.eth.getTransactionReceipt(O.hash);case 29:if(!(m=d.sent)){d.next=32;break}return d.abrupt("return",n(m));case 32:return d.abrupt("return",e({sender:a,nonce:i,hash:O.hash,data:O.input,gasPrice:O.gasPrice},t,l+1).then(n).catch(j));case 33:d.next=37;break;case 35:d.prev=35,d.t2=d.catch(22);case 37:e({sender:a,hash:r,data:c,nonce:i,gasPrice:o},t,l+1).then(n).catch(j);case 38:case"end":return d.stop()}}),u,null,[[2,9],[12,20],[22,35]])})));return function(){return f.apply(this,arguments)}}();setTimeout(p,null!==(f=null===t||void 0===t?void 0:t.delay)&&void 0!==f?f:5e3)}}))},fn=Object(m.default)(y.Text)(sn||(sn=Object(i.a)(["\n  display: inline-flex;\n  a {\n    margin-left: 4px;\n  }\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),hn=Object(m.default)(pe.a)(ln||(ln=Object(i.a)(["\n  margin-right: 16px;\n"]))),pn=m.default.div(dn||(dn=Object(i.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),On=m.default.span(un||(un=Object(i.a)(["\n  margin-left: 10px;\n"]))),mn=function(e){var n=e.safeCreationTxHash,t=Object(Re.m)(n),a=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(t),r=null!==a?a[2]:"Network Explorer";return Object(U.jsxs)("span",{children:[Object(U.jsx)(y.Text,{size:"xl",children:"This process should take a couple of minutes."}),Object(U.jsxs)(fn,{size:"xl",children:["Follow the progress on"," ",Object(U.jsxs)(y.Link,{href:t,target:"_blank",rel:"noopener noreferrer","data-testid":"safe-create-explorer-link",title:"More info about this in Etherscan",children:[Object(U.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:r}),Object(U.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]})]})]})},xn=function(e){var n=e.onCancel,t=e.onRetry;return Object(U.jsxs)(pn,{children:[Object(U.jsx)(xe.a,{}),Object(U.jsx)(hn,{onClick:n,variant:"contained",children:"Cancel"}),Object(U.jsx)(pe.a,{color:"primary",onClick:t,variant:"contained",children:"Retry"})]})},gn=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:mn},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:mn},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:mn},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:mn},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var n=e.continueButtonDisabled,t=e.onContinue;return Object(U.jsxs)(pn,{children:[Object(U.jsx)(xe.a,{}),Object(U.jsx)(pe.a,{color:"primary",disabled:n,onClick:t,variant:"contained","data-testid":"continue-btn",children:n?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(y.Loader,{size:"xs",color:"secondaryLight"})," ",Object(U.jsx)(On,{children:"Loading your Safe"})]}):Object(U.jsx)(U.Fragment,{children:"Get started"})})]})}}],vn=t(131),wn=t.p+"static/media/safe-created.a4191f5c.svg",yn=t.p+"static/media/vault-error.6a7f7919.svg",kn=t.p+"static/media/creation-process.b0164935.gif",Sn=t(83),Cn=t(112),_n=t(2147),Nn=t.n(_n),Tn=t(128),En=t(67),zn=t(23);Nn.a.addABI(null===(bn=Object(Tn.getProxyFactoryDeployment)({version:zn.j}))||void 0===bn?void 0:bn.abi);var Fn,In,An,Pn,Bn,Ln,Hn,Mn,Rn,Dn,Gn,Vn,Wn,qn,Yn,Qn=function(e){var n,t=Nn.a.decodeLogs(e).find((function(e){return"ProxyCreation"===e.name})),a=null===t||void 0===t||null===(n=t.events)||void 0===n?void 0:n.find((function(e){return"proxy"===e.name}));return Object(En.a)((null===a||void 0===a?void 0:a.value)||"")},Xn=function(e){var n,t=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,i=e.submittedPromise,o=Object(j.useState)(!0),l=Object(b.a)(o,2),f=l[0],h=l[1],p=Object(j.useState)(0),O=Object(b.a)(p,2),m=O[0],g=O[1],v=Object(j.useState)(""),w=Object(b.a)(v,2),k=w[0],S=w[1],C=Object(j.useState)(""),_=Object(b.a)(C,2),N=_[0],T=_[1],E=Object(j.useState)(!1),z=Object(b.a)(E,2),F=z[0],I=z[1],A=Object(j.useState)(!1),P=Object(b.a)(A,2),L=P[0],H=P[1],M=Object(j.useState)(!1),R=Object(b.a)(M,2),D=R[0],G=R[1],V=Object(j.useState)(!1),W=Object(b.a)(V,2),q=W[0],Y=W[1],Q=Object(x.e)(B.d),X=Object(x.d)(),J=function(e){return 0===e}(m),K=Object(j.useCallback)((function(e){Object(nn.j)(e)?X(Object(Cn.b)(Object(s.a)({},Sn.a.TX_PENDING_MSG))):X(Object(Cn.b)(Object(s.a)({},Sn.a.CREATE_SAFE_FAILED_MSG)))}),[X]),$=Object(j.useCallback)((function(e){H(!1),G(!1),Y(!1),I(!0),Object(rn.c)(rn.b._800,e.message),K(e)}),[H,G,Y,I,K]),Z=function(){g(0),I(!1),r()};return Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.m)();case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Q&&e()}),[Q]),Object(j.useEffect)((function(){if(void 0!==i){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(0),e.prev=1,e.next=4,i;case 4:n=e.sent,S(n.transactionHash),g(1),H(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),$(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i,$]),Object(j.useEffect)((function(){void 0!==t&&(S(t),g(1),H(!0))}),[t]),Object(j.useEffect)((function(){if(L){var e=function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(nn.h)(),e.next=3,t.eth.getTransaction(n);case 3:if(null!==e.sent.blockNumber){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,t.eth.getTransactionReceipt(n);case 8:if(e.sent.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n=setInterval(Object(u.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m<4&&g(m+1),void 0!==i&&i.then((function(){g(4),G(!0),H(!1)})),void 0===t){n.next=13;break}return n.prev=3,n.next=6,e(t);case 6:n.sent&&(g(4),G(!0),H(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),$(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),3e3);return function(){clearInterval(n)}}}),[t,i,L,m,F,$]),Object(j.useEffect)((function(){var e,n=function(){var n=Object(u.a)(d.a.mark((function n(t){var a,r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=Object(nn.h)(),n.next=4,a.eth.getTransactionReceipt(t);case 4:r=n.sent,c=r.events?r.events.ProxyCreation.returnValues.proxy:Qn(r.logs),T(c),e=setInterval(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==We.a&&g(5);case 4:case"end":return e.stop()}}),e)}))),1e3),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),$(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();if(D)return"string"===typeof k&&n(k),function(){clearInterval(e)}}),[k,D,$]),f||void 0===m?Object(U.jsx)(Un,{"data-testid":"create-safe-loader",children:Object(U.jsx)(y.Loader,{size:"md"})}):(F?n=xn:gn[m].footerComponent&&(n=gn[m].footerComponent),Object(U.jsxs)(Jn,{children:[Object(U.jsx)(Kn,{tag:"h2",testId:"safe-creation-process-title",children:"Safe creation process"}),Object(U.jsx)($n,{children:Object(U.jsx)(y.Stepper,{activeStepIndex:m,error:F,orientation:"vertical",steps:gn})}),Object(U.jsxs)(Zn,{children:[Object(U.jsx)(tt,{children:Object(U.jsx)(vn.a,{alt:"Vault",height:92,src:F?yn:m<=4?kn:wn})}),Object(U.jsx)(at,{children:Object(U.jsx)(et,{children:gn[m].description||gn[m].label})}),gn[m].instruction&&Object(U.jsx)(rt,{children:Object(U.jsx)(nt,{color:"primary",inversecolors:J.toString(),noMargin:!0,size:"md",$stepIndex:m,children:F?"You can Cancel or Retry the Safe creation process.":gn[m].instruction})}),Object(U.jsx)(ct,{children:n?Object(U.jsx)(n,{continueButtonDisabled:q,onCancel:a,onClick:Z,onContinue:function(){Y(!0),c(N)},onRetry:Z,safeCreationTxHash:k}):null})]}),0!==m&&Object(U.jsx)(it,{color:"primary",minWidth:140,onClick:a,"data-testid":"safe-creation-back-btn",children:"Back"})]}))},Un=m.default.div(Fn||(Fn=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Jn=m.default.div(In||(In=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),Kn=Object(m.default)(_.a)(An||(An=Object(i.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),$n=m.default.div(Pn||(Pn=Object(i.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),Zn=m.default.div(Bn||(Bn=Object(i.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),et=m.default.div(Ln||(Ln=Object(i.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),nt=Object(m.default)(I.a)(Hn||(Hn=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.$stepIndex?T.connected:T.background}),(function(e){var n=e.theme;return 0===e.$stepIndex?n.colors.white:T.fontColor})),tt=m.default.div(Mn||(Mn=Object(i.a)(["\n  grid-row: 1;\n"]))),at=m.default.div(Rn||(Rn=Object(i.a)(["\n  grid-row: 2;\n"]))),rt=m.default.div(Dn||(Dn=Object(i.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),ct=m.default.div(Gn||(Gn=Object(i.a)(["\n  grid-row: 4;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),it=Object(m.default)(pe.a)(Vn||(Vn=Object(i.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]))),ot=t(153),st=t(227),lt=t(320),dt=t(365),ut=t(113),bt=t(351),jt=t(481),ft=t(52),ht=Object(m.default)(Ye.a)(Wn||(Wn=Object(i.a)(["\n  display: inline-flex;\n"]))),pt=function(){N.s.push(N.j)},Ot=function(e){return new Promise((function(n){return setTimeout(n,e)}))};var mt,xt,gt,vt,wt,yt=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(ot.i)().trackEvent,h=Object(x.d)(),p=Object(x.e)(B.g),O=Object(x.e)(ft.a),m=Object(j.useState)(!1),g=Object(b.a)(m,2),v=g[0],w=g[1],k=Object(j.useState)({safeAddress:""}),S=Object(b.a)(k,2),C=S[0],_=S[1],T=Object(j.useState)(!1),E=Object(b.a)(T,2),z=E[0],F=E[1],A=Object(j.useState)(""),P=Object(b.a)(A,2),L=P[0],H=P[1],M=Object(j.useCallback)((function(){var e=Object(Ze.b)(Y);e?(a(e.safeCreationTxHash),l(new Promise((function(n,t){var a=e.newSafeThreshold,r=e.owners.map((function(n){var t=n.addressFieldName;return e[t]})),c=e.safeCreationSalt,i=e.gasLimit,l=e.gasPrice,d=Object(De.h)(r,a,c);d.send(Object(o.a)({from:p,gas:i},Object(jt.d)(),l)).once("transactionHash",(function(a){Object(Ze.e)(Y,Object(s.a)(Object(o.a)({},q,a),e)),jn({sender:p,hash:a,data:d.encodeABI()}).then((function(e){console.log("Speed up tx mined:",e),n(e)})).catch((function(e){t(e)}))})).then((function(e){console.log("First tx mined:",e),n(e)})).catch((function(e){t(e)}))})))):pt()}),[p]);Object(j.useEffect)((function(){var e=Object(Ze.b)(Y);if(e){var n=e.safeCreationTxHash;n?a(n):M()}else pt()}),[M]);var R=function(){var e=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(Ze.b)(Y)){e.next=4;break}return pt(),e.abrupt("return");case 4:return a=t.safeCreationTxHash,r=t.suggestedSafeName,c=t.customSafeName||r,i=t.owners,o=i.map((function(e){var n=e.nameFieldName,a=e.addressFieldName;return Object(bt.b)({address:t[a],name:t[n],chainId:O})})),s=Object(bt.b)({address:n,name:c,chainId:O}),e.next=12,h(Object(ut.f)([].concat(Object(de.a)(o),[s])));case 12:return f(ot.d.CREATE_SAFE),e.next=15,Ot(5e3);case 15:return e.prev=15,e.next=18,Object(en.backOff)((function(){return Object(lt.a)(n)}),{startingDelay:750,maxDelay:2e4,numOfAttempts:19,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(15),H(n),F(!0),e.abrupt("return");case 25:return e.next=27,Object(dt.a)(n);case 27:return l=e.sent,e.next=30,h(Object(st.b)(l));case 30:w(!0),_({safeAddress:l.address,safeName:c,safeCreationTxHash:a});case 32:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(n){return e.apply(this,arguments)}}(),D=function(){Object(Ze.c)(Y),pt()};function G(){Object(Ze.c)(Y);var e=C.safeName,n=C.safeCreationTxHash,t=C.safeAddress;N.s.push({pathname:Object(N.o)(N.g.ASSETS_BALANCES,{shortName:Object(Re.r)(),safeAddress:t}),state:{name:e,tx:n}})}return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Xn,{creationTxHash:t,onCancel:D,onRetry:function(){var e=Object(Ze.b)(Y);e?(a(void 0),delete e.safeCreationTxHash,Object(Ze.e)(Y,e),M()):pt()},onSuccess:R,submittedPromise:i}),v&&Object(U.jsx)(y.GenericModal,{onClose:G,title:"Safe Created!",body:Object(U.jsxs)("div",{"data-testid":"safe-created-popup",children:[Object(U.jsxs)(I.a,{children:["You just created a new Safe on ",Object(U.jsx)(X.a,{})]}),Object(U.jsxs)(I.a,{children:["You will only be able to use this Safe on ",Object(U.jsx)(X.a,{})]}),Object(U.jsxs)(I.a,{children:["If you send assets on other networks to this address,"," ",Object(U.jsx)(St,{children:"you will not be able to access them"})]})]}),footer:Object(U.jsx)(kt,{children:Object(U.jsx)(pe.a,{testId:"safe-created-button",onClick:G,color:"primary",type:"button",size:"small",variant:"contained",children:"Continue"})})}),z&&L&&Object(U.jsx)(y.GenericModal,{onClose:D,title:"Unable to load the new Safe",body:Object(U.jsx)("div",{children:Object(U.jsxs)(I.a,{children:["We are currently unable to load the Safe but it was successfully created and can be found ",Object(U.jsx)("br",{}),"under the following address"," ",Object(U.jsx)(ht,{hash:L,showCopyBtn:!0,explorerUrl:Object(Re.i)(L)})]})}),footer:Object(U.jsx)(kt,{children:Object(U.jsx)(pe.a,{onClick:D,color:"primary",type:"button",size:"small",variant:"contained",children:"OK"})})})]})},kt=m.default.div(qn||(qn=Object(i.a)(["\n  text-align: center;\n"]))),St=m.default.span(Yn||(Yn=Object(i.a)(["\n  font-weight: ",";\n"])),T.boldFont),Ct=t(2772),_t=t(2773),Nt=t(568),Tt=t.n(Nt),Et=t(2774),zt=t(1522),Ft=t(213),It=t(156),At=t(395),Pt=t(748),Bt=t(94);var Lt,Ht,Mt=Object(m.default)(S.a)(mt||(mt=Object(i.a)(["\n  padding: ",";\n"])),T.lg),Rt=m.default.div(xt||(xt=Object(i.a)(["\n  margin: ",";\n  display: flex;\n  justify-content: center;\n"])),T.lg),Dt=Object(m.default)(_t.a)(gt||(gt=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 24px;\n"]))),Gt=Object(m.default)(Et.a)(vt||(vt=Object(i.a)(["\n  min-width: 500px;\n"]))),Vt=m.default.div(wt||(wt=Object(i.a)(["\n  display: flex;\n  margin: "," auto;\n  cursor: pointer;\n  max-width: 50%;\n\n  & > span {\n    font-size: 13px;\n  }\n"])),T.lg),Wt=function(){var e=Object(j.useState)(!1),n=Object(b.a)(e,2),t=n[0],a=n[1],r=!!Object(x.e)(B.d),c=Object(x.e)(B.f);function i(){a(!0)}var o=Object(j.useCallback)((function(e){Object(It.a)(e),a(!1)}),[]);return Object(U.jsxs)(Mt,{"data-testid":"select-network-step",children:[r?Object(U.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["Select network on which to create your Safe. The app is currently pointing to"," ",Object(U.jsx)(X.a,{onClick:i})]}):Object(U.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"In order to select the network to create your Safe, you need to connect a wallet"}),Object(U.jsx)(Rt,{children:r?Object(U.jsx)(y.ButtonLink,{type:"button",onClick:i,color:"primary","data-testid":"switch-network-link",children:"Switch Network"}):Object(U.jsx)(At.a,{"data-testid":"heading-connect-btn"})}),r&&c&&Object(U.jsxs)(I.a,{color:"primary",size:"lg",children:["Your wallet connection must match the selected network. ",Object(U.jsx)(Pt.a,{})]}),Object(U.jsxs)(Ct.a,{onClose:function(){return a(!1)},"aria-labelledby":"select-network","data-testid":"select-network-popup",open:t,children:[Object(U.jsxs)(Dt,{disableTypography:!0,children:[Object(U.jsx)(Ft.a,{variant:"h5",children:"Select Network"}),Object(U.jsx)(h.a,{"aria-label":"close",onClick:function(){return a(!1)},children:Object(U.jsx)(Tt.a,{})})]}),Object(U.jsx)(Gt,{dividers:!0,children:Object(U.jsx)(zt.a,{component:"div",children:Object(Bt.b)().map((function(e){return Object(U.jsx)(Vt,{role:"button",onClick:function(){return o(e.chainId)},children:Object(U.jsx)(X.a,{networkInfo:e,flexGrow:!0})},e.chainId)}))})})]})]})};n.default=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(!0),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(x.e)(B.d),h=Object(x.e)(B.f),p=!!f&&!h;Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Promise.resolve(Object(Ze.b)(Y));case 3:if(n=e.sent,!p){e.next=8;break}return e.next=7,Object(De.m)();case 7:a(n);case 8:l(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var m=Object(x.e)(B.g),g=Object(x.e)(we.f),T=Object(w.i)(),z=Object(le.a)(),F=Object(j.useState)(),I=Object(b.a)(F,2),A=I[0],P=I[1];return Object(j.useEffect)((function(){if(p&&m){var e=function(e,n,t,a){var r,c,i,l=v.a.parse(t.search,{arrayFormat:"comma"}),d=l.name,u=l.owneraddresses,b=l.ownernames,j=l.threshold,f=!!u,h=Array.isArray(u)?u:[u],p=f?h:[e],O=Array.isArray(b)?b:[b],m=[(null===(r=n[e])||void 0===r?void 0:r.name)||"My Wallet"],x=f?O:m,g=Number(j),w=j&&!Number.isNaN(j)&&g<=p.length&&g>0;return Object(s.a)(Object(s.a)(Object(s.a)((c={},Object(o.a)(c,H,a),Object(o.a)(c,L,d),Object(o.a)(c,R,w?j:1),Object(o.a)(c,M,p.map((function(e,n){return{nameFieldName:"owner-name-".concat(n),addressFieldName:"owner-address-".concat(n)}}))),c),p.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-address-".concat(t),n))}),{})),x.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-name-".concat(t),n))}),{})),{},(i={},Object(o.a)(i,D,p.length),Object(o.a)(i,G,Date.now()),i))}(m,g,T,z);P(e)}}),[p,m,g,T,z]),i?Object(U.jsx)(qt,{"data-testid":"create-safe-loader",children:Object(U.jsx)(y.Loader,{size:"md"})}):t?Object(U.jsx)(yt,{}):Object(U.jsx)(k.a,{children:Object(U.jsxs)(S.a,{children:[Object(U.jsxs)(C.a,{align:"center",children:[Object(U.jsx)(Yt,{disableRipple:!0,onClick:N.s.goBack,children:Object(U.jsx)(O.a,{})}),Object(U.jsx)(_.a,{tag:"h2",children:"Create new Safe"})]}),Object(U.jsxs)(E.b,{initialValues:A,onSubmit:function(e){Object(Ze.e)(Y,Object(s.a)({},e)),a(e)},testId:"create-safe-form",children:[Object(U.jsx)(E.a,{label:"Connect wallet & select network",nextButtonLabel:"Continue",disableNextButton:!p,children:Object(U.jsx)(Wt,{})}),Object(U.jsx)(E.a,{label:"Name",nextButtonLabel:"Continue",children:Object(U.jsx)(ce,{})}),Object(U.jsx)(E.a,{label:"Owners and Confirmations",nextButtonLabel:"Continue",validate:Te,children:Object(U.jsx)(Ne,{})}),Object(U.jsx)(E.a,{label:"Review",nextButtonLabel:"Create",children:Object(U.jsx)(Qe,{})})]})]})})};var qt=m.default.div(Lt||(Lt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Yt=Object(m.default)(h.a)(Ht||(Ht=Object(i.a)(["\n  color: ",";\n  padding: ",";\n  margin-right: 5px;\n"])),T.secondary,T.sm)}}]);
//# sourceMappingURL=37.3e1d6ef1.chunk.js.map