{"version":3,"sources":["routes/safe/components/Settings/style.ts","components/layout/Span/index.tsx","routes/safe/components/Settings/index.tsx"],"names":["styles","createStyles","root","backgroundColor","borderRadius","sm","boxShadow","display","flexDirection","marginBottom","minHeight","screenSm","contents","width","container","flexGrow","height","position","links","textDecoration","marginRight","cursor","removeSafeBtn","alignItems","marginTop","counter","background","border","color","fontColor","lineHeight","margin","padding","xs","fontSize","Span","this","props","children","React","Advanced","lazy","SpendingLimitSettings","ManageOwners","RemoveSafeModal","SafeDetails","ThresholdSettings","Appearance","OWNERS_SETTINGS_TAB_TEST_ID","INITIAL_STATE","showRemoveSafe","useStyles","makeStyles","Settings","settingsSection","classes","useState","state","setState","useSelector","currentSafeWithNames","safeAddress","address","owners","loadedViaUrl","granted","grantedSelector","matchSafeWithSettingSection","useRouteMatch","SAFE_SUBSECTION_ROUTE","currentSafeRoutes","generatePrefixedAddressRoutes","shortName","getShortName","url","SETTINGS_DETAILS","SETTINGS_APPEARANCE","SETTINGS_OWNERS","SETTINGS_POLICIES","SETTINGS_SPENDING_LIMIT","SETTINGS_ADVANCED","action","Col","start","iconType","text","end","ButtonLink","className","onClick","prevState","size","type","tooltip","isOpen","onClose","onHide","Block","layout","path","SAFE_ROUTES","exact","render"],"mappings":"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","file":"static/js/99.acf79556.chunk.js","sourcesContent":["import { createStyles } from '@material-ui/core'\r\n\r\nimport { border, fontColor, screenSm, sm, xs } from 'src/theme/variables'\r\n\r\nexport const styles = createStyles({\r\n  root: {\r\n    backgroundColor: 'white',\r\n    borderRadius: sm,\r\n    boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: '54px',\r\n    minHeight: '505px',\r\n\r\n    [`@media (min-width: ${screenSm}px)`]: {\r\n      flexDirection: 'row',\r\n    },\r\n  },\r\n  contents: {\r\n    width: '100%',\r\n  },\r\n  container: {\r\n    flexGrow: 1,\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  links: {\r\n    textDecoration: 'underline',\r\n    marginRight: '6px',\r\n    '&:hover': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  removeSafeBtn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginTop: '-1px', // to make it the same as row in Balances component\r\n  },\r\n  counter: {\r\n    background: border,\r\n    borderRadius: '3px',\r\n    color: fontColor,\r\n    lineHeight: 'normal',\r\n    margin: `-2px 0 -2px ${sm}`,\r\n    padding: xs,\r\n    fontSize: '11px',\r\n  },\r\n})\r\n","import * as React from 'react'\r\n\r\nclass Span extends React.PureComponent<any> {\r\n  render(): React.ReactElement {\r\n    const { children, ...props } = this.props\r\n\r\n    return <span {...props}>{children}</span>\r\n  }\r\n}\r\n\r\nexport default Span\r\n","import { Breadcrumb, BreadcrumbElement, Loader, Icon, Menu } from '@gnosis.pm/safe-react-components'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useState, lazy } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\n\r\nimport { LoadingContainer } from 'src/components/LoaderContainer'\r\nimport { styles } from './style'\r\nimport Block from 'src/components/layout/Block'\r\nimport ButtonLink from 'src/components/layout/ButtonLink'\r\nimport Col from 'src/components/layout/Col'\r\nimport Span from 'src/components/layout/Span'\r\nimport { currentSafeWithNames } from 'src/logic/safe/store/selectors'\r\nimport { grantedSelector } from 'src/routes/safe/container/selector'\r\nimport { generatePrefixedAddressRoutes, SAFE_ROUTES, SAFE_SUBSECTION_ROUTE } from 'src/routes/routes'\r\nimport { getShortName } from 'src/config'\r\n\r\nconst Advanced = lazy(() => import('./Advanced'))\r\nconst SpendingLimitSettings = lazy(() => import('./SpendingLimit'))\r\nconst ManageOwners = lazy(() => import('./ManageOwners'))\r\nconst RemoveSafeModal = lazy(() => import('./RemoveSafeModal'))\r\nconst SafeDetails = lazy(() => import('./SafeDetails'))\r\nconst ThresholdSettings = lazy(() => import('./ThresholdSettings'))\r\nconst Appearance = lazy(() => import('./Appearance'))\r\n\r\nexport const OWNERS_SETTINGS_TAB_TEST_ID = 'owner-settings-tab'\r\n\r\nconst INITIAL_STATE = {\r\n  showRemoveSafe: false,\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst Settings = (): React.ReactElement => {\r\n  const classes = useStyles()\r\n  const [state, setState] = useState(INITIAL_STATE)\r\n  const { address: safeAddress, owners, loadedViaUrl } = useSelector(currentSafeWithNames)\r\n  const granted = useSelector(grantedSelector)\r\n\r\n  // Question mark makes matching [SAFE_SUBSECTION_SLUG] optional\r\n  const matchSafeWithSettingSection = useRouteMatch(`${SAFE_SUBSECTION_ROUTE}?`)\r\n\r\n  const currentSafeRoutes = generatePrefixedAddressRoutes({\r\n    shortName: getShortName(),\r\n    safeAddress,\r\n  })\r\n\r\n  let settingsSection\r\n  switch (matchSafeWithSettingSection?.url) {\r\n    case currentSafeRoutes.SETTINGS_DETAILS:\r\n      settingsSection = 'Safe Details'\r\n      break\r\n    case currentSafeRoutes.SETTINGS_APPEARANCE:\r\n      settingsSection = 'Appearance'\r\n      break\r\n    case currentSafeRoutes.SETTINGS_OWNERS:\r\n      settingsSection = 'Owners'\r\n      break\r\n    case currentSafeRoutes.SETTINGS_POLICIES:\r\n      settingsSection = 'Policies'\r\n      break\r\n    case currentSafeRoutes.SETTINGS_SPENDING_LIMIT:\r\n      settingsSection = 'Spending Limit'\r\n      break\r\n    case currentSafeRoutes.SETTINGS_ADVANCED:\r\n      settingsSection = 'Advanced'\r\n      break\r\n    default:\r\n      settingsSection = ''\r\n  }\r\n\r\n  const onShow = (action) => () => {\r\n    setState((prevState) => ({ ...prevState, [`show${action}`]: true }))\r\n  }\r\n\r\n  const onHide = (action) => () => {\r\n    setState((prevState) => ({ ...prevState, [`show${action}`]: false }))\r\n  }\r\n\r\n  const { showRemoveSafe } = state\r\n\r\n  return !owners ? (\r\n    <LoadingContainer>\r\n      <Loader size=\"md\" />\r\n    </LoadingContainer>\r\n  ) : (\r\n    <>\r\n      <Menu>\r\n        <Col start=\"sm\" sm={6} xs={12}>\r\n          <Breadcrumb>\r\n            <BreadcrumbElement iconType=\"settings\" text=\"SETTINGS\" />\r\n            <BreadcrumbElement text={settingsSection} color=\"placeHolder\" />\r\n          </Breadcrumb>\r\n        </Col>\r\n        {!loadedViaUrl ? (\r\n          <Col end=\"sm\" sm={6} xs={12}>\r\n            <ButtonLink className={classes.removeSafeBtn} color=\"error\" onClick={onShow('RemoveSafe')} size=\"lg\">\r\n              <Span className={classes.links}>Remove Safe</Span>\r\n              <Icon size=\"sm\" type=\"delete\" color=\"error\" tooltip=\"Remove Safe\" />\r\n            </ButtonLink>\r\n            <RemoveSafeModal isOpen={showRemoveSafe} onClose={onHide('RemoveSafe')} />\r\n          </Col>\r\n        ) : (\r\n          <Col end=\"sm\" sm={6} xs={12}></Col>\r\n        )}\r\n      </Menu>\r\n      <Block className={classes.root}>\r\n        <Col className={classes.contents} layout=\"column\">\r\n          <Block className={classes.container}>\r\n            <Switch>\r\n              <Route path={SAFE_ROUTES.SETTINGS_DETAILS} exact render={() => <SafeDetails />} />\r\n              <Route path={SAFE_ROUTES.SETTINGS_APPEARANCE} exact render={() => <Appearance />} />\r\n              <Route\r\n                path={SAFE_ROUTES.SETTINGS_OWNERS}\r\n                exact\r\n                render={() => <ManageOwners granted={granted} owners={owners} />}\r\n              />\r\n              <Route path={SAFE_ROUTES.SETTINGS_POLICIES} exact render={() => <ThresholdSettings />} />\r\n              <Route path={SAFE_ROUTES.SETTINGS_SPENDING_LIMIT} exact render={() => <SpendingLimitSettings />} />\r\n              <Route path={SAFE_ROUTES.SETTINGS_ADVANCED} exact render={() => <Advanced />} />\r\n            </Switch>\r\n          </Block>\r\n        </Col>\r\n      </Block>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n"],"sourceRoot":""}