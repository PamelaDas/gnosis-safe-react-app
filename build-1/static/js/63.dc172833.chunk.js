(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[63],{1583:function(e,t,a){"use strict";var n=a(8),r=a(63),i=a(123),c=a.n(i),s=a(0),o=a(1589),d=a.n(o),l=a(72),u=["align","children","className","color","margin","tag","testId","truncate"],j=c.a.bind(d.a);t.a=function(e){var t=e.align,a=e.children,i=e.className,c=void 0===i?"":i,o=e.color,d=e.margin,b=e.tag,f=e.testId,h=e.truncate,g=Object(r.a)(e,u),O=j(c,"heading",t,b,d?Object(l.a)(d,"margin"):void 0,o,{truncate:h});return s.createElement(b,Object(n.a)(Object(n.a)({},g),{},{className:O,"data-testid":f||""}),a)}},1589:function(e,t,a){e.exports={heading:"Heading_heading__ZbcQo",h1:"Heading_h1__-wMHl",h2:"Heading_h2__3MQ2g",h3:"Heading_h3__2Eii5",h4:"Heading_h4__36iJN",center:"Heading_center__Rnu47",right:"Heading_right__nV1Cb",truncate:"Heading_truncate__18Axc",marginSm:"Heading_marginSm__3RRHh",marginMd:"Heading_marginMd__2NmMz",marginLg:"Heading_marginLg__2n10_",marginXl:"Heading_marginXl__39Nag",soft:"Heading_soft__3dfbK",medium:"Heading_medium__XLAVh",dark:"Heading_dark__36nFk",fancy:"Heading_fancy__2yEZW",warning:"Heading_warning__3tDQF",primary:"Heading_primary__mUy5R",secondary:"Heading_secondary__2YzXF",disabled:"Heading_disabled__3ODVW",error:"Heading_error__39ITf",white:"Heading_white__2fXVW"}},2787:function(e,t,a){"use strict";a.r(t),a.d(t,"SAFE_NAME_INPUT_TEST_ID",(function(){return ue})),a.d(t,"SAFE_NAME_SUBMIT_BTN_TEST_ID",(function(){return je})),a.d(t,"SAFE_NAME_UPDATE_SAFE_BTN_TEST_ID",(function(){return be}));var n,r=a(2),i=a.n(r),c=a(16),s=a(35),o=a(24),d=a(25),l=a(423),u=a(0),j=a(30),b=a(22),f=a(544),h=a(10),g=Object(f.a)({formContainer:{padding:h.lg},root:{display:"flex",maxWidth:"480px"},saveBtn:{fontWeight:h.boldFont,marginRight:h.sm},controlsRow:{borderTop:"2px solid ".concat(h.border),padding:h.lg,marginTop:h.sm}}),O=a(346),m=a(1539),p=a(1553),_=a(1546),x=a(567),v=a(151),S=a(192),E=a(110),C=a(1583),N=a(91),y=a(122),I=a(351),T=a(113),w=a(112),A=a(83),H=a(46),k=a(66),G=a(42),L=Object(l.a)(Object(f.a)({modalContent:{padding:"".concat(h.md," ").concat(h.lg)}})),F=a(23),D=a(157),M=a(124),U=a.n(M),B=a(111),R=a(604),V=a(97),P=function(e,t){var a=Object(B.j)(),n=Object(B.d)(e,t).methods.changeMasterCopy(a).encodeABI(),r=function(e){var t=U()(F.j,">=1.1.0"),a=Object(B.c)(),n=Object(B.d)(e,F.j);return t?n.methods.setFallbackHandler(a).encodeABI():V.a}(e),i=[{to:e,value:"0",data:n},{to:e,value:"0",data:r}];return Object(R.a)(i)},W=a(463),X=a(1562),z=a(1554),J=a(1567),Q=a(1560),Y=a(1563),Z=a(1545),q=a(1),K=function(e){var t=e.onClose,a=e.safeAddress,n=e.safeCurrentVersion,r=L(),i=Object(j.d)(),c=Object(u.useState)(V.a),o=Object(s.a)(c,2),d=o[0],l=o[1],b=Object(z.b)({txRecipient:Object(B.g)(),txData:d,txAmount:"0",operation:G.Operation.DELEGATE}),f=b.gasCostFormatted,h=b.txEstimationExecutionStatus,g=b.isExecution,m=b.isCreation,p=b.isOffChainSignature,_=b.gasPriceFormatted,x=b.gasLimit,S=b.gasEstimation,E=Object(J.a)(h),C=Object(s.a)(E,1)[0];Object(u.useEffect)((function(){var e=P(a,n);l(e)}),[a,n]);var I="Update Safe";return O.a.LOADING===C&&(I=h===z.a.LOADING?"Estimating":"Updating"),Object(q.jsx)(Y.a,{isOffChainSignature:p,isExecution:g,ethGasLimit:x,ethGasPrice:_,safeTxGas:S.toString(),children:function(e,n){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Z.a,{onClose:t,title:"Update safe version"}),Object(q.jsxs)(v.a,{className:r.modalContent,children:[Object(q.jsxs)(y.a,{children:[Object(q.jsx)(N.a,{noMargin:!0,children:"Update now to take advantage of new features and the highest security standards available."}),Object(q.jsxs)(N.a,{children:["To check details about updates added by this smart contract version please visit"," ",Object(q.jsx)(D.a,{target:"_blank",to:"https://github.com/gnosis/safe-contracts/releases/tag/v".concat(F.j),children:"latest Gnosis Safe contracts changelog"})]}),Object(q.jsx)(N.a,{noMargin:!0,children:"You will need to confirm this update just like any other transaction. This means other owners will have to confirm the update in case more than one confirmation is required for this Safe."}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)("b",{children:"Warning"}),": this upgrade will invalidate all unexecuted transactions. This means you will be unable to access or execute them after the upgrade. Please make sure to execute any remaining transactions before upgrading."]})]}),Object(q.jsx)(Q.a,{txParameters:e,onEdit:n,compact:!1,isTransactionCreation:m,isTransactionExecution:g,isOffChainSignature:p})]}),h===z.a.LOADING?null:Object(q.jsx)(X.a,{gasCostFormatted:f,isCreation:m,isExecution:g,isOffChainSignature:p,safeNonce:e.safeNonce,txEstimationExecutionStatus:h}),Object(q.jsx)(O.b.Footer,{withoutBorder:C!==O.a.LOADING,children:Object(q.jsx)(O.b.Footer.Buttons,{cancelButtonProps:{onClick:t,text:"Cancel"},confirmButtonProps:{onClick:function(){return function(e){i(Object(W.b)({safeAddress:a,to:Object(B.g)(),valueInWei:"0",txData:d,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:"STANDARD_TX",operation:G.Operation.DELEGATE})),t()}(e)},status:C,text:I}})})]})}})},$=a(244),ee=a(206),te=a(79),ae=a(153),ne=a(19);!function(e){e.GNOSIS="Gnosis",e.CIRCLES="Circles"}(n||(n={}));var re,ie,ce,se=function(e){var t=e.version.toLowerCase().includes(n.CIRCLES.toLowerCase()),a=e.version.indexOf("-");return{address:e.address,version:t?e.version.substring(0,a):e.version,deployer:t?n.CIRCLES:n.GNOSIS,deployerRepoUrl:t?"https://github.com/CirclesUBI/safe-contracts/releases":"https://github.com/gnosis/safe-contracts/releases"}},oe=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.getMasterCopies)(F.e,Object(ne.b)());case 3:return t=e.sent,e.abrupt("return",t.map(se));case 7:e.prev=7,e.t0=e.catch(0),console.error("Fetching data from master-copies errored",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),de=a(356),le=a(52),ue="safe-name-input",je="change-safe-name-btn",be="update-safe-name-btn",fe=Object(l.a)(g),he=Object(b.default)(d.Link)(re||(re=Object(o.a)(["\n  margin: 12px 0 0 0;\n"]))),ge=Object(b.default)(d.Icon)(ie||(ie=Object(o.a)(["\n  position: relative;\n  top: 3px;\n  left: 6px;\n"]))),Oe=Object(b.default)(N.a)(ce||(ce=Object(o.a)(["\n  margin-bottom: 0;\n"])));t.default=function(){var e,t=fe(),a=Object(j.e)($.b),r=Object(j.e)(te.k),o=Object(j.e)(le.a),l=Object(j.e)(te.a),b=l.address,f=l.needsUpdate,h=l.currentVersion,g=l.chainId,G=void 0===g?o:g,L=null===(e=Object(j.e)(te.o)[b])||void 0===e?void 0:e.name,F=Object(j.d)(),D=Object(ae.i)().trackEvent,M=Object(u.useState)(!1),U=Object(s.a)(M,2),R=U[0],V=U[1],P=Object(u.useState)(),W=Object(s.a)(P,2),X=W[0],z=W[1],J=function(){V((function(e){return!e}))},Q=function(){V(!0)};return Object(u.useEffect)((function(){D(ae.c.DETAILS)}),[D]),Object(u.useEffect)((function(){var e=function(){var e=Object(c.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return t=e.sent,e.next=5,Object(B.e)(b);case 5:a=e.sent,n=null===t||void 0===t?void 0:t.find((function(e){return Object(H.f)(e.address,a)})),z(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&e()}),[b]),Object(q.jsx)(p.a,{onSubmit:function(e){F(Object(T.b)(Object(I.b)({address:b,name:e.safeName,chainId:o}))),F(Object(ee.b)({address:b,loadedViaUrl:!1}));var t=Object(A.c)(k.a.SAFE_NAME_CHANGE_TX);F(Object(w.b)(Object(A.b)(t.afterExecution.noMoreConfirmationsNeeded)))},children:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(v.a,{className:t.formContainer,children:[Object(q.jsx)(C.a,{tag:"h2",children:"Contract Version"}),Object(q.jsx)(y.a,{align:"end",grow:!0,children:Object(q.jsxs)(he,{rel:"noreferrer noopener",target:"_blank",href:null===X||void 0===X?void 0:X.deployerRepoUrl,children:[Object(q.jsxs)(d.Text,{size:"xl",as:"span",color:"primary",children:[X?X.deployer===n.GNOSIS?h:"".concat(h,"-").concat(X.deployer):"",X&&X.deployer===n.GNOSIS&&f?" (there's a newer version: ".concat(r,")"):""]}),Object(q.jsx)(ge,{size:"sm",type:"externalLink",color:"primary"})]})}),f&&a?Object(q.jsx)(y.a,{align:"end",grow:!0,children:Object(q.jsx)(N.a,{children:Object(q.jsx)(S.a,{className:t.saveBtn,color:"primary",onClick:Q,size:"small",testId:be,variant:"contained",children:"Update Safe"})})}):null]}),Object(q.jsxs)(v.a,{className:t.formContainer,children:[Object(q.jsx)(C.a,{tag:"h2",children:"Blockchain Network"}),Object(q.jsx)(Oe,{children:Object(q.jsx)(de.a,{chainId:G})})]}),null!=L&&Object(q.jsxs)(v.a,{className:t.formContainer,children:[Object(q.jsx)(C.a,{tag:"h2",children:"Modify Safe Name"}),Object(q.jsx)(N.a,{children:"You can change the name of this Safe. This name is only stored locally and never shared with Gnosis or any third parties."}),Object(q.jsx)(v.a,{className:t.root,children:Object(q.jsx)(m.a,{component:_.a,defaultValue:L,name:"safeName",placeholder:"Safe name*",testId:ue,text:"Safe name*",type:"text",validate:Object(x.d)(x.p,x.r)})})]}),Object(q.jsx)(y.a,{align:"end",className:t.controlsRow,grow:!0,children:Object(q.jsx)(E.a,{end:"xs",children:Object(q.jsx)(S.a,{className:t.saveBtn,color:"primary",size:"small",testId:je,type:"submit",variant:"contained",children:"Save"})})}),Object(q.jsx)(O.c,{description:"Update Safe",handleClose:J,open:R,title:"Update Safe",children:Object(q.jsx)(K,{onClose:J,safeAddress:b,safeCurrentVersion:h})})]})}})}}}]);
//# sourceMappingURL=63.dc172833.chunk.js.map