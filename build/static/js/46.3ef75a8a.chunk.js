(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[46],{1498:function(e,t,n){"use strict";n.r(t);var a,r=n(2),c=n.n(r),s=n(16),i=n(35),o=n(0),u=n(30),d=n(423),b=n(19),j=n(1569),l=n(151),f=n(110),O=n(177),x=n(131),h=n(91),m=n(122),p=n(1662),g=n(463),v=n(66),w=n(1581),C=n(1552),E=n(140),k=n(81),A=n(14),y=n(61),T=n(1757),S=n(46),G=(a={},Object(A.a)(a,y.a.ETHEREUM,"0x06012c8cf97bead5deae237070f9587f8e7a266d"),Object(A.a)(a,y.a.RINKEBY,"0x16baf0de678e52367adc69fd067e5edd1d33e3bf"),a),I="42842e0e",N=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var a,r,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Failed to build NFT transfer tx data. SafeAddress is not defined.");case 2:return c=t.assetAddress,r=Object(S.f)(c,G[Object(b.b)()])?"transfer":"0x".concat(I),s=[t.recipientAddress,t.nftTokenId],r.includes(I)?(s=[n].concat(Object(k.a)(s)),i=Object(T.b)(t.assetAddress)):i=Object(T.a)(t.assetAddress),e.abrupt("return",(a=i.methods)[r].apply(a,Object(k.a)(s)).encodeABI());case 6:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=n(10),P=n(544),D=Object(P.a)({container:{padding:"".concat(B.md," ").concat(B.lg)},amount:{marginLeft:B.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"}}),F=n(1554),L=n(1567),M=n(346),R=n(163),z=n(1562),U=n(1563),_=n(1560),J=n(1545),H=n(20),K=n(1588),W=n(1),X=Object(d.a)(D);t.default=function(e){var t=e.onClose,n=e.onPrev,a=e.tx,r=X(),d=Object(E.b)(),k=Object(u.d)(),A=Object(H.l)(),y=Object(u.e)(p.c),T=Object(o.useState)("0"),S=Object(i.a)(T,2),G=S[0],I=S[1],B=Object(o.useState)(),P=Object(i.a)(B,2),D=P[0],Y=P[1],q=Object(o.useState)(),Q=Object(i.a)(q,2),V=Q[0],Z=Q[1],$=Object(o.useState)(!0),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ae=y.find((function(e){var t=e.assetAddress,n=e.tokenId;return t===a.assetAddress&&n===a.nftTokenId})),re=Object(o.useState)(""),ce=Object(i.a)(re,2),se=ce[0],ie=ce[1],oe=Object(F.b)({txData:se,txRecipient:a.assetAddress,safeTxGas:G,manualGasPrice:D,manualGasLimit:V}),ue=oe.gasLimit,de=oe.gasEstimation,be=oe.gasPriceFormatted,je=oe.gasCostFormatted,le=oe.txEstimationExecutionStatus,fe=oe.isExecution,Oe=oe.isOffChainSignature,xe=oe.isCreation,he=fe&&te,me=Object(L.a)(le),pe=Object(i.a)(me,1)[0];Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(s.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(a,A);case 3:n=t.sent,e&&ie(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error calculating ERC721 transfer data:",t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[A,a]);return Object(W.jsx)(U.a,{isOffChainSignature:Oe,isExecution:he,ethGasLimit:ue,ethGasPrice:be,safeTxGas:de,closeEditModalCallback:function(e){var t=be,n=e.ethGasPrice,a=de,r=e.safeTxGas;n&&t!==n&&Y(e.ethGasPrice),e.ethGasLimit&&ue!==e.ethGasLimit&&Z(e.ethGasLimit),r&&a!==r&&I(r)},children:function(e,c){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(J.a,{onClose:t,subTitle:"2 of 2",title:"Send collectible"}),Object(W.jsx)(O.a,{}),Object(W.jsxs)(l.a,{className:r.container,children:[Object(W.jsx)(w.a,{}),Object(W.jsx)(j.a,{withArrow:!0}),Object(W.jsx)(m.a,{margin:"xs",children:Object(W.jsx)(h.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:"Recipient"})}),Object(W.jsx)(m.a,{align:"center",margin:"md",children:Object(W.jsx)(f.a,{xs:12,children:Object(W.jsx)(R.a,{hash:a.recipientAddress,name:a.recipientName,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(b.i)(a.recipientAddress)})})}),Object(W.jsx)(m.a,{margin:"xs",children:Object(W.jsx)(h.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"},children:Object(E.b)({charsStart:40,charsEnd:0})(a.assetName)})}),ae&&Object(W.jsxs)(m.a,{align:"center",margin:"md",children:[Object(W.jsx)(x.a,{alt:ae.name,height:28,onError:C.a,src:ae.image}),Object(W.jsxs)(h.a,{className:r.amount,noMargin:!0,size:"md",children:[d(ae.name)," (Token ID: ",d(ae.tokenId),")"]})]}),fe&&Object(W.jsx)(K.a,{onChange:ne}),Object(W.jsx)(_.a,{txParameters:e,onEdit:c,isTransactionCreation:xe,isTransactionExecution:he,isOffChainSignature:Oe})]}),Object(W.jsx)(z.a,{gasCostFormatted:je,isCreation:xe,isExecution:he,isOffChainSignature:Oe,safeNonce:e.safeNonce,txEstimationExecutionStatus:le}),Object(W.jsx)(M.b.Footer,{withoutBorder:pe!==M.a.LOADING,children:Object(W.jsx)(M.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{onClick:function(){return function(e){try{A?k(Object(g.b)({safeAddress:A,to:a.assetAddress,valueInWei:"0",txData:se,txNonce:e.safeNonce,safeTxGas:e.safeTxGas,ethParameters:e,notifiedTransaction:v.a.STANDARD_TX,delayExecution:!te})):console.error("There was an error trying to submit the transaction, the safeAddress was not found")}catch(n){console.error("Error creating sendCollectible Tx:",n)}finally{t()}}(e)},type:"submit",status:pe,text:le===F.a.LOADING?"Estimating":void 0,testId:"submit-tx-btn"}})})]})}})}},1552:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1556),r=function(e){var t=e.currentTarget;/token_placeholder/.test(t.src)||(t.src=a.a)};n(466)},1556:function(e,t,n){"use strict";t.a=n.p+"static/media/token_placeholder.c1abe466.svg"},1566:function(e,t,n){"use strict";var a=n(8),r=n(63),c=n(7),s=n(9),i=n(11),o=n(12),u=n(0),d=n(1),b=["children"],j=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=Object(r.a)(e,b);return Object(d.jsx)("b",Object(a.a)(Object(a.a)({},n),{},{children:t}))}}]),n}(u.PureComponent);t.a=j},1569:function(e,t,n){"use strict";var a,r,c=n(24),s=n(22),i=n(25),o=n(1),u=s.default.div(a||(a=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  margin: 8px 0;\n\n  svg {\n    margin: 0 12px 0 4px;\n  }\n"]))),d=Object(s.default)(i.Divider)(r||(r=Object(c.a)(["\n  width: 100%;\n"])));t.a=function(e){var t=e.withArrow;return Object(o.jsxs)(u,{children:[t&&Object(o.jsx)(i.Icon,{type:"arrowDown",size:"md"}),Object(o.jsx)(d,{})]})}},1581:function(e,t,n){"use strict";var a,r=n(24),c=n(30),s=n(22),i=n(19),o=n(79),u=n(91),d=n(1566),b=n(10),j=n(151),l=n(163),f=n(1),O=Object(s.default)(j.a)(a||(a=Object(r.a)(["\n  font-size: 12px;\n  line-height: 1.08;\n  letter-spacing: -0.5px;\n  background-color: ",";\n  width: fit-content;\n  padding: 5px 10px;\n  margin-top: ",";\n  margin-left: 40px;\n  border-radius: 3px;\n"])),b.border,b.xs);t.a=function(){var e=Object(c.e)(o.j),t=e.address,n=e.ethBalance,a=e.name,r=Object(i.n)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{hash:t,name:a,explorerUrl:Object(i.i)(t),showAvatar:!0,showCopyBtn:!0}),n&&Object(f.jsx)(O,{children:Object(f.jsxs)(u.a,{noMargin:!0,children:["Balance: ",Object(f.jsx)(d.a,{"data-testid":"current-eth-balance",children:"".concat(n," ").concat(r.symbol)})]})})]})}},1588:function(e,t,n){"use strict";var a=n(622),r=n(788),c=n(122),s=n(91),i=n(1);t.a=function(e){var t=e.onChange;return Object(i.jsxs)(c.a,{margin:"md",children:[Object(i.jsx)(s.a,{noMargin:!0,children:"If you want to sign the transaction now but manually execute it later, click on the checkbox below."}),Object(i.jsx)(a.a,{control:Object(i.jsx)(r.a,{defaultChecked:!0,color:"primary",onChange:function(e){t(e.target.checked)}}),label:"Execute transaction","data-testid":"execute-checkbox"})]})}},1662:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return b}));var a=n(31),r=n(322),c=function(e){return e[r.a]},s=Object(a.a)(c,(function(e){return e})),i=Object(a.a)((function(e){return e[r.b]}),(function(e){return e})),o=Object(a.a)(c,(function(e){return e?Object.values(e):[]})),u=Object(a.a)(i,(function(e){var t=e.map((function(e){return e.assetAddress})),n=new Set(t);return Array.from(n)})),d=Object(a.a)(i,(function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name)}))})),b=Object(a.a)(o,u,(function(e,t){return e.sort((function(e,t){return e.name.localeCompare(t.name)})).filter((function(e){var n=e.address;return t.includes(n)}))}))},1757:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(1877),r=n(1878),c=n(32),s=function(e){return new(Object(c.h)().eth.Contract)(a.abi,e)},i=function(e){return new(Object(c.h)().eth.Contract)(r.abi,e)}}}]);
//# sourceMappingURL=46.3ef75a8a.chunk.js.map